var x2=Object.defineProperty;var C2=(_e,e,St)=>e in _e?x2(_e,e,{enumerable:!0,configurable:!0,writable:!0,value:St}):_e[e]=St;var Fo=(_e,e,St)=>(C2(_e,typeof e!="symbol"?e+"":e,St),St),vm=(_e,e,St)=>{if(!e.has(_e))throw TypeError("Cannot "+St)};var fr=(_e,e,St)=>(vm(_e,e,"read from private field"),St?St.call(_e):e.get(_e)),Xr=(_e,e,St)=>{if(e.has(_e))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(_e):e.set(_e,St)},ds=(_e,e,St,en)=>(vm(_e,e,"write to private field"),en?en.call(_e,St):e.set(_e,St),St),ym=(_e,e,St,en)=>({set _(tn){ds(_e,e,tn,St)},get _(){return fr(_e,e,en)}}),ts=(_e,e,St)=>(vm(_e,e,"access private method"),St);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const tn of document.querySelectorAll('link[rel="modulepreload"]'))en(tn);new MutationObserver(tn=>{for(const nn of tn)if(nn.type==="childList")for(const rn of nn.addedNodes)rn.tagName==="LINK"&&rn.rel==="modulepreload"&&en(rn)}).observe(document,{childList:!0,subtree:!0});function St(tn){const nn={};return tn.integrity&&(nn.integrity=tn.integrity),tn.referrerpolicy&&(nn.referrerPolicy=tn.referrerpolicy),tn.crossorigin==="use-credentials"?nn.credentials="include":tn.crossorigin==="anonymous"?nn.credentials="omit":nn.credentials="same-origin",nn}function en(tn){if(tn.ep)return;tn.ep=!0;const nn=St(tn);fetch(tn.href,nn)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}function getAugmentedNamespace(_e){var e=_e.default;if(typeof e=="function"){var St=function(){return e.apply(this,arguments)};St.prototype=e.prototype}else St={};return Object.defineProperty(St,"__esModule",{value:!0}),Object.keys(_e).forEach(function(en){var tn=Object.getOwnPropertyDescriptor(_e,en);Object.defineProperty(St,en,tn.get?tn:{enumerable:!0,get:function(){return _e[en]}})}),St}var react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$2=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(_e){return _e===null||typeof _e!="object"?null:(_e=z$2&&_e[z$2]||_e["@@iterator"],typeof _e=="function"?_e:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$2(_e,e,St){this.props=_e,this.context=e,this.refs=D$2,this.updater=St||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(_e,e){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,e,"setState")};E$2.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$2(_e,e,St){this.props=_e,this.context=e,this.refs=D$2,this.updater=St||B$2}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$2(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(_e,e,St){var en,tn={},nn=null,rn=null;if(e!=null)for(en in e.ref!==void 0&&(rn=e.ref),e.key!==void 0&&(nn=""+e.key),e)J$1.call(e,en)&&!L$2.hasOwnProperty(en)&&(tn[en]=e[en]);var on=arguments.length-2;if(on===1)tn.children=St;else if(1<on){for(var un=Array(on),cn=0;cn<on;cn++)un[cn]=arguments[cn+2];tn.children=un}if(_e&&_e.defaultProps)for(en in on=_e.defaultProps,on)tn[en]===void 0&&(tn[en]=on[en]);return{$$typeof:l$2,type:_e,key:nn,ref:rn,props:tn,_owner:K$2.current}}function N$2(_e,e){return{$$typeof:l$2,type:_e.type,key:e,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O$2(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===l$2}function escape$1(_e){var e={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(St){return e[St]})}var P$2=/\/+/g;function Q$2(_e,e){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape$1(""+_e.key):e.toString(36)}function R$2(_e,e,St,en,tn){var nn=typeof _e;(nn==="undefined"||nn==="boolean")&&(_e=null);var rn=!1;if(_e===null)rn=!0;else switch(nn){case"string":case"number":rn=!0;break;case"object":switch(_e.$$typeof){case l$2:case n$2:rn=!0}}if(rn)return rn=_e,tn=tn(rn),_e=en===""?"."+Q$2(rn,0):en,I$2(tn)?(St="",_e!=null&&(St=_e.replace(P$2,"$&/")+"/"),R$2(tn,e,St,"",function(cn){return cn})):tn!=null&&(O$2(tn)&&(tn=N$2(tn,St+(!tn.key||rn&&rn.key===tn.key?"":(""+tn.key).replace(P$2,"$&/")+"/")+_e)),e.push(tn)),1;if(rn=0,en=en===""?".":en+":",I$2(_e))for(var on=0;on<_e.length;on++){nn=_e[on];var un=en+Q$2(nn,on);rn+=R$2(nn,e,St,un,tn)}else if(un=A$2(_e),typeof un=="function")for(_e=un.call(_e),on=0;!(nn=_e.next()).done;)nn=nn.value,un=en+Q$2(nn,on++),rn+=R$2(nn,e,St,un,tn);else if(nn==="object")throw e=String(_e),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return rn}function S$2(_e,e,St){if(_e==null)return _e;var en=[],tn=0;return R$2(_e,en,"","",function(nn){return e.call(St,nn,tn++)}),en}function T$2(_e){if(_e._status===-1){var e=_e._result;e=e(),e.then(function(St){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=St)},function(St){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=St)}),_e._status===-1&&(_e._status=0,_e._result=e)}if(_e._status===1)return _e._result.default;throw _e._result}var U$2={current:null},V$2={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};react_production_min.Children={map:S$2,forEach:function(_e,e,St){S$2(_e,function(){e.apply(this,arguments)},St)},count:function(_e){var e=0;return S$2(_e,function(){e++}),e},toArray:function(_e){return S$2(_e,function(e){return e})||[]},only:function(_e){if(!O$2(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}};react_production_min.Component=E$2;react_production_min.Fragment=p$3;react_production_min.Profiler=r;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(_e,e,St){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var en=C$2({},_e.props),tn=_e.key,nn=_e.ref,rn=_e._owner;if(e!=null){if(e.ref!==void 0&&(nn=e.ref,rn=K$2.current),e.key!==void 0&&(tn=""+e.key),_e.type&&_e.type.defaultProps)var on=_e.type.defaultProps;for(un in e)J$1.call(e,un)&&!L$2.hasOwnProperty(un)&&(en[un]=e[un]===void 0&&on!==void 0?on[un]:e[un])}var un=arguments.length-2;if(un===1)en.children=St;else if(1<un){on=Array(un);for(var cn=0;cn<un;cn++)on[cn]=arguments[cn+2];en.children=on}return{$$typeof:l$2,type:_e.type,key:tn,ref:nn,props:en,_owner:rn}};react_production_min.createContext=function(_e){return _e={$$typeof:u$1,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:t,_context:_e},_e.Consumer=_e};react_production_min.createElement=M$2;react_production_min.createFactory=function(_e){var e=M$2.bind(null,_e);return e.type=_e,e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:v$2,render:_e}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(_e){return{$$typeof:y$1,_payload:{_status:-1,_result:_e},_init:T$2}};react_production_min.memo=function(_e,e){return{$$typeof:x$2,type:_e,compare:e===void 0?null:e}};react_production_min.startTransition=function(_e){var e=V$2.transition;V$2.transition={};try{_e()}finally{V$2.transition=e}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(_e,e){return U$2.current.useCallback(_e,e)};react_production_min.useContext=function(_e){return U$2.current.useContext(_e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_e){return U$2.current.useDeferredValue(_e)};react_production_min.useEffect=function(_e,e){return U$2.current.useEffect(_e,e)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(_e,e,St){return U$2.current.useImperativeHandle(_e,e,St)};react_production_min.useInsertionEffect=function(_e,e){return U$2.current.useInsertionEffect(_e,e)};react_production_min.useLayoutEffect=function(_e,e){return U$2.current.useLayoutEffect(_e,e)};react_production_min.useMemo=function(_e,e){return U$2.current.useMemo(_e,e)};react_production_min.useReducer=function(_e,e,St){return U$2.current.useReducer(_e,e,St)};react_production_min.useRef=function(_e){return U$2.current.useRef(_e)};react_production_min.useState=function(_e){return U$2.current.useState(_e)};react_production_min.useSyncExternalStore=function(_e,e,St){return U$2.current.useSyncExternalStore(_e,e,St)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";(function(_e){_e.exports=react_production_min})(react);const React=getDefaultExportFromCjs(react.exports);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_e){function e(Yn,ur){var pr=Yn.length;Yn.push(ur);e:for(;0<pr;){var Lr=pr-1>>>1,Fn=Yn[Lr];if(0<tn(Fn,ur))Yn[Lr]=ur,Yn[pr]=Fn,pr=Lr;else break e}}function St(Yn){return Yn.length===0?null:Yn[0]}function en(Yn){if(Yn.length===0)return null;var ur=Yn[0],pr=Yn.pop();if(pr!==ur){Yn[0]=pr;e:for(var Lr=0,Fn=Yn.length,Rn=Fn>>>1;Lr<Rn;){var Tn=2*(Lr+1)-1,Bn=Yn[Tn],Hn=Tn+1,Kn=Yn[Hn];if(0>tn(Bn,pr))Hn<Fn&&0>tn(Kn,Bn)?(Yn[Lr]=Kn,Yn[Hn]=pr,Lr=Hn):(Yn[Lr]=Bn,Yn[Tn]=pr,Lr=Tn);else if(Hn<Fn&&0>tn(Kn,pr))Yn[Lr]=Kn,Yn[Hn]=pr,Lr=Hn;else break e}}return ur}function tn(Yn,ur){var pr=Yn.sortIndex-ur.sortIndex;return pr!==0?pr:Yn.id-ur.id}if(typeof performance=="object"&&typeof performance.now=="function"){var nn=performance;_e.unstable_now=function(){return nn.now()}}else{var rn=Date,on=rn.now();_e.unstable_now=function(){return rn.now()-on}}var un=[],cn=[],dn=1,Sn=null,mn=3,fn=!1,vn=!1,bn=!1,wn=typeof setTimeout=="function"?setTimeout:null,pn=typeof clearTimeout=="function"?clearTimeout:null,yn=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function An(Yn){for(var ur=St(cn);ur!==null;){if(ur.callback===null)en(cn);else if(ur.startTime<=Yn)en(cn),ur.sortIndex=ur.expirationTime,e(un,ur);else break;ur=St(cn)}}function kn(Yn){if(bn=!1,An(Yn),!vn)if(St(un)!==null)vn=!0,tr(xn);else{var ur=St(cn);ur!==null&&or(kn,ur.startTime-Yn)}}function xn(Yn,ur){vn=!1,bn&&(bn=!1,pn(On),On=-1),fn=!0;var pr=mn;try{for(An(ur),Sn=St(un);Sn!==null&&(!(Sn.expirationTime>ur)||Yn&&!Mn());){var Lr=Sn.callback;if(typeof Lr=="function"){Sn.callback=null,mn=Sn.priorityLevel;var Fn=Lr(Sn.expirationTime<=ur);ur=_e.unstable_now(),typeof Fn=="function"?Sn.callback=Fn:Sn===St(un)&&en(un),An(ur)}else en(un);Sn=St(un)}if(Sn!==null)var Rn=!0;else{var Tn=St(cn);Tn!==null&&or(kn,Tn.startTime-ur),Rn=!1}return Rn}finally{Sn=null,mn=pr,fn=!1}}var Pn=!1,In=null,On=-1,Wn=5,zn=-1;function Mn(){return!(_e.unstable_now()-zn<Wn)}function Gn(){if(In!==null){var Yn=_e.unstable_now();zn=Yn;var ur=!0;try{ur=In(!0,Yn)}finally{ur?er():(Pn=!1,In=null)}}else Pn=!1}var er;if(typeof yn=="function")er=function(){yn(Gn)};else if(typeof MessageChannel<"u"){var Qn=new MessageChannel,ar=Qn.port2;Qn.port1.onmessage=Gn,er=function(){ar.postMessage(null)}}else er=function(){wn(Gn,0)};function tr(Yn){In=Yn,Pn||(Pn=!0,er())}function or(Yn,ur){On=wn(function(){Yn(_e.unstable_now())},ur)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(Yn){Yn.callback=null},_e.unstable_continueExecution=function(){vn||fn||(vn=!0,tr(xn))},_e.unstable_forceFrameRate=function(Yn){0>Yn||125<Yn?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Wn=0<Yn?Math.floor(1e3/Yn):5},_e.unstable_getCurrentPriorityLevel=function(){return mn},_e.unstable_getFirstCallbackNode=function(){return St(un)},_e.unstable_next=function(Yn){switch(mn){case 1:case 2:case 3:var ur=3;break;default:ur=mn}var pr=mn;mn=ur;try{return Yn()}finally{mn=pr}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(Yn,ur){switch(Yn){case 1:case 2:case 3:case 4:case 5:break;default:Yn=3}var pr=mn;mn=Yn;try{return ur()}finally{mn=pr}},_e.unstable_scheduleCallback=function(Yn,ur,pr){var Lr=_e.unstable_now();switch(typeof pr=="object"&&pr!==null?(pr=pr.delay,pr=typeof pr=="number"&&0<pr?Lr+pr:Lr):pr=Lr,Yn){case 1:var Fn=-1;break;case 2:Fn=250;break;case 5:Fn=1073741823;break;case 4:Fn=1e4;break;default:Fn=5e3}return Fn=pr+Fn,Yn={id:dn++,callback:ur,priorityLevel:Yn,startTime:pr,expirationTime:Fn,sortIndex:-1},pr>Lr?(Yn.sortIndex=pr,e(cn,Yn),St(un)===null&&Yn===St(cn)&&(bn?(pn(On),On=-1):bn=!0,or(kn,pr-Lr))):(Yn.sortIndex=Fn,e(un,Yn),vn||fn||(vn=!0,tr(xn))),Yn},_e.unstable_shouldYield=Mn,_e.unstable_wrapCallback=function(Yn){var ur=mn;return function(){var pr=mn;mn=ur;try{return Yn.apply(this,arguments)}finally{mn=pr}}}})(scheduler_production_min);(function(_e){_e.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,ca=scheduler.exports;function p$2(_e){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+_e,St=1;St<arguments.length;St++)e+="&args[]="+encodeURIComponent(arguments[St]);return"Minified React error #"+_e+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_e,e){ha(_e,e),ha(_e+"Capture",e)}function ha(_e,e){for(ea[_e]=e,_e=0;_e<e.length;_e++)da.add(e[_e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_e){return ja.call(ma,_e)?!0:ja.call(la,_e)?!1:ka.test(_e)?ma[_e]=!0:(la[_e]=!0,!1)}function pa(_e,e,St,en){if(St!==null&&St.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return en?!1:St!==null?!St.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function qa(_e,e,St,en){if(e===null||typeof e>"u"||pa(_e,e,St,en))return!0;if(en)return!1;if(St!==null)switch(St.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function v$1(_e,e,St,en,tn,nn,rn){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=en,this.attributeNamespace=tn,this.mustUseProperty=St,this.propertyName=_e,this.type=e,this.sanitizeURL=nn,this.removeEmptyString=rn}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){z$1[_e]=new v$1(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var e=_e[0];z$1[e]=new v$1(e,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){z$1[_e]=new v$1(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){z$1[_e]=new v$1(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){z$1[_e]=new v$1(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){z$1[_e]=new v$1(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){z$1[_e]=new v$1(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){z$1[_e]=new v$1(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){z$1[_e]=new v$1(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var e=_e.replace(ra,sa);z$1[e]=new v$1(e,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var e=_e.replace(ra,sa);z$1[e]=new v$1(e,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var e=_e.replace(ra,sa);z$1[e]=new v$1(e,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){z$1[_e]=new v$1(_e,1,!1,_e.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){z$1[_e]=new v$1(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function ta(_e,e,St,en){var tn=z$1.hasOwnProperty(e)?z$1[e]:null;(tn!==null?tn.type!==0:en||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qa(e,St,tn,en)&&(St=null),en||tn===null?oa(e)&&(St===null?_e.removeAttribute(e):_e.setAttribute(e,""+St)):tn.mustUseProperty?_e[tn.propertyName]=St===null?tn.type===3?!1:"":St:(e=tn.attributeName,en=tn.attributeNamespace,St===null?_e.removeAttribute(e):(tn=tn.type,St=tn===3||tn===4&&St===!0?"":""+St,en?_e.setAttributeNS(en,e,St):_e.setAttribute(e,St))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_e){return _e===null||typeof _e!="object"?null:(_e=Ja&&_e[Ja]||_e["@@iterator"],typeof _e=="function"?_e:null)}var A$1=Object.assign,La;function Ma(_e){if(La===void 0)try{throw Error()}catch(St){var e=St.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+_e}var Na=!1;function Oa(_e,e){if(!_e||Na)return"";Na=!0;var St=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(cn){var en=cn}Reflect.construct(_e,[],e)}else{try{e.call()}catch(cn){en=cn}_e.call(e.prototype)}else{try{throw Error()}catch(cn){en=cn}_e()}}catch(cn){if(cn&&en&&typeof cn.stack=="string"){for(var tn=cn.stack.split(`
`),nn=en.stack.split(`
`),rn=tn.length-1,on=nn.length-1;1<=rn&&0<=on&&tn[rn]!==nn[on];)on--;for(;1<=rn&&0<=on;rn--,on--)if(tn[rn]!==nn[on]){if(rn!==1||on!==1)do if(rn--,on--,0>on||tn[rn]!==nn[on]){var un=`
`+tn[rn].replace(" at new "," at ");return _e.displayName&&un.includes("<anonymous>")&&(un=un.replace("<anonymous>",_e.displayName)),un}while(1<=rn&&0<=on);break}}}finally{Na=!1,Error.prepareStackTrace=St}return(_e=_e?_e.displayName||_e.name:"")?Ma(_e):""}function Pa(_e){switch(_e.tag){case 5:return Ma(_e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _e=Oa(_e.type,!1),_e;case 11:return _e=Oa(_e.type.render,!1),_e;case 1:return _e=Oa(_e.type,!0),_e;default:return""}}function Qa(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case Ca:return(_e.displayName||"Context")+".Consumer";case Ba:return(_e._context.displayName||"Context")+".Provider";case Da:var e=_e.render;return _e=_e.displayName,_e||(_e=e.displayName||e.name||"",_e=_e!==""?"ForwardRef("+_e+")":"ForwardRef"),_e;case Ga:return e=_e.displayName||null,e!==null?e:Qa(_e.type)||"Memo";case Ha:e=_e._payload,_e=_e._init;try{return Qa(_e(e))}catch{}}return null}function Ra(_e){var e=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=e.render,_e=_e.displayName||_e.name||"",e.displayName||(_e!==""?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(e);case 8:return e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return _e;case"object":return _e;default:return""}}function Ta(_e){var e=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ua(_e){var e=Ta(_e)?"checked":"value",St=Object.getOwnPropertyDescriptor(_e.constructor.prototype,e),en=""+_e[e];if(!_e.hasOwnProperty(e)&&typeof St<"u"&&typeof St.get=="function"&&typeof St.set=="function"){var tn=St.get,nn=St.set;return Object.defineProperty(_e,e,{configurable:!0,get:function(){return tn.call(this)},set:function(rn){en=""+rn,nn.call(this,rn)}}),Object.defineProperty(_e,e,{enumerable:St.enumerable}),{getValue:function(){return en},setValue:function(rn){en=""+rn},stopTracking:function(){_e._valueTracker=null,delete _e[e]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var e=_e._valueTracker;if(!e)return!0;var St=e.getValue(),en="";return _e&&(en=Ta(_e)?_e.checked?"true":"false":_e.value),_e=en,_e!==St?(e.setValue(_e),!0):!1}function Xa(_e){if(_e=_e||(typeof document<"u"?document:void 0),typeof _e>"u")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya(_e,e){var St=e.checked;return A$1({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:St!=null?St:_e._wrapperState.initialChecked})}function Za(_e,e){var St=e.defaultValue==null?"":e.defaultValue,en=e.checked!=null?e.checked:e.defaultChecked;St=Sa(e.value!=null?e.value:St),_e._wrapperState={initialChecked:en,initialValue:St,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ab(_e,e){e=e.checked,e!=null&&ta(_e,"checked",e,!1)}function bb(_e,e){ab(_e,e);var St=Sa(e.value),en=e.type;if(St!=null)en==="number"?(St===0&&_e.value===""||_e.value!=St)&&(_e.value=""+St):_e.value!==""+St&&(_e.value=""+St);else if(en==="submit"||en==="reset"){_e.removeAttribute("value");return}e.hasOwnProperty("value")?cb(_e,e.type,St):e.hasOwnProperty("defaultValue")&&cb(_e,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(_e.defaultChecked=!!e.defaultChecked)}function db(_e,e,St){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var en=e.type;if(!(en!=="submit"&&en!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+_e._wrapperState.initialValue,St||e===_e.value||(_e.value=e),_e.defaultValue=e}St=_e.name,St!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,St!==""&&(_e.name=St)}function cb(_e,e,St){(e!=="number"||Xa(_e.ownerDocument)!==_e)&&(St==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+St&&(_e.defaultValue=""+St))}var eb=Array.isArray;function fb(_e,e,St,en){if(_e=_e.options,e){e={};for(var tn=0;tn<St.length;tn++)e["$"+St[tn]]=!0;for(St=0;St<_e.length;St++)tn=e.hasOwnProperty("$"+_e[St].value),_e[St].selected!==tn&&(_e[St].selected=tn),tn&&en&&(_e[St].defaultSelected=!0)}else{for(St=""+Sa(St),e=null,tn=0;tn<_e.length;tn++){if(_e[tn].value===St){_e[tn].selected=!0,en&&(_e[tn].defaultSelected=!0);return}e!==null||_e[tn].disabled||(e=_e[tn])}e!==null&&(e.selected=!0)}}function gb(_e,e){if(e.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},e,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,e){var St=e.value;if(St==null){if(St=e.children,e=e.defaultValue,St!=null){if(e!=null)throw Error(p$2(92));if(eb(St)){if(1<St.length)throw Error(p$2(93));St=St[0]}e=St}e==null&&(e=""),St=e}_e._wrapperState={initialValue:Sa(St)}}function ib(_e,e){var St=Sa(e.value),en=Sa(e.defaultValue);St!=null&&(St=""+St,St!==_e.value&&(_e.value=St),e.defaultValue==null&&_e.defaultValue!==St&&(_e.defaultValue=St)),en!=null&&(_e.defaultValue=""+en)}function jb(_e){var e=_e.textContent;e===_e._wrapperState.initialValue&&e!==""&&e!==null&&(_e.value=e)}function kb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_e,e){return _e==null||_e==="http://www.w3.org/1999/xhtml"?kb(e):_e==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var mb,nb=function(_e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,St,en,tn){MSApp.execUnsafeLocalFunction(function(){return _e(e,St,en,tn)})}:_e}(function(_e,e){if(_e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _e)_e.innerHTML=e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mb.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;e.firstChild;)_e.appendChild(e.firstChild)}});function ob(_e,e){if(e){var St=_e.firstChild;if(St&&St===_e.lastChild&&St.nodeType===3){St.nodeValue=e;return}}_e.textContent=e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_e){qb.forEach(function(e){e=e+_e.charAt(0).toUpperCase()+_e.substring(1),pb[e]=pb[_e]})});function rb(_e,e,St){return e==null||typeof e=="boolean"||e===""?"":St||typeof e!="number"||e===0||pb.hasOwnProperty(_e)&&pb[_e]?(""+e).trim():e+"px"}function sb(_e,e){_e=_e.style;for(var St in e)if(e.hasOwnProperty(St)){var en=St.indexOf("--")===0,tn=rb(St,e[St],en);St==="float"&&(St="cssFloat"),en?_e.setProperty(St,tn):_e[St]=tn}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_e,e){if(e){if(tb[_e]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(p$2(137,_e));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(p$2(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(p$2(61))}if(e.style!=null&&typeof e.style!="object")throw Error(p$2(62))}}function vb(_e,e){if(_e.indexOf("-")===-1)return typeof e.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb=null,zb=null,Ab=null;function Bb(_e){if(_e=Cb(_e)){if(typeof yb!="function")throw Error(p$2(280));var e=_e.stateNode;e&&(e=Db(e),yb(_e.stateNode,_e.type,e))}}function Eb(_e){zb?Ab?Ab.push(_e):Ab=[_e]:zb=_e}function Fb(){if(zb){var _e=zb,e=Ab;if(Ab=zb=null,Bb(_e),e)for(_e=0;_e<e.length;_e++)Bb(e[_e])}}function Gb(_e,e){return _e(e)}function Hb(){}var Ib=!1;function Jb(_e,e,St){if(Ib)return _e(e,St);Ib=!0;try{return Gb(_e,e,St)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_e,e){var St=_e.stateNode;if(St===null)return null;var en=Db(St);if(en===null)return null;St=en[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(en=!en.disabled)||(_e=_e.type,en=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!en;break e;default:_e=!1}if(_e)return null;if(St&&typeof St!="function")throw Error(p$2(231,e,typeof St));return St}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_e,e,St,en,tn,nn,rn,on,un){var cn=Array.prototype.slice.call(arguments,3);try{e.apply(St,cn)}catch(dn){this.onError(dn)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_e){Ob=!0,Pb=_e}};function Tb(_e,e,St,en,tn,nn,rn,on,un){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_e,e,St,en,tn,nn,rn,on,un){if(Tb.apply(this,arguments),Ob){if(Ob){var cn=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=cn)}}function Vb(_e){var e=_e,St=_e;if(_e.alternate)for(;e.return;)e=e.return;else{_e=e;do e=_e,(e.flags&4098)!==0&&(St=e.return),_e=e.return;while(_e)}return e.tag===3?St:null}function Wb(_e){if(_e.tag===13){var e=_e.memoizedState;if(e===null&&(_e=_e.alternate,_e!==null&&(e=_e.memoizedState)),e!==null)return e.dehydrated}return null}function Xb(_e){if(Vb(_e)!==_e)throw Error(p$2(188))}function Yb(_e){var e=_e.alternate;if(!e){if(e=Vb(_e),e===null)throw Error(p$2(188));return e!==_e?null:_e}for(var St=_e,en=e;;){var tn=St.return;if(tn===null)break;var nn=tn.alternate;if(nn===null){if(en=tn.return,en!==null){St=en;continue}break}if(tn.child===nn.child){for(nn=tn.child;nn;){if(nn===St)return Xb(tn),_e;if(nn===en)return Xb(tn),e;nn=nn.sibling}throw Error(p$2(188))}if(St.return!==en.return)St=tn,en=nn;else{for(var rn=!1,on=tn.child;on;){if(on===St){rn=!0,St=tn,en=nn;break}if(on===en){rn=!0,en=tn,St=nn;break}on=on.sibling}if(!rn){for(on=nn.child;on;){if(on===St){rn=!0,St=nn,en=tn;break}if(on===en){rn=!0,en=nn,St=tn;break}on=on.sibling}if(!rn)throw Error(p$2(189))}}if(St.alternate!==en)throw Error(p$2(190))}if(St.tag!==3)throw Error(p$2(188));return St.stateNode.current===St?_e:e}function Zb(_e){return _e=Yb(_e),_e!==null?$b(_e):null}function $b(_e){if(_e.tag===5||_e.tag===6)return _e;for(_e=_e.child;_e!==null;){var e=$b(_e);if(e!==null)return e;_e=_e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc$1=null;function mc(_e){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc,_e,void 0,(_e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_e){return _e>>>=0,_e===0?32:31-(pc(_e)/qc|0)|0}var rc=64,sc=4194304;function tc(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc(_e,e){var St=_e.pendingLanes;if(St===0)return 0;var en=0,tn=_e.suspendedLanes,nn=_e.pingedLanes,rn=St&268435455;if(rn!==0){var on=rn&~tn;on!==0?en=tc(on):(nn&=rn,nn!==0&&(en=tc(nn)))}else rn=St&~tn,rn!==0?en=tc(rn):nn!==0&&(en=tc(nn));if(en===0)return 0;if(e!==0&&e!==en&&(e&tn)===0&&(tn=en&-en,nn=e&-e,tn>=nn||tn===16&&(nn&4194240)!==0))return e;if((en&4)!==0&&(en|=St&16),e=_e.entangledLanes,e!==0)for(_e=_e.entanglements,e&=en;0<e;)St=31-oc(e),tn=1<<St,en|=_e[St],e&=~tn;return en}function vc(_e,e){switch(_e){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_e,e){for(var St=_e.suspendedLanes,en=_e.pingedLanes,tn=_e.expirationTimes,nn=_e.pendingLanes;0<nn;){var rn=31-oc(nn),on=1<<rn,un=tn[rn];un===-1?((on&St)===0||(on&en)!==0)&&(tn[rn]=vc(on,e)):un<=e&&(_e.expiredLanes|=on),nn&=~on}}function xc(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function yc(){var _e=rc;return rc<<=1,(rc&4194240)===0&&(rc=64),_e}function zc(_e){for(var e=[],St=0;31>St;St++)e.push(_e);return e}function Ac(_e,e,St){_e.pendingLanes|=e,e!==536870912&&(_e.suspendedLanes=0,_e.pingedLanes=0),_e=_e.eventTimes,e=31-oc(e),_e[e]=St}function Bc(_e,e){var St=_e.pendingLanes&~e;_e.pendingLanes=e,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=e,_e.mutableReadLanes&=e,_e.entangledLanes&=e,e=_e.entanglements;var en=_e.eventTimes;for(_e=_e.expirationTimes;0<St;){var tn=31-oc(St),nn=1<<tn;e[tn]=0,en[tn]=-1,_e[tn]=-1,St&=~nn}}function Cc(_e,e){var St=_e.entangledLanes|=e;for(_e=_e.entanglements;St;){var en=31-oc(St),tn=1<<en;tn&e|_e[en]&e&&(_e[en]|=e),St&=~tn}}var C$1=0;function Dc(_e){return _e&=-_e,1<_e?4<_e?(_e&268435455)!==0?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_e,e){switch(_e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Tc(_e,e,St,en,tn,nn){return _e===null||_e.nativeEvent!==nn?(_e={blockedOn:e,domEventName:St,eventSystemFlags:en,nativeEvent:nn,targetContainers:[tn]},e!==null&&(e=Cb(e),e!==null&&Fc(e)),_e):(_e.eventSystemFlags|=en,e=_e.targetContainers,tn!==null&&e.indexOf(tn)===-1&&e.push(tn),_e)}function Uc(_e,e,St,en,tn){switch(e){case"focusin":return Lc=Tc(Lc,_e,e,St,en,tn),!0;case"dragenter":return Mc=Tc(Mc,_e,e,St,en,tn),!0;case"mouseover":return Nc=Tc(Nc,_e,e,St,en,tn),!0;case"pointerover":var nn=tn.pointerId;return Oc.set(nn,Tc(Oc.get(nn)||null,_e,e,St,en,tn)),!0;case"gotpointercapture":return nn=tn.pointerId,Pc.set(nn,Tc(Pc.get(nn)||null,_e,e,St,en,tn)),!0}return!1}function Vc(_e){var e=Wc(_e.target);if(e!==null){var St=Vb(e);if(St!==null){if(e=St.tag,e===13){if(e=Wb(St),e!==null){_e.blockedOn=e,Ic(_e.priority,function(){Gc(St)});return}}else if(e===3&&St.stateNode.current.memoizedState.isDehydrated){_e.blockedOn=St.tag===3?St.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function Xc(_e){if(_e.blockedOn!==null)return!1;for(var e=_e.targetContainers;0<e.length;){var St=Yc(_e.domEventName,_e.eventSystemFlags,e[0],_e.nativeEvent);if(St===null){St=_e.nativeEvent;var en=new St.constructor(St.type,St);wb=en,St.target.dispatchEvent(en),wb=null}else return e=Cb(St),e!==null&&Fc(e),_e.blockedOn=St,!1;e.shift()}return!0}function Zc(_e,e,St){Xc(_e)&&St.delete(e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_e,e){_e.blockedOn===e&&(_e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_e){function e(tn){return ad(tn,_e)}if(0<Kc.length){ad(Kc[0],_e);for(var St=1;St<Kc.length;St++){var en=Kc[St];en.blockedOn===_e&&(en.blockedOn=null)}}for(Lc!==null&&ad(Lc,_e),Mc!==null&&ad(Mc,_e),Nc!==null&&ad(Nc,_e),Oc.forEach(e),Pc.forEach(e),St=0;St<Qc.length;St++)en=Qc[St],en.blockedOn===_e&&(en.blockedOn=null);for(;0<Qc.length&&(St=Qc[0],St.blockedOn===null);)Vc(St),St.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(_e,e,St,en){var tn=C$1,nn=cd.transition;cd.transition=null;try{C$1=1,fd$1(_e,e,St,en)}finally{C$1=tn,cd.transition=nn}}function gd(_e,e,St,en){var tn=C$1,nn=cd.transition;cd.transition=null;try{C$1=4,fd$1(_e,e,St,en)}finally{C$1=tn,cd.transition=nn}}function fd$1(_e,e,St,en){if(dd){var tn=Yc(_e,e,St,en);if(tn===null)hd(_e,e,en,id,St),Sc(_e,en);else if(Uc(tn,_e,e,St,en))en.stopPropagation();else if(Sc(_e,en),e&4&&-1<Rc.indexOf(_e)){for(;tn!==null;){var nn=Cb(tn);if(nn!==null&&Ec(nn),nn=Yc(_e,e,St,en),nn===null&&hd(_e,e,en,id,St),nn===tn)break;tn=nn}tn!==null&&en.stopPropagation()}else hd(_e,e,en,null,St)}}var id=null;function Yc(_e,e,St,en){if(id=null,_e=xb(en),_e=Wc(_e),_e!==null)if(e=Vb(_e),e===null)_e=null;else if(St=e.tag,St===13){if(_e=Wb(e),_e!==null)return _e;_e=null}else if(St===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;_e=null}else e!==_e&&(_e=null);return id=_e,null}function jd(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _e,e=ld,St=e.length,en,tn="value"in kd?kd.value:kd.textContent,nn=tn.length;for(_e=0;_e<St&&e[_e]===tn[_e];_e++);var rn=St-_e;for(en=1;en<=rn&&e[St-en]===tn[nn-en];en++);return md=tn.slice(_e,1<en?1-en:void 0)}function od(_e){var e=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&e===13&&(_e=13)):_e=e,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function e(St,en,tn,nn,rn){this._reactName=St,this._targetInst=tn,this.type=en,this.nativeEvent=nn,this.target=rn,this.currentTarget=null;for(var on in _e)_e.hasOwnProperty(on)&&(St=_e[on],this[on]=St?St(nn):nn[on]);return this.isDefaultPrevented=(nn.defaultPrevented!=null?nn.defaultPrevented:nn.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var St=this.nativeEvent;St&&(St.preventDefault?St.preventDefault():typeof St.returnValue!="unknown"&&(St.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var St=this.nativeEvent;St&&(St.stopPropagation?St.stopPropagation():typeof St.cancelBubble!="unknown"&&(St.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd&&(yd&&_e.type==="mousemove"?(wd=_e.screenX-yd.screenX,xd=_e.screenY-yd.screenY):xd=wd=0,yd=_e),wd)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(_e):(_e=Od[_e])?!!e[_e]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(_e){if(_e.key){var e=Md[_e.key]||_e.key;if(e!=="Unidentified")return e}return _e.type==="keypress"?(_e=od(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return _e.type==="keypress"?od(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=String.fromCharCode(32),fe$1=!1;function ge$1(_e,e){switch(_e){case"keyup":return $d.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie$1=!1;function je(_e,e){switch(_e){case"compositionend":return he$1(e);case"keypress":return e.which!==32?null:(fe$1=!0,ee$1);case"textInput":return _e=e.data,_e===ee$1&&fe$1?null:_e;default:return null}}function ke(_e,e){if(ie$1)return _e==="compositionend"||!ae$1&&ge$1(_e,e)?(_e=nd(),md=ld=kd=null,ie$1=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return de$1&&e.locale!=="ko"?null:e.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(_e){var e=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return e==="input"?!!le$1[_e.type]:e==="textarea"}function ne$1(_e,e,St,en){Eb(en),e=oe$1(e,"onChange"),0<e.length&&(St=new td("onChange","change",null,St,en),_e.push({event:St,listeners:e}))}var pe$1=null,qe=null;function re$1(_e){se$1(_e,0)}function te$1(_e){var e=ue$1(_e);if(Wa(e))return _e}function ve$1(_e,e){if(_e==="change")return e}var we$1=!1;if(ia){var xe;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$1=typeof ze.oninput=="function"}xe=ye$1}else xe=!1;we$1=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe=pe$1=null)}function Be(_e){if(_e.propertyName==="value"&&te$1(qe)){var e=[];ne$1(e,qe,_e,xb(_e)),Jb(re$1,e)}}function Ce(_e,e,St){_e==="focusin"?(Ae(),pe$1=e,qe=St,pe$1.attachEvent("onpropertychange",Be)):_e==="focusout"&&Ae()}function De(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te$1(qe)}function Ee(_e,e){if(_e==="click")return te$1(e)}function Fe(_e,e){if(_e==="input"||_e==="change")return te$1(e)}function Ge(_e,e){return _e===e&&(_e!==0||1/_e===1/e)||_e!==_e&&e!==e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(_e,e){if(He(_e,e))return!0;if(typeof _e!="object"||_e===null||typeof e!="object"||e===null)return!1;var St=Object.keys(_e),en=Object.keys(e);if(St.length!==en.length)return!1;for(en=0;en<St.length;en++){var tn=St[en];if(!ja.call(e,tn)||!He(_e[tn],e[tn]))return!1}return!0}function Je(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke(_e,e){var St=Je(_e);_e=0;for(var en;St;){if(St.nodeType===3){if(en=_e+St.textContent.length,_e<=e&&en>=e)return{node:St,offset:e-_e};_e=en}e:{for(;St;){if(St.nextSibling){St=St.nextSibling;break e}St=St.parentNode}St=void 0}St=Je(St)}}function Le$1(_e,e){return _e&&e?_e===e?!0:_e&&_e.nodeType===3?!1:e&&e.nodeType===3?Le$1(_e,e.parentNode):"contains"in _e?_e.contains(e):_e.compareDocumentPosition?!!(_e.compareDocumentPosition(e)&16):!1:!1}function Me(){for(var _e=window,e=Xa();e instanceof _e.HTMLIFrameElement;){try{var St=typeof e.contentWindow.location.href=="string"}catch{St=!1}if(St)_e=e.contentWindow;else break;e=Xa(_e.document)}return e}function Ne$1(_e){var e=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return e&&(e==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||e==="textarea"||_e.contentEditable==="true")}function Oe(_e){var e=Me(),St=_e.focusedElem,en=_e.selectionRange;if(e!==St&&St&&St.ownerDocument&&Le$1(St.ownerDocument.documentElement,St)){if(en!==null&&Ne$1(St)){if(e=en.start,_e=en.end,_e===void 0&&(_e=e),"selectionStart"in St)St.selectionStart=e,St.selectionEnd=Math.min(_e,St.value.length);else if(_e=(e=St.ownerDocument||document)&&e.defaultView||window,_e.getSelection){_e=_e.getSelection();var tn=St.textContent.length,nn=Math.min(en.start,tn);en=en.end===void 0?nn:Math.min(en.end,tn),!_e.extend&&nn>en&&(tn=en,en=nn,nn=tn),tn=Ke(St,nn);var rn=Ke(St,en);tn&&rn&&(_e.rangeCount!==1||_e.anchorNode!==tn.node||_e.anchorOffset!==tn.offset||_e.focusNode!==rn.node||_e.focusOffset!==rn.offset)&&(e=e.createRange(),e.setStart(tn.node,tn.offset),_e.removeAllRanges(),nn>en?(_e.addRange(e),_e.extend(rn.node,rn.offset)):(e.setEnd(rn.node,rn.offset),_e.addRange(e)))}}for(e=[],_e=St;_e=_e.parentNode;)_e.nodeType===1&&e.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof St.focus=="function"&&St.focus(),St=0;St<e.length;St++)_e=e[St],_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(_e,e,St){var en=St.window===St?St.document:St.nodeType===9?St:St.ownerDocument;Te||Qe==null||Qe!==Xa(en)||(en=Qe,"selectionStart"in en&&Ne$1(en)?en={start:en.selectionStart,end:en.selectionEnd}:(en=(en.ownerDocument&&en.ownerDocument.defaultView||window).getSelection(),en={anchorNode:en.anchorNode,anchorOffset:en.anchorOffset,focusNode:en.focusNode,focusOffset:en.focusOffset}),Se&&Ie(Se,en)||(Se=en,en=oe$1(Re,"onSelect"),0<en.length&&(e=new td("onSelect","select",null,e,St),_e.push({event:e,listeners:en}),e.target=Qe)))}function Ve(_e,e){var St={};return St[_e.toLowerCase()]=e.toLowerCase(),St["Webkit"+_e]="webkit"+e,St["Moz"+_e]="moz"+e,St}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(_e){if(Xe[_e])return Xe[_e];if(!We[_e])return _e;var e=We[_e],St;for(St in e)if(e.hasOwnProperty(St)&&St in Ye)return Xe[_e]=e[St];return _e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_e,e){df.set(_e,e),fa(e,[_e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_e,e,St){var en=_e.type||"unknown-event";_e.currentTarget=St,Ub(en,e,void 0,_e),_e.currentTarget=null}function se$1(_e,e){e=(e&4)!==0;for(var St=0;St<_e.length;St++){var en=_e[St],tn=en.event;en=en.listeners;e:{var nn=void 0;if(e)for(var rn=en.length-1;0<=rn;rn--){var on=en[rn],un=on.instance,cn=on.currentTarget;if(on=on.listener,un!==nn&&tn.isPropagationStopped())break e;nf(tn,on,cn),nn=un}else for(rn=0;rn<en.length;rn++){if(on=en[rn],un=on.instance,cn=on.currentTarget,on=on.listener,un!==nn&&tn.isPropagationStopped())break e;nf(tn,on,cn),nn=un}}}if(Qb)throw _e=Rb,Qb=!1,Rb=null,_e}function D$1(_e,e){var St=e[of];St===void 0&&(St=e[of]=new Set);var en=_e+"__bubble";St.has(en)||(pf(e,_e,2,!1),St.add(en))}function qf(_e,e,St){var en=0;e&&(en|=4),pf(St,_e,en,e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[rf]){_e[rf]=!0,da.forEach(function(St){St!=="selectionchange"&&(mf.has(St)||qf(St,!1,_e),qf(St,!0,_e))});var e=_e.nodeType===9?_e:_e.ownerDocument;e===null||e[rf]||(e[rf]=!0,qf("selectionchange",!1,e))}}function pf(_e,e,St,en){switch(jd(e)){case 1:var tn=ed;break;case 4:tn=gd;break;default:tn=fd$1}St=tn.bind(null,e,St,_e),tn=void 0,!Lb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(tn=!0),en?tn!==void 0?_e.addEventListener(e,St,{capture:!0,passive:tn}):_e.addEventListener(e,St,!0):tn!==void 0?_e.addEventListener(e,St,{passive:tn}):_e.addEventListener(e,St,!1)}function hd(_e,e,St,en,tn){var nn=en;if((e&1)===0&&(e&2)===0&&en!==null)e:for(;;){if(en===null)return;var rn=en.tag;if(rn===3||rn===4){var on=en.stateNode.containerInfo;if(on===tn||on.nodeType===8&&on.parentNode===tn)break;if(rn===4)for(rn=en.return;rn!==null;){var un=rn.tag;if((un===3||un===4)&&(un=rn.stateNode.containerInfo,un===tn||un.nodeType===8&&un.parentNode===tn))return;rn=rn.return}for(;on!==null;){if(rn=Wc(on),rn===null)return;if(un=rn.tag,un===5||un===6){en=nn=rn;continue e}on=on.parentNode}}en=en.return}Jb(function(){var cn=nn,dn=xb(St),Sn=[];e:{var mn=df.get(_e);if(mn!==void 0){var fn=td,vn=_e;switch(_e){case"keypress":if(od(St)===0)break e;case"keydown":case"keyup":fn=Rd;break;case"focusin":vn="focus",fn=Fd;break;case"focusout":vn="blur",fn=Fd;break;case"beforeblur":case"afterblur":fn=Fd;break;case"click":if(St.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fn=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fn=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fn=Vd;break;case $e:case af:case bf:fn=Hd;break;case cf:fn=Xd;break;case"scroll":fn=vd;break;case"wheel":fn=Zd;break;case"copy":case"cut":case"paste":fn=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fn=Td}var bn=(e&4)!==0,wn=!bn&&_e==="scroll",pn=bn?mn!==null?mn+"Capture":null:mn;bn=[];for(var yn=cn,An;yn!==null;){An=yn;var kn=An.stateNode;if(An.tag===5&&kn!==null&&(An=kn,pn!==null&&(kn=Kb(yn,pn),kn!=null&&bn.push(tf(yn,kn,An)))),wn)break;yn=yn.return}0<bn.length&&(mn=new fn(mn,vn,null,St,dn),Sn.push({event:mn,listeners:bn}))}}if((e&7)===0){e:{if(mn=_e==="mouseover"||_e==="pointerover",fn=_e==="mouseout"||_e==="pointerout",mn&&St!==wb&&(vn=St.relatedTarget||St.fromElement)&&(Wc(vn)||vn[uf]))break e;if((fn||mn)&&(mn=dn.window===dn?dn:(mn=dn.ownerDocument)?mn.defaultView||mn.parentWindow:window,fn?(vn=St.relatedTarget||St.toElement,fn=cn,vn=vn?Wc(vn):null,vn!==null&&(wn=Vb(vn),vn!==wn||vn.tag!==5&&vn.tag!==6)&&(vn=null)):(fn=null,vn=cn),fn!==vn)){if(bn=Bd,kn="onMouseLeave",pn="onMouseEnter",yn="mouse",(_e==="pointerout"||_e==="pointerover")&&(bn=Td,kn="onPointerLeave",pn="onPointerEnter",yn="pointer"),wn=fn==null?mn:ue$1(fn),An=vn==null?mn:ue$1(vn),mn=new bn(kn,yn+"leave",fn,St,dn),mn.target=wn,mn.relatedTarget=An,kn=null,Wc(dn)===cn&&(bn=new bn(pn,yn+"enter",vn,St,dn),bn.target=An,bn.relatedTarget=wn,kn=bn),wn=kn,fn&&vn)t:{for(bn=fn,pn=vn,yn=0,An=bn;An;An=vf(An))yn++;for(An=0,kn=pn;kn;kn=vf(kn))An++;for(;0<yn-An;)bn=vf(bn),yn--;for(;0<An-yn;)pn=vf(pn),An--;for(;yn--;){if(bn===pn||pn!==null&&bn===pn.alternate)break t;bn=vf(bn),pn=vf(pn)}bn=null}else bn=null;fn!==null&&wf(Sn,mn,fn,bn,!1),vn!==null&&wn!==null&&wf(Sn,wn,vn,bn,!0)}}e:{if(mn=cn?ue$1(cn):window,fn=mn.nodeName&&mn.nodeName.toLowerCase(),fn==="select"||fn==="input"&&mn.type==="file")var xn=ve$1;else if(me$1(mn))if(we$1)xn=Fe;else{xn=De;var Pn=Ce}else(fn=mn.nodeName)&&fn.toLowerCase()==="input"&&(mn.type==="checkbox"||mn.type==="radio")&&(xn=Ee);if(xn&&(xn=xn(_e,cn))){ne$1(Sn,xn,St,dn);break e}Pn&&Pn(_e,mn,cn),_e==="focusout"&&(Pn=mn._wrapperState)&&Pn.controlled&&mn.type==="number"&&cb(mn,"number",mn.value)}switch(Pn=cn?ue$1(cn):window,_e){case"focusin":(me$1(Pn)||Pn.contentEditable==="true")&&(Qe=Pn,Re=cn,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(Sn,St,dn);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(Sn,St,dn)}var In;if(ae$1)e:{switch(_e){case"compositionstart":var On="onCompositionStart";break e;case"compositionend":On="onCompositionEnd";break e;case"compositionupdate":On="onCompositionUpdate";break e}On=void 0}else ie$1?ge$1(_e,St)&&(On="onCompositionEnd"):_e==="keydown"&&St.keyCode===229&&(On="onCompositionStart");On&&(de$1&&St.locale!=="ko"&&(ie$1||On!=="onCompositionStart"?On==="onCompositionEnd"&&ie$1&&(In=nd()):(kd=dn,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),Pn=oe$1(cn,On),0<Pn.length&&(On=new Ld(On,_e,null,St,dn),Sn.push({event:On,listeners:Pn}),In?On.data=In:(In=he$1(St),In!==null&&(On.data=In)))),(In=ce$1?je(_e,St):ke(_e,St))&&(cn=oe$1(cn,"onBeforeInput"),0<cn.length&&(dn=new Ld("onBeforeInput","beforeinput",null,St,dn),Sn.push({event:dn,listeners:cn}),dn.data=In))}se$1(Sn,e)})}function tf(_e,e,St){return{instance:_e,listener:e,currentTarget:St}}function oe$1(_e,e){for(var St=e+"Capture",en=[];_e!==null;){var tn=_e,nn=tn.stateNode;tn.tag===5&&nn!==null&&(tn=nn,nn=Kb(_e,St),nn!=null&&en.unshift(tf(_e,nn,tn)),nn=Kb(_e,e),nn!=null&&en.push(tf(_e,nn,tn))),_e=_e.return}return en}function vf(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function wf(_e,e,St,en,tn){for(var nn=e._reactName,rn=[];St!==null&&St!==en;){var on=St,un=on.alternate,cn=on.stateNode;if(un!==null&&un===en)break;on.tag===5&&cn!==null&&(on=cn,tn?(un=Kb(St,nn),un!=null&&rn.unshift(tf(St,un,on))):tn||(un=Kb(St,nn),un!=null&&rn.push(tf(St,un,on)))),St=St.return}rn.length!==0&&_e.push({event:e,listeners:rn})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_e){return(typeof _e=="string"?_e:""+_e).replace(xf,`
`).replace(yf,"")}function Af(_e,e,St){if(e=zf(e),zf(_e)!==e&&St)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(_e,e){return _e==="textarea"||_e==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_e){return Hf.resolve(null).then(_e).catch(If)}:Ff;function If(_e){setTimeout(function(){throw _e})}function Kf(_e,e){var St=e,en=0;do{var tn=St.nextSibling;if(_e.removeChild(St),tn&&tn.nodeType===8)if(St=tn.data,St==="/$"){if(en===0){_e.removeChild(tn),bd(e);return}en--}else St!=="$"&&St!=="$?"&&St!=="$!"||en++;St=tn}while(St);bd(e)}function Lf(_e){for(;_e!=null;_e=_e.nextSibling){var e=_e.nodeType;if(e===1||e===3)break;if(e===8){if(e=_e.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var e=0;_e;){if(_e.nodeType===8){var St=_e.data;if(St==="$"||St==="$!"||St==="$?"){if(e===0)return _e;e--}else St==="/$"&&e++}_e=_e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_e){var e=_e[Of];if(e)return e;for(var St=_e.parentNode;St;){if(e=St[uf]||St[Of]){if(St=e.alternate,e.child!==null||St!==null&&St.child!==null)for(_e=Mf(_e);_e!==null;){if(St=_e[Of])return St;_e=Mf(_e)}return e}_e=St,St=_e.parentNode}return null}function Cb(_e){return _e=_e[Of]||_e[uf],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue$1(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(p$2(33))}function Db(_e){return _e[Pf]||null}var Sf=[],Tf=-1;function Uf(_e){return{current:_e}}function E$1(_e){0>Tf||(_e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(_e,e){Tf++,Sf[Tf]=_e.current,_e.current=e}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_e,e){var St=_e.type.contextTypes;if(!St)return Vf;var en=_e.stateNode;if(en&&en.__reactInternalMemoizedUnmaskedChildContext===e)return en.__reactInternalMemoizedMaskedChildContext;var tn={},nn;for(nn in St)tn[nn]=e[nn];return en&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=e,_e.__reactInternalMemoizedMaskedChildContext=tn),tn}function Zf(_e){return _e=_e.childContextTypes,_e!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(_e,e,St){if(H$1.current!==Vf)throw Error(p$2(168));G$1(H$1,e),G$1(Wf,St)}function bg(_e,e,St){var en=_e.stateNode;if(e=e.childContextTypes,typeof en.getChildContext!="function")return St;en=en.getChildContext();for(var tn in en)if(!(tn in e))throw Error(p$2(108,Ra(_e)||"Unknown",tn));return A$1({},St,en)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,_e),G$1(Wf,Wf.current),!0}function dg(_e,e,St){var en=_e.stateNode;if(!en)throw Error(p$2(169));St?(_e=bg(_e,e,Xf),en.__reactInternalMemoizedMergedChildContext=_e,E$1(Wf),E$1(H$1),G$1(H$1,_e)):E$1(Wf),G$1(Wf,St)}var eg=null,fg=!1,gg=!1;function hg(_e){eg===null?eg=[_e]:eg.push(_e)}function ig(_e){fg=!0,hg(_e)}function jg(){if(!gg&&eg!==null){gg=!0;var _e=0,e=C$1;try{var St=eg;for(C$1=1;_e<St.length;_e++){var en=St[_e];do en=en(!0);while(en!==null)}eg=null,fg=!1}catch(tn){throw eg!==null&&(eg=eg.slice(_e+1)),ac(fc,jg),tn}finally{C$1=e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_e,e){kg[lg++]=ng,kg[lg++]=mg,mg=_e,ng=e}function ug(_e,e,St){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_e;var en=rg;_e=sg;var tn=32-oc(en)-1;en&=~(1<<tn),St+=1;var nn=32-oc(e)+tn;if(30<nn){var rn=tn-tn%5;nn=(en&(1<<rn)-1).toString(32),en>>=rn,tn-=rn,rg=1<<32-oc(e)+tn|St<<tn|en,sg=nn+_e}else rg=1<<nn|St<<tn|en,sg=_e}function vg(_e){_e.return!==null&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(_e,e){var St=Bg(5,null,null,0);St.elementType="DELETED",St.stateNode=e,St.return=_e,e=_e.deletions,e===null?(_e.deletions=[St],_e.flags|=16):e.push(St)}function Cg(_e,e){switch(_e.tag){case 5:var St=_e.type;return e=e.nodeType!==1||St.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(_e.stateNode=e,xg=_e,yg=Lf(e.firstChild),!0):!1;case 6:return e=_e.pendingProps===""||e.nodeType!==3?null:e,e!==null?(_e.stateNode=e,xg=_e,yg=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(St=qg!==null?{id:rg,overflow:sg}:null,_e.memoizedState={dehydrated:e,treeContext:St,retryLane:1073741824},St=Bg(18,null,null,0),St.stateNode=e,St.return=_e,_e.child=St,xg=_e,yg=null,!0):!1;default:return!1}}function Dg(_e){return(_e.mode&1)!==0&&(_e.flags&128)===0}function Eg(_e){if(I$1){var e=yg;if(e){var St=e;if(!Cg(_e,e)){if(Dg(_e))throw Error(p$2(418));e=Lf(St.nextSibling);var en=xg;e&&Cg(_e,e)?Ag(en,St):(_e.flags=_e.flags&-4097|2,I$1=!1,xg=_e)}}else{if(Dg(_e))throw Error(p$2(418));_e.flags=_e.flags&-4097|2,I$1=!1,xg=_e}}}function Fg(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;xg=_e}function Gg(_e){if(_e!==xg)return!1;if(!I$1)return Fg(_e),I$1=!0,!1;var e;if((e=_e.tag!==3)&&!(e=_e.tag!==5)&&(e=_e.type,e=e!=="head"&&e!=="body"&&!Ef(_e.type,_e.memoizedProps)),e&&(e=yg)){if(Dg(_e))throw Hg(),Error(p$2(418));for(;e;)Ag(_e,e),e=Lf(e.nextSibling)}if(Fg(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$2(317));e:{for(_e=_e.nextSibling,e=0;_e;){if(_e.nodeType===8){var St=_e.data;if(St==="/$"){if(e===0){yg=Lf(_e.nextSibling);break e}e--}else St!=="$"&&St!=="$!"&&St!=="$?"||e++}_e=_e.nextSibling}yg=null}}else yg=xg?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=yg;_e;)_e=Lf(_e.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(_e){zg===null?zg=[_e]:zg.push(_e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(_e,e){if(_e&&_e.defaultProps){e=A$1({},e),_e=_e.defaultProps;for(var St in _e)e[St]===void 0&&(e[St]=_e[St]);return e}return e}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(_e){var e=Mg.current;E$1(Mg),_e._currentValue=e}function Sg(_e,e,St){for(;_e!==null;){var en=_e.alternate;if((_e.childLanes&e)!==e?(_e.childLanes|=e,en!==null&&(en.childLanes|=e)):en!==null&&(en.childLanes&e)!==e&&(en.childLanes|=e),_e===St)break;_e=_e.return}}function Tg(_e,e){Ng=_e,Pg=Og=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&((_e.lanes&e)!==0&&(Ug=!0),_e.firstContext=null)}function Vg(_e){var e=_e._currentValue;if(Pg!==_e)if(_e={context:_e,memoizedValue:e,next:null},Og===null){if(Ng===null)throw Error(p$2(308));Og=_e,Ng.dependencies={lanes:0,firstContext:_e}}else Og=Og.next=_e;return e}var Wg=null;function Xg(_e){Wg===null?Wg=[_e]:Wg.push(_e)}function Yg(_e,e,St,en){var tn=e.interleaved;return tn===null?(St.next=St,Xg(e)):(St.next=tn.next,tn.next=St),e.interleaved=St,Zg(_e,en)}function Zg(_e,e){_e.lanes|=e;var St=_e.alternate;for(St!==null&&(St.lanes|=e),St=_e,_e=_e.return;_e!==null;)_e.childLanes|=e,St=_e.alternate,St!==null&&(St.childLanes|=e),St=_e,_e=_e.return;return St.tag===3?St.stateNode:null}var $g=!1;function ah(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(_e,e){_e=_e.updateQueue,e.updateQueue===_e&&(e.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function ch(_e,e){return{eventTime:_e,lane:e,tag:0,payload:null,callback:null,next:null}}function dh(_e,e,St){var en=_e.updateQueue;if(en===null)return null;if(en=en.shared,(K$1&2)!==0){var tn=en.pending;return tn===null?e.next=e:(e.next=tn.next,tn.next=e),en.pending=e,Zg(_e,St)}return tn=en.interleaved,tn===null?(e.next=e,Xg(en)):(e.next=tn.next,tn.next=e),en.interleaved=e,Zg(_e,St)}function eh(_e,e,St){if(e=e.updateQueue,e!==null&&(e=e.shared,(St&4194240)!==0)){var en=e.lanes;en&=_e.pendingLanes,St|=en,e.lanes=St,Cc(_e,St)}}function fh(_e,e){var St=_e.updateQueue,en=_e.alternate;if(en!==null&&(en=en.updateQueue,St===en)){var tn=null,nn=null;if(St=St.firstBaseUpdate,St!==null){do{var rn={eventTime:St.eventTime,lane:St.lane,tag:St.tag,payload:St.payload,callback:St.callback,next:null};nn===null?tn=nn=rn:nn=nn.next=rn,St=St.next}while(St!==null);nn===null?tn=nn=e:nn=nn.next=e}else tn=nn=e;St={baseState:en.baseState,firstBaseUpdate:tn,lastBaseUpdate:nn,shared:en.shared,effects:en.effects},_e.updateQueue=St;return}_e=St.lastBaseUpdate,_e===null?St.firstBaseUpdate=e:_e.next=e,St.lastBaseUpdate=e}function gh(_e,e,St,en){var tn=_e.updateQueue;$g=!1;var nn=tn.firstBaseUpdate,rn=tn.lastBaseUpdate,on=tn.shared.pending;if(on!==null){tn.shared.pending=null;var un=on,cn=un.next;un.next=null,rn===null?nn=cn:rn.next=cn,rn=un;var dn=_e.alternate;dn!==null&&(dn=dn.updateQueue,on=dn.lastBaseUpdate,on!==rn&&(on===null?dn.firstBaseUpdate=cn:on.next=cn,dn.lastBaseUpdate=un))}if(nn!==null){var Sn=tn.baseState;rn=0,dn=cn=un=null,on=nn;do{var mn=on.lane,fn=on.eventTime;if((en&mn)===mn){dn!==null&&(dn=dn.next={eventTime:fn,lane:0,tag:on.tag,payload:on.payload,callback:on.callback,next:null});e:{var vn=_e,bn=on;switch(mn=e,fn=St,bn.tag){case 1:if(vn=bn.payload,typeof vn=="function"){Sn=vn.call(fn,Sn,mn);break e}Sn=vn;break e;case 3:vn.flags=vn.flags&-65537|128;case 0:if(vn=bn.payload,mn=typeof vn=="function"?vn.call(fn,Sn,mn):vn,mn==null)break e;Sn=A$1({},Sn,mn);break e;case 2:$g=!0}}on.callback!==null&&on.lane!==0&&(_e.flags|=64,mn=tn.effects,mn===null?tn.effects=[on]:mn.push(on))}else fn={eventTime:fn,lane:mn,tag:on.tag,payload:on.payload,callback:on.callback,next:null},dn===null?(cn=dn=fn,un=Sn):dn=dn.next=fn,rn|=mn;if(on=on.next,on===null){if(on=tn.shared.pending,on===null)break;mn=on,on=mn.next,mn.next=null,tn.lastBaseUpdate=mn,tn.shared.pending=null}}while(1);if(dn===null&&(un=Sn),tn.baseState=un,tn.firstBaseUpdate=cn,tn.lastBaseUpdate=dn,e=tn.shared.interleaved,e!==null){tn=e;do rn|=tn.lane,tn=tn.next;while(tn!==e)}else nn===null&&(tn.shared.lanes=0);hh|=rn,_e.lanes=rn,_e.memoizedState=Sn}}function ih(_e,e,St){if(_e=e.effects,e.effects=null,_e!==null)for(e=0;e<_e.length;e++){var en=_e[e],tn=en.callback;if(tn!==null){if(en.callback=null,en=St,typeof tn!="function")throw Error(p$2(191,tn));tn.call(en)}}}var jh=new aa.Component().refs;function kh(_e,e,St,en){e=_e.memoizedState,St=St(en,e),St=St==null?e:A$1({},e,St),_e.memoizedState=St,_e.lanes===0&&(_e.updateQueue.baseState=St)}var nh={isMounted:function(_e){return(_e=_e._reactInternals)?Vb(_e)===_e:!1},enqueueSetState:function(_e,e,St){_e=_e._reactInternals;var en=L$1(),tn=lh(_e),nn=ch(en,tn);nn.payload=e,St!=null&&(nn.callback=St),e=dh(_e,nn,tn),e!==null&&(mh(e,_e,tn,en),eh(e,_e,tn))},enqueueReplaceState:function(_e,e,St){_e=_e._reactInternals;var en=L$1(),tn=lh(_e),nn=ch(en,tn);nn.tag=1,nn.payload=e,St!=null&&(nn.callback=St),e=dh(_e,nn,tn),e!==null&&(mh(e,_e,tn,en),eh(e,_e,tn))},enqueueForceUpdate:function(_e,e){_e=_e._reactInternals;var St=L$1(),en=lh(_e),tn=ch(St,en);tn.tag=2,e!=null&&(tn.callback=e),e=dh(_e,tn,en),e!==null&&(mh(e,_e,en,St),eh(e,_e,en))}};function oh(_e,e,St,en,tn,nn,rn){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(en,nn,rn):e.prototype&&e.prototype.isPureReactComponent?!Ie(St,en)||!Ie(tn,nn):!0}function ph(_e,e,St){var en=!1,tn=Vf,nn=e.contextType;return typeof nn=="object"&&nn!==null?nn=Vg(nn):(tn=Zf(e)?Xf:H$1.current,en=e.contextTypes,nn=(en=en!=null)?Yf(_e,tn):Vf),e=new e(St,nn),_e.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nh,_e.stateNode=e,e._reactInternals=_e,en&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=tn,_e.__reactInternalMemoizedMaskedChildContext=nn),e}function qh(_e,e,St,en){_e=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(St,en),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(St,en),e.state!==_e&&nh.enqueueReplaceState(e,e.state,null)}function rh(_e,e,St,en){var tn=_e.stateNode;tn.props=St,tn.state=_e.memoizedState,tn.refs=jh,ah(_e);var nn=e.contextType;typeof nn=="object"&&nn!==null?tn.context=Vg(nn):(nn=Zf(e)?Xf:H$1.current,tn.context=Yf(_e,nn)),tn.state=_e.memoizedState,nn=e.getDerivedStateFromProps,typeof nn=="function"&&(kh(_e,e,nn,St),tn.state=_e.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof tn.getSnapshotBeforeUpdate=="function"||typeof tn.UNSAFE_componentWillMount!="function"&&typeof tn.componentWillMount!="function"||(e=tn.state,typeof tn.componentWillMount=="function"&&tn.componentWillMount(),typeof tn.UNSAFE_componentWillMount=="function"&&tn.UNSAFE_componentWillMount(),e!==tn.state&&nh.enqueueReplaceState(tn,tn.state,null),gh(_e,St,tn,en),tn.state=_e.memoizedState),typeof tn.componentDidMount=="function"&&(_e.flags|=4194308)}function sh(_e,e,St){if(_e=St.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(St._owner){if(St=St._owner,St){if(St.tag!==1)throw Error(p$2(309));var en=St.stateNode}if(!en)throw Error(p$2(147,_e));var tn=en,nn=""+_e;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===nn?e.ref:(e=function(rn){var on=tn.refs;on===jh&&(on=tn.refs={}),rn===null?delete on[nn]:on[nn]=rn},e._stringRef=nn,e)}if(typeof _e!="string")throw Error(p$2(284));if(!St._owner)throw Error(p$2(290,_e))}return _e}function th(_e,e){throw _e=Object.prototype.toString.call(e),Error(p$2(31,_e==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":_e))}function uh(_e){var e=_e._init;return e(_e._payload)}function vh(_e){function e(pn,yn){if(_e){var An=pn.deletions;An===null?(pn.deletions=[yn],pn.flags|=16):An.push(yn)}}function St(pn,yn){if(!_e)return null;for(;yn!==null;)e(pn,yn),yn=yn.sibling;return null}function en(pn,yn){for(pn=new Map;yn!==null;)yn.key!==null?pn.set(yn.key,yn):pn.set(yn.index,yn),yn=yn.sibling;return pn}function tn(pn,yn){return pn=wh(pn,yn),pn.index=0,pn.sibling=null,pn}function nn(pn,yn,An){return pn.index=An,_e?(An=pn.alternate,An!==null?(An=An.index,An<yn?(pn.flags|=2,yn):An):(pn.flags|=2,yn)):(pn.flags|=1048576,yn)}function rn(pn){return _e&&pn.alternate===null&&(pn.flags|=2),pn}function on(pn,yn,An,kn){return yn===null||yn.tag!==6?(yn=xh(An,pn.mode,kn),yn.return=pn,yn):(yn=tn(yn,An),yn.return=pn,yn)}function un(pn,yn,An,kn){var xn=An.type;return xn===ya?dn(pn,yn,An.props.children,kn,An.key):yn!==null&&(yn.elementType===xn||typeof xn=="object"&&xn!==null&&xn.$$typeof===Ha&&uh(xn)===yn.type)?(kn=tn(yn,An.props),kn.ref=sh(pn,yn,An),kn.return=pn,kn):(kn=yh(An.type,An.key,An.props,null,pn.mode,kn),kn.ref=sh(pn,yn,An),kn.return=pn,kn)}function cn(pn,yn,An,kn){return yn===null||yn.tag!==4||yn.stateNode.containerInfo!==An.containerInfo||yn.stateNode.implementation!==An.implementation?(yn=zh(An,pn.mode,kn),yn.return=pn,yn):(yn=tn(yn,An.children||[]),yn.return=pn,yn)}function dn(pn,yn,An,kn,xn){return yn===null||yn.tag!==7?(yn=Ah(An,pn.mode,kn,xn),yn.return=pn,yn):(yn=tn(yn,An),yn.return=pn,yn)}function Sn(pn,yn,An){if(typeof yn=="string"&&yn!==""||typeof yn=="number")return yn=xh(""+yn,pn.mode,An),yn.return=pn,yn;if(typeof yn=="object"&&yn!==null){switch(yn.$$typeof){case va:return An=yh(yn.type,yn.key,yn.props,null,pn.mode,An),An.ref=sh(pn,null,yn),An.return=pn,An;case wa:return yn=zh(yn,pn.mode,An),yn.return=pn,yn;case Ha:var kn=yn._init;return Sn(pn,kn(yn._payload),An)}if(eb(yn)||Ka(yn))return yn=Ah(yn,pn.mode,An,null),yn.return=pn,yn;th(pn,yn)}return null}function mn(pn,yn,An,kn){var xn=yn!==null?yn.key:null;if(typeof An=="string"&&An!==""||typeof An=="number")return xn!==null?null:on(pn,yn,""+An,kn);if(typeof An=="object"&&An!==null){switch(An.$$typeof){case va:return An.key===xn?un(pn,yn,An,kn):null;case wa:return An.key===xn?cn(pn,yn,An,kn):null;case Ha:return xn=An._init,mn(pn,yn,xn(An._payload),kn)}if(eb(An)||Ka(An))return xn!==null?null:dn(pn,yn,An,kn,null);th(pn,An)}return null}function fn(pn,yn,An,kn,xn){if(typeof kn=="string"&&kn!==""||typeof kn=="number")return pn=pn.get(An)||null,on(yn,pn,""+kn,xn);if(typeof kn=="object"&&kn!==null){switch(kn.$$typeof){case va:return pn=pn.get(kn.key===null?An:kn.key)||null,un(yn,pn,kn,xn);case wa:return pn=pn.get(kn.key===null?An:kn.key)||null,cn(yn,pn,kn,xn);case Ha:var Pn=kn._init;return fn(pn,yn,An,Pn(kn._payload),xn)}if(eb(kn)||Ka(kn))return pn=pn.get(An)||null,dn(yn,pn,kn,xn,null);th(yn,kn)}return null}function vn(pn,yn,An,kn){for(var xn=null,Pn=null,In=yn,On=yn=0,Wn=null;In!==null&&On<An.length;On++){In.index>On?(Wn=In,In=null):Wn=In.sibling;var zn=mn(pn,In,An[On],kn);if(zn===null){In===null&&(In=Wn);break}_e&&In&&zn.alternate===null&&e(pn,In),yn=nn(zn,yn,On),Pn===null?xn=zn:Pn.sibling=zn,Pn=zn,In=Wn}if(On===An.length)return St(pn,In),I$1&&tg(pn,On),xn;if(In===null){for(;On<An.length;On++)In=Sn(pn,An[On],kn),In!==null&&(yn=nn(In,yn,On),Pn===null?xn=In:Pn.sibling=In,Pn=In);return I$1&&tg(pn,On),xn}for(In=en(pn,In);On<An.length;On++)Wn=fn(In,pn,On,An[On],kn),Wn!==null&&(_e&&Wn.alternate!==null&&In.delete(Wn.key===null?On:Wn.key),yn=nn(Wn,yn,On),Pn===null?xn=Wn:Pn.sibling=Wn,Pn=Wn);return _e&&In.forEach(function(Mn){return e(pn,Mn)}),I$1&&tg(pn,On),xn}function bn(pn,yn,An,kn){var xn=Ka(An);if(typeof xn!="function")throw Error(p$2(150));if(An=xn.call(An),An==null)throw Error(p$2(151));for(var Pn=xn=null,In=yn,On=yn=0,Wn=null,zn=An.next();In!==null&&!zn.done;On++,zn=An.next()){In.index>On?(Wn=In,In=null):Wn=In.sibling;var Mn=mn(pn,In,zn.value,kn);if(Mn===null){In===null&&(In=Wn);break}_e&&In&&Mn.alternate===null&&e(pn,In),yn=nn(Mn,yn,On),Pn===null?xn=Mn:Pn.sibling=Mn,Pn=Mn,In=Wn}if(zn.done)return St(pn,In),I$1&&tg(pn,On),xn;if(In===null){for(;!zn.done;On++,zn=An.next())zn=Sn(pn,zn.value,kn),zn!==null&&(yn=nn(zn,yn,On),Pn===null?xn=zn:Pn.sibling=zn,Pn=zn);return I$1&&tg(pn,On),xn}for(In=en(pn,In);!zn.done;On++,zn=An.next())zn=fn(In,pn,On,zn.value,kn),zn!==null&&(_e&&zn.alternate!==null&&In.delete(zn.key===null?On:zn.key),yn=nn(zn,yn,On),Pn===null?xn=zn:Pn.sibling=zn,Pn=zn);return _e&&In.forEach(function(Gn){return e(pn,Gn)}),I$1&&tg(pn,On),xn}function wn(pn,yn,An,kn){if(typeof An=="object"&&An!==null&&An.type===ya&&An.key===null&&(An=An.props.children),typeof An=="object"&&An!==null){switch(An.$$typeof){case va:e:{for(var xn=An.key,Pn=yn;Pn!==null;){if(Pn.key===xn){if(xn=An.type,xn===ya){if(Pn.tag===7){St(pn,Pn.sibling),yn=tn(Pn,An.props.children),yn.return=pn,pn=yn;break e}}else if(Pn.elementType===xn||typeof xn=="object"&&xn!==null&&xn.$$typeof===Ha&&uh(xn)===Pn.type){St(pn,Pn.sibling),yn=tn(Pn,An.props),yn.ref=sh(pn,Pn,An),yn.return=pn,pn=yn;break e}St(pn,Pn);break}else e(pn,Pn);Pn=Pn.sibling}An.type===ya?(yn=Ah(An.props.children,pn.mode,kn,An.key),yn.return=pn,pn=yn):(kn=yh(An.type,An.key,An.props,null,pn.mode,kn),kn.ref=sh(pn,yn,An),kn.return=pn,pn=kn)}return rn(pn);case wa:e:{for(Pn=An.key;yn!==null;){if(yn.key===Pn)if(yn.tag===4&&yn.stateNode.containerInfo===An.containerInfo&&yn.stateNode.implementation===An.implementation){St(pn,yn.sibling),yn=tn(yn,An.children||[]),yn.return=pn,pn=yn;break e}else{St(pn,yn);break}else e(pn,yn);yn=yn.sibling}yn=zh(An,pn.mode,kn),yn.return=pn,pn=yn}return rn(pn);case Ha:return Pn=An._init,wn(pn,yn,Pn(An._payload),kn)}if(eb(An))return vn(pn,yn,An,kn);if(Ka(An))return bn(pn,yn,An,kn);th(pn,An)}return typeof An=="string"&&An!==""||typeof An=="number"?(An=""+An,yn!==null&&yn.tag===6?(St(pn,yn.sibling),yn=tn(yn,An),yn.return=pn,pn=yn):(St(pn,yn),yn=xh(An,pn.mode,kn),yn.return=pn,pn=yn),rn(pn)):St(pn,yn)}return wn}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(_e){if(_e===Dh)throw Error(p$2(174));return _e}function Ih(_e,e){switch(G$1(Gh,e),G$1(Fh,_e),G$1(Eh,Dh),_e=e.nodeType,_e){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lb(null,"");break;default:_e=_e===8?e.parentNode:e,e=_e.namespaceURI||null,_e=_e.tagName,e=lb(e,_e)}E$1(Eh),G$1(Eh,e)}function Jh(){E$1(Eh),E$1(Fh),E$1(Gh)}function Kh(_e){Hh(Gh.current);var e=Hh(Eh.current),St=lb(e,_e.type);e!==St&&(G$1(Fh,_e),G$1(Eh,St))}function Lh(_e){Fh.current===_e&&(E$1(Eh),E$1(Fh))}var M$1=Uf(0);function Mh(_e){for(var e=_e;e!==null;){if(e.tag===13){var St=e.memoizedState;if(St!==null&&(St=St.dehydrated,St===null||St.data==="$?"||St.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===_e)break;for(;e.sibling===null;){if(e.return===null||e.return===_e)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nh=[];function Oh(){for(var _e=0;_e<Nh.length;_e++)Nh[_e]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$1=null,O$1=null,P$1=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$1(){throw Error(p$2(321))}function Wh(_e,e){if(e===null)return!1;for(var St=0;St<e.length&&St<_e.length;St++)if(!He(_e[St],e[St]))return!1;return!0}function Xh(_e,e,St,en,tn,nn){if(Rh=nn,N$1=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ph.current=_e===null||_e.memoizedState===null?Yh:Zh,_e=St(en,tn),Th){nn=0;do{if(Th=!1,Uh=0,25<=nn)throw Error(p$2(301));nn+=1,P$1=O$1=null,e.updateQueue=null,Ph.current=$h,_e=St(en,tn)}while(Th)}if(Ph.current=ai,e=O$1!==null&&O$1.next!==null,Rh=0,P$1=O$1=N$1=null,Sh=!1,e)throw Error(p$2(300));return _e}function bi(){var _e=Uh!==0;return Uh=0,_e}function ci(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N$1.memoizedState=P$1=_e:P$1=P$1.next=_e,P$1}function di(){if(O$1===null){var _e=N$1.alternate;_e=_e!==null?_e.memoizedState:null}else _e=O$1.next;var e=P$1===null?N$1.memoizedState:P$1.next;if(e!==null)P$1=e,O$1=_e;else{if(_e===null)throw Error(p$2(310));O$1=_e,_e={memoizedState:O$1.memoizedState,baseState:O$1.baseState,baseQueue:O$1.baseQueue,queue:O$1.queue,next:null},P$1===null?N$1.memoizedState=P$1=_e:P$1=P$1.next=_e}return P$1}function ei(_e,e){return typeof e=="function"?e(_e):e}function fi(_e){var e=di(),St=e.queue;if(St===null)throw Error(p$2(311));St.lastRenderedReducer=_e;var en=O$1,tn=en.baseQueue,nn=St.pending;if(nn!==null){if(tn!==null){var rn=tn.next;tn.next=nn.next,nn.next=rn}en.baseQueue=tn=nn,St.pending=null}if(tn!==null){nn=tn.next,en=en.baseState;var on=rn=null,un=null,cn=nn;do{var dn=cn.lane;if((Rh&dn)===dn)un!==null&&(un=un.next={lane:0,action:cn.action,hasEagerState:cn.hasEagerState,eagerState:cn.eagerState,next:null}),en=cn.hasEagerState?cn.eagerState:_e(en,cn.action);else{var Sn={lane:dn,action:cn.action,hasEagerState:cn.hasEagerState,eagerState:cn.eagerState,next:null};un===null?(on=un=Sn,rn=en):un=un.next=Sn,N$1.lanes|=dn,hh|=dn}cn=cn.next}while(cn!==null&&cn!==nn);un===null?rn=en:un.next=on,He(en,e.memoizedState)||(Ug=!0),e.memoizedState=en,e.baseState=rn,e.baseQueue=un,St.lastRenderedState=en}if(_e=St.interleaved,_e!==null){tn=_e;do nn=tn.lane,N$1.lanes|=nn,hh|=nn,tn=tn.next;while(tn!==_e)}else tn===null&&(St.lanes=0);return[e.memoizedState,St.dispatch]}function gi(_e){var e=di(),St=e.queue;if(St===null)throw Error(p$2(311));St.lastRenderedReducer=_e;var en=St.dispatch,tn=St.pending,nn=e.memoizedState;if(tn!==null){St.pending=null;var rn=tn=tn.next;do nn=_e(nn,rn.action),rn=rn.next;while(rn!==tn);He(nn,e.memoizedState)||(Ug=!0),e.memoizedState=nn,e.baseQueue===null&&(e.baseState=nn),St.lastRenderedState=nn}return[nn,en]}function hi(){}function ii(_e,e){var St=N$1,en=di(),tn=e(),nn=!He(en.memoizedState,tn);if(nn&&(en.memoizedState=tn,Ug=!0),en=en.queue,ji(ki.bind(null,St,en,_e),[_e]),en.getSnapshot!==e||nn||P$1!==null&&P$1.memoizedState.tag&1){if(St.flags|=2048,li(9,mi.bind(null,St,en,tn,e),void 0,null),R$1===null)throw Error(p$2(349));(Rh&30)!==0||ni(St,e,tn)}return tn}function ni(_e,e,St){_e.flags|=16384,_e={getSnapshot:e,value:St},e=N$1.updateQueue,e===null?(e={lastEffect:null,stores:null},N$1.updateQueue=e,e.stores=[_e]):(St=e.stores,St===null?e.stores=[_e]:St.push(_e))}function mi(_e,e,St,en){e.value=St,e.getSnapshot=en,oi(e)&&pi(_e)}function ki(_e,e,St){return St(function(){oi(e)&&pi(_e)})}function oi(_e){var e=_e.getSnapshot;_e=_e.value;try{var St=e();return!He(_e,St)}catch{return!0}}function pi(_e){var e=Zg(_e,1);e!==null&&mh(e,_e,1,-1)}function qi(_e){var e=ci();return typeof _e=="function"&&(_e=_e()),e.memoizedState=e.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:_e},e.queue=_e,_e=_e.dispatch=ri.bind(null,N$1,_e),[e.memoizedState,_e]}function li(_e,e,St,en){return _e={tag:_e,create:e,destroy:St,deps:en,next:null},e=N$1.updateQueue,e===null?(e={lastEffect:null,stores:null},N$1.updateQueue=e,e.lastEffect=_e.next=_e):(St=e.lastEffect,St===null?e.lastEffect=_e.next=_e:(en=St.next,St.next=_e,_e.next=en,e.lastEffect=_e)),_e}function si(){return di().memoizedState}function ti(_e,e,St,en){var tn=ci();N$1.flags|=_e,tn.memoizedState=li(1|e,St,void 0,en===void 0?null:en)}function ui(_e,e,St,en){var tn=di();en=en===void 0?null:en;var nn=void 0;if(O$1!==null){var rn=O$1.memoizedState;if(nn=rn.destroy,en!==null&&Wh(en,rn.deps)){tn.memoizedState=li(e,St,nn,en);return}}N$1.flags|=_e,tn.memoizedState=li(1|e,St,nn,en)}function vi(_e,e){return ti(8390656,8,_e,e)}function ji(_e,e){return ui(2048,8,_e,e)}function wi(_e,e){return ui(4,2,_e,e)}function xi(_e,e){return ui(4,4,_e,e)}function yi(_e,e){if(typeof e=="function")return _e=_e(),e(_e),function(){e(null)};if(e!=null)return _e=_e(),e.current=_e,function(){e.current=null}}function zi(_e,e,St){return St=St!=null?St.concat([_e]):null,ui(4,4,yi.bind(null,e,_e),St)}function Ai(){}function Bi(_e,e){var St=di();e=e===void 0?null:e;var en=St.memoizedState;return en!==null&&e!==null&&Wh(e,en[1])?en[0]:(St.memoizedState=[_e,e],_e)}function Ci(_e,e){var St=di();e=e===void 0?null:e;var en=St.memoizedState;return en!==null&&e!==null&&Wh(e,en[1])?en[0]:(_e=_e(),St.memoizedState=[_e,e],_e)}function Di(_e,e,St){return(Rh&21)===0?(_e.baseState&&(_e.baseState=!1,Ug=!0),_e.memoizedState=St):(He(St,e)||(St=yc(),N$1.lanes|=St,hh|=St,_e.baseState=!0),e)}function Ei(_e,e){var St=C$1;C$1=St!==0&&4>St?St:4,_e(!0);var en=Qh.transition;Qh.transition={};try{_e(!1),e()}finally{C$1=St,Qh.transition=en}}function Fi(){return di().memoizedState}function Gi(_e,e,St){var en=lh(_e);if(St={lane:en,action:St,hasEagerState:!1,eagerState:null,next:null},Hi(_e))Ii(e,St);else if(St=Yg(_e,e,St,en),St!==null){var tn=L$1();mh(St,_e,en,tn),Ji(St,e,en)}}function ri(_e,e,St){var en=lh(_e),tn={lane:en,action:St,hasEagerState:!1,eagerState:null,next:null};if(Hi(_e))Ii(e,tn);else{var nn=_e.alternate;if(_e.lanes===0&&(nn===null||nn.lanes===0)&&(nn=e.lastRenderedReducer,nn!==null))try{var rn=e.lastRenderedState,on=nn(rn,St);if(tn.hasEagerState=!0,tn.eagerState=on,He(on,rn)){var un=e.interleaved;un===null?(tn.next=tn,Xg(e)):(tn.next=un.next,un.next=tn),e.interleaved=tn;return}}catch{}finally{}St=Yg(_e,e,tn,en),St!==null&&(tn=L$1(),mh(St,_e,en,tn),Ji(St,e,en))}}function Hi(_e){var e=_e.alternate;return _e===N$1||e!==null&&e===N$1}function Ii(_e,e){Th=Sh=!0;var St=_e.pending;St===null?e.next=e:(e.next=St.next,St.next=e),_e.pending=e}function Ji(_e,e,St){if((St&4194240)!==0){var en=e.lanes;en&=_e.pendingLanes,St|=en,e.lanes=St,Cc(_e,St)}}var ai={readContext:Vg,useCallback:Q$1,useContext:Q$1,useEffect:Q$1,useImperativeHandle:Q$1,useInsertionEffect:Q$1,useLayoutEffect:Q$1,useMemo:Q$1,useReducer:Q$1,useRef:Q$1,useState:Q$1,useDebugValue:Q$1,useDeferredValue:Q$1,useTransition:Q$1,useMutableSource:Q$1,useSyncExternalStore:Q$1,useId:Q$1,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(_e,e){return ci().memoizedState=[_e,e===void 0?null:e],_e},useContext:Vg,useEffect:vi,useImperativeHandle:function(_e,e,St){return St=St!=null?St.concat([_e]):null,ti(4194308,4,yi.bind(null,e,_e),St)},useLayoutEffect:function(_e,e){return ti(4194308,4,_e,e)},useInsertionEffect:function(_e,e){return ti(4,2,_e,e)},useMemo:function(_e,e){var St=ci();return e=e===void 0?null:e,_e=_e(),St.memoizedState=[_e,e],_e},useReducer:function(_e,e,St){var en=ci();return e=St!==void 0?St(e):e,en.memoizedState=en.baseState=e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:e},en.queue=_e,_e=_e.dispatch=Gi.bind(null,N$1,_e),[en.memoizedState,_e]},useRef:function(_e){var e=ci();return _e={current:_e},e.memoizedState=_e},useState:qi,useDebugValue:Ai,useDeferredValue:function(_e){return ci().memoizedState=_e},useTransition:function(){var _e=qi(!1),e=_e[0];return _e=Ei.bind(null,_e[1]),ci().memoizedState=_e,[e,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,e,St){var en=N$1,tn=ci();if(I$1){if(St===void 0)throw Error(p$2(407));St=St()}else{if(St=e(),R$1===null)throw Error(p$2(349));(Rh&30)!==0||ni(en,e,St)}tn.memoizedState=St;var nn={value:St,getSnapshot:e};return tn.queue=nn,vi(ki.bind(null,en,nn,_e),[_e]),en.flags|=2048,li(9,mi.bind(null,en,nn,St,e),void 0,null),St},useId:function(){var _e=ci(),e=R$1.identifierPrefix;if(I$1){var St=sg,en=rg;St=(en&~(1<<32-oc(en)-1)).toString(32)+St,e=":"+e+"R"+St,St=Uh++,0<St&&(e+="H"+St.toString(32)),e+=":"}else St=Vh++,e=":"+e+"r"+St.toString(32)+":";return _e.memoizedState=e},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(_e){var e=di();return Di(e,O$1.memoizedState,_e)},useTransition:function(){var _e=fi(ei)[0],e=di().memoizedState;return[_e,e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(_e){var e=di();return O$1===null?e.memoizedState=_e:Di(e,O$1.memoizedState,_e)},useTransition:function(){var _e=gi(ei)[0],e=di().memoizedState;return[_e,e]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(_e,e){try{var St="",en=e;do St+=Pa(en),en=en.return;while(en);var tn=St}catch(nn){tn=`
Error generating stack: `+nn.message+`
`+nn.stack}return{value:_e,source:e,stack:tn,digest:null}}function Li(_e,e,St){return{value:_e,source:null,stack:St!=null?St:null,digest:e!=null?e:null}}function Mi(_e,e){try{console.error(e.value)}catch(St){setTimeout(function(){throw St})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(_e,e,St){St=ch(-1,St),St.tag=3,St.payload={element:null};var en=e.value;return St.callback=function(){Pi||(Pi=!0,Qi=en),Mi(_e,e)},St}function Ri(_e,e,St){St=ch(-1,St),St.tag=3;var en=_e.type.getDerivedStateFromError;if(typeof en=="function"){var tn=e.value;St.payload=function(){return en(tn)},St.callback=function(){Mi(_e,e)}}var nn=_e.stateNode;return nn!==null&&typeof nn.componentDidCatch=="function"&&(St.callback=function(){Mi(_e,e),typeof en!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var rn=e.stack;this.componentDidCatch(e.value,{componentStack:rn!==null?rn:""})}),St}function Ti(_e,e,St){var en=_e.pingCache;if(en===null){en=_e.pingCache=new Ni;var tn=new Set;en.set(e,tn)}else tn=en.get(e),tn===void 0&&(tn=new Set,en.set(e,tn));tn.has(St)||(tn.add(St),_e=Ui.bind(null,_e,e,St),e.then(_e,_e))}function Vi(_e){do{var e;if((e=_e.tag===13)&&(e=_e.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return _e;_e=_e.return}while(_e!==null);return null}function Wi(_e,e,St,en,tn){return(_e.mode&1)===0?(_e===e?_e.flags|=65536:(_e.flags|=128,St.flags|=131072,St.flags&=-52805,St.tag===1&&(St.alternate===null?St.tag=17:(e=ch(-1,1),e.tag=2,dh(St,e,1))),St.lanes|=1),_e):(_e.flags|=65536,_e.lanes=tn,_e)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(_e,e,St,en){e.child=_e===null?Ch(e,null,St,en):Bh(e,_e.child,St,en)}function Zi(_e,e,St,en,tn){St=St.render;var nn=e.ref;return Tg(e,tn),en=Xh(_e,e,St,en,nn,tn),St=bi(),_e!==null&&!Ug?(e.updateQueue=_e.updateQueue,e.flags&=-2053,_e.lanes&=~tn,$i(_e,e,tn)):(I$1&&St&&vg(e),e.flags|=1,Yi(_e,e,en,tn),e.child)}function aj(_e,e,St,en,tn){if(_e===null){var nn=St.type;return typeof nn=="function"&&!bj(nn)&&nn.defaultProps===void 0&&St.compare===null&&St.defaultProps===void 0?(e.tag=15,e.type=nn,cj(_e,e,nn,en,tn)):(_e=yh(St.type,null,en,e,e.mode,tn),_e.ref=e.ref,_e.return=e,e.child=_e)}if(nn=_e.child,(_e.lanes&tn)===0){var rn=nn.memoizedProps;if(St=St.compare,St=St!==null?St:Ie,St(rn,en)&&_e.ref===e.ref)return $i(_e,e,tn)}return e.flags|=1,_e=wh(nn,en),_e.ref=e.ref,_e.return=e,e.child=_e}function cj(_e,e,St,en,tn){if(_e!==null){var nn=_e.memoizedProps;if(Ie(nn,en)&&_e.ref===e.ref)if(Ug=!1,e.pendingProps=en=nn,(_e.lanes&tn)!==0)(_e.flags&131072)!==0&&(Ug=!0);else return e.lanes=_e.lanes,$i(_e,e,tn)}return dj(_e,e,St,en,tn)}function ej(_e,e,St){var en=e.pendingProps,tn=en.children,nn=_e!==null?_e.memoizedState:null;if(en.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=St;else{if((St&1073741824)===0)return _e=nn!==null?nn.baseLanes|St:St,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:_e,cachePool:null,transitions:null},e.updateQueue=null,G$1(fj,gj),gj|=_e,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},en=nn!==null?nn.baseLanes:St,G$1(fj,gj),gj|=en}else nn!==null?(en=nn.baseLanes|St,e.memoizedState=null):en=St,G$1(fj,gj),gj|=en;return Yi(_e,e,tn,St),e.child}function hj(_e,e){var St=e.ref;(_e===null&&St!==null||_e!==null&&_e.ref!==St)&&(e.flags|=512,e.flags|=2097152)}function dj(_e,e,St,en,tn){var nn=Zf(St)?Xf:H$1.current;return nn=Yf(e,nn),Tg(e,tn),St=Xh(_e,e,St,en,nn,tn),en=bi(),_e!==null&&!Ug?(e.updateQueue=_e.updateQueue,e.flags&=-2053,_e.lanes&=~tn,$i(_e,e,tn)):(I$1&&en&&vg(e),e.flags|=1,Yi(_e,e,St,tn),e.child)}function ij(_e,e,St,en,tn){if(Zf(St)){var nn=!0;cg(e)}else nn=!1;if(Tg(e,tn),e.stateNode===null)jj(_e,e),ph(e,St,en),rh(e,St,en,tn),en=!0;else if(_e===null){var rn=e.stateNode,on=e.memoizedProps;rn.props=on;var un=rn.context,cn=St.contextType;typeof cn=="object"&&cn!==null?cn=Vg(cn):(cn=Zf(St)?Xf:H$1.current,cn=Yf(e,cn));var dn=St.getDerivedStateFromProps,Sn=typeof dn=="function"||typeof rn.getSnapshotBeforeUpdate=="function";Sn||typeof rn.UNSAFE_componentWillReceiveProps!="function"&&typeof rn.componentWillReceiveProps!="function"||(on!==en||un!==cn)&&qh(e,rn,en,cn),$g=!1;var mn=e.memoizedState;rn.state=mn,gh(e,en,rn,tn),un=e.memoizedState,on!==en||mn!==un||Wf.current||$g?(typeof dn=="function"&&(kh(e,St,dn,en),un=e.memoizedState),(on=$g||oh(e,St,on,en,mn,un,cn))?(Sn||typeof rn.UNSAFE_componentWillMount!="function"&&typeof rn.componentWillMount!="function"||(typeof rn.componentWillMount=="function"&&rn.componentWillMount(),typeof rn.UNSAFE_componentWillMount=="function"&&rn.UNSAFE_componentWillMount()),typeof rn.componentDidMount=="function"&&(e.flags|=4194308)):(typeof rn.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=en,e.memoizedState=un),rn.props=en,rn.state=un,rn.context=cn,en=on):(typeof rn.componentDidMount=="function"&&(e.flags|=4194308),en=!1)}else{rn=e.stateNode,bh(_e,e),on=e.memoizedProps,cn=e.type===e.elementType?on:Lg(e.type,on),rn.props=cn,Sn=e.pendingProps,mn=rn.context,un=St.contextType,typeof un=="object"&&un!==null?un=Vg(un):(un=Zf(St)?Xf:H$1.current,un=Yf(e,un));var fn=St.getDerivedStateFromProps;(dn=typeof fn=="function"||typeof rn.getSnapshotBeforeUpdate=="function")||typeof rn.UNSAFE_componentWillReceiveProps!="function"&&typeof rn.componentWillReceiveProps!="function"||(on!==Sn||mn!==un)&&qh(e,rn,en,un),$g=!1,mn=e.memoizedState,rn.state=mn,gh(e,en,rn,tn);var vn=e.memoizedState;on!==Sn||mn!==vn||Wf.current||$g?(typeof fn=="function"&&(kh(e,St,fn,en),vn=e.memoizedState),(cn=$g||oh(e,St,cn,en,mn,vn,un)||!1)?(dn||typeof rn.UNSAFE_componentWillUpdate!="function"&&typeof rn.componentWillUpdate!="function"||(typeof rn.componentWillUpdate=="function"&&rn.componentWillUpdate(en,vn,un),typeof rn.UNSAFE_componentWillUpdate=="function"&&rn.UNSAFE_componentWillUpdate(en,vn,un)),typeof rn.componentDidUpdate=="function"&&(e.flags|=4),typeof rn.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof rn.componentDidUpdate!="function"||on===_e.memoizedProps&&mn===_e.memoizedState||(e.flags|=4),typeof rn.getSnapshotBeforeUpdate!="function"||on===_e.memoizedProps&&mn===_e.memoizedState||(e.flags|=1024),e.memoizedProps=en,e.memoizedState=vn),rn.props=en,rn.state=vn,rn.context=un,en=cn):(typeof rn.componentDidUpdate!="function"||on===_e.memoizedProps&&mn===_e.memoizedState||(e.flags|=4),typeof rn.getSnapshotBeforeUpdate!="function"||on===_e.memoizedProps&&mn===_e.memoizedState||(e.flags|=1024),en=!1)}return kj(_e,e,St,en,nn,tn)}function kj(_e,e,St,en,tn,nn){hj(_e,e);var rn=(e.flags&128)!==0;if(!en&&!rn)return tn&&dg(e,St,!1),$i(_e,e,nn);en=e.stateNode,Xi.current=e;var on=rn&&typeof St.getDerivedStateFromError!="function"?null:en.render();return e.flags|=1,_e!==null&&rn?(e.child=Bh(e,_e.child,null,nn),e.child=Bh(e,null,on,nn)):Yi(_e,e,on,nn),e.memoizedState=en.state,tn&&dg(e,St,!0),e.child}function lj(_e){var e=_e.stateNode;e.pendingContext?ag(_e,e.pendingContext,e.pendingContext!==e.context):e.context&&ag(_e,e.context,!1),Ih(_e,e.containerInfo)}function mj(_e,e,St,en,tn){return Ig(),Jg(tn),e.flags|=256,Yi(_e,e,St,en),e.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function pj(_e,e,St){var en=e.pendingProps,tn=M$1.current,nn=!1,rn=(e.flags&128)!==0,on;if((on=rn)||(on=_e!==null&&_e.memoizedState===null?!1:(tn&2)!==0),on?(nn=!0,e.flags&=-129):(_e===null||_e.memoizedState!==null)&&(tn|=1),G$1(M$1,tn&1),_e===null)return Eg(e),_e=e.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null)?((e.mode&1)===0?e.lanes=1:_e.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(rn=en.children,_e=en.fallback,nn?(en=e.mode,nn=e.child,rn={mode:"hidden",children:rn},(en&1)===0&&nn!==null?(nn.childLanes=0,nn.pendingProps=rn):nn=qj(rn,en,0,null),_e=Ah(_e,en,St,null),nn.return=e,_e.return=e,nn.sibling=_e,e.child=nn,e.child.memoizedState=oj(St),e.memoizedState=nj,_e):rj(e,rn));if(tn=_e.memoizedState,tn!==null&&(on=tn.dehydrated,on!==null))return sj(_e,e,rn,en,on,tn,St);if(nn){nn=en.fallback,rn=e.mode,tn=_e.child,on=tn.sibling;var un={mode:"hidden",children:en.children};return(rn&1)===0&&e.child!==tn?(en=e.child,en.childLanes=0,en.pendingProps=un,e.deletions=null):(en=wh(tn,un),en.subtreeFlags=tn.subtreeFlags&14680064),on!==null?nn=wh(on,nn):(nn=Ah(nn,rn,St,null),nn.flags|=2),nn.return=e,en.return=e,en.sibling=nn,e.child=en,en=nn,nn=e.child,rn=_e.child.memoizedState,rn=rn===null?oj(St):{baseLanes:rn.baseLanes|St,cachePool:null,transitions:rn.transitions},nn.memoizedState=rn,nn.childLanes=_e.childLanes&~St,e.memoizedState=nj,en}return nn=_e.child,_e=nn.sibling,en=wh(nn,{mode:"visible",children:en.children}),(e.mode&1)===0&&(en.lanes=St),en.return=e,en.sibling=null,_e!==null&&(St=e.deletions,St===null?(e.deletions=[_e],e.flags|=16):St.push(_e)),e.child=en,e.memoizedState=null,en}function rj(_e,e){return e=qj({mode:"visible",children:e},_e.mode,0,null),e.return=_e,_e.child=e}function tj(_e,e,St,en){return en!==null&&Jg(en),Bh(e,_e.child,null,St),_e=rj(e,e.pendingProps.children),_e.flags|=2,e.memoizedState=null,_e}function sj(_e,e,St,en,tn,nn,rn){if(St)return e.flags&256?(e.flags&=-257,en=Li(Error(p$2(422))),tj(_e,e,rn,en)):e.memoizedState!==null?(e.child=_e.child,e.flags|=128,null):(nn=en.fallback,tn=e.mode,en=qj({mode:"visible",children:en.children},tn,0,null),nn=Ah(nn,tn,rn,null),nn.flags|=2,en.return=e,nn.return=e,en.sibling=nn,e.child=en,(e.mode&1)!==0&&Bh(e,_e.child,null,rn),e.child.memoizedState=oj(rn),e.memoizedState=nj,nn);if((e.mode&1)===0)return tj(_e,e,rn,null);if(tn.data==="$!"){if(en=tn.nextSibling&&tn.nextSibling.dataset,en)var on=en.dgst;return en=on,nn=Error(p$2(419)),en=Li(nn,en,void 0),tj(_e,e,rn,en)}if(on=(rn&_e.childLanes)!==0,Ug||on){if(en=R$1,en!==null){switch(rn&-rn){case 4:tn=2;break;case 16:tn=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:tn=32;break;case 536870912:tn=268435456;break;default:tn=0}tn=(tn&(en.suspendedLanes|rn))!==0?0:tn,tn!==0&&tn!==nn.retryLane&&(nn.retryLane=tn,Zg(_e,tn),mh(en,_e,tn,-1))}return uj(),en=Li(Error(p$2(421))),tj(_e,e,rn,en)}return tn.data==="$?"?(e.flags|=128,e.child=_e.child,e=vj.bind(null,_e),tn._reactRetry=e,null):(_e=nn.treeContext,yg=Lf(tn.nextSibling),xg=e,I$1=!0,zg=null,_e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_e.id,sg=_e.overflow,qg=e),e=rj(e,en.children),e.flags|=4096,e)}function wj(_e,e,St){_e.lanes|=e;var en=_e.alternate;en!==null&&(en.lanes|=e),Sg(_e.return,e,St)}function xj(_e,e,St,en,tn){var nn=_e.memoizedState;nn===null?_e.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:en,tail:St,tailMode:tn}:(nn.isBackwards=e,nn.rendering=null,nn.renderingStartTime=0,nn.last=en,nn.tail=St,nn.tailMode=tn)}function yj(_e,e,St){var en=e.pendingProps,tn=en.revealOrder,nn=en.tail;if(Yi(_e,e,en.children,St),en=M$1.current,(en&2)!==0)en=en&1|2,e.flags|=128;else{if(_e!==null&&(_e.flags&128)!==0)e:for(_e=e.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&wj(_e,St,e);else if(_e.tag===19)wj(_e,St,e);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===e)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===e)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}en&=1}if(G$1(M$1,en),(e.mode&1)===0)e.memoizedState=null;else switch(tn){case"forwards":for(St=e.child,tn=null;St!==null;)_e=St.alternate,_e!==null&&Mh(_e)===null&&(tn=St),St=St.sibling;St=tn,St===null?(tn=e.child,e.child=null):(tn=St.sibling,St.sibling=null),xj(e,!1,tn,St,nn);break;case"backwards":for(St=null,tn=e.child,e.child=null;tn!==null;){if(_e=tn.alternate,_e!==null&&Mh(_e)===null){e.child=tn;break}_e=tn.sibling,tn.sibling=St,St=tn,tn=_e}xj(e,!0,St,null,nn);break;case"together":xj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jj(_e,e){(e.mode&1)===0&&_e!==null&&(_e.alternate=null,e.alternate=null,e.flags|=2)}function $i(_e,e,St){if(_e!==null&&(e.dependencies=_e.dependencies),hh|=e.lanes,(St&e.childLanes)===0)return null;if(_e!==null&&e.child!==_e.child)throw Error(p$2(153));if(e.child!==null){for(_e=e.child,St=wh(_e,_e.pendingProps),e.child=St,St.return=e;_e.sibling!==null;)_e=_e.sibling,St=St.sibling=wh(_e,_e.pendingProps),St.return=e;St.sibling=null}return e.child}function zj(_e,e,St){switch(e.tag){case 3:lj(e),Ig();break;case 5:Kh(e);break;case 1:Zf(e.type)&&cg(e);break;case 4:Ih(e,e.stateNode.containerInfo);break;case 10:var en=e.type._context,tn=e.memoizedProps.value;G$1(Mg,en._currentValue),en._currentValue=tn;break;case 13:if(en=e.memoizedState,en!==null)return en.dehydrated!==null?(G$1(M$1,M$1.current&1),e.flags|=128,null):(St&e.child.childLanes)!==0?pj(_e,e,St):(G$1(M$1,M$1.current&1),_e=$i(_e,e,St),_e!==null?_e.sibling:null);G$1(M$1,M$1.current&1);break;case 19:if(en=(St&e.childLanes)!==0,(_e.flags&128)!==0){if(en)return yj(_e,e,St);e.flags|=128}if(tn=e.memoizedState,tn!==null&&(tn.rendering=null,tn.tail=null,tn.lastEffect=null),G$1(M$1,M$1.current),en)break;return null;case 22:case 23:return e.lanes=0,ej(_e,e,St)}return $i(_e,e,St)}var Aj,Bj,Cj,Dj;Aj=function(_e,e){for(var St=e.child;St!==null;){if(St.tag===5||St.tag===6)_e.appendChild(St.stateNode);else if(St.tag!==4&&St.child!==null){St.child.return=St,St=St.child;continue}if(St===e)break;for(;St.sibling===null;){if(St.return===null||St.return===e)return;St=St.return}St.sibling.return=St.return,St=St.sibling}};Bj=function(){};Cj=function(_e,e,St,en){var tn=_e.memoizedProps;if(tn!==en){_e=e.stateNode,Hh(Eh.current);var nn=null;switch(St){case"input":tn=Ya(_e,tn),en=Ya(_e,en),nn=[];break;case"select":tn=A$1({},tn,{value:void 0}),en=A$1({},en,{value:void 0}),nn=[];break;case"textarea":tn=gb(_e,tn),en=gb(_e,en),nn=[];break;default:typeof tn.onClick!="function"&&typeof en.onClick=="function"&&(_e.onclick=Bf)}ub(St,en);var rn;St=null;for(cn in tn)if(!en.hasOwnProperty(cn)&&tn.hasOwnProperty(cn)&&tn[cn]!=null)if(cn==="style"){var on=tn[cn];for(rn in on)on.hasOwnProperty(rn)&&(St||(St={}),St[rn]="")}else cn!=="dangerouslySetInnerHTML"&&cn!=="children"&&cn!=="suppressContentEditableWarning"&&cn!=="suppressHydrationWarning"&&cn!=="autoFocus"&&(ea.hasOwnProperty(cn)?nn||(nn=[]):(nn=nn||[]).push(cn,null));for(cn in en){var un=en[cn];if(on=tn!=null?tn[cn]:void 0,en.hasOwnProperty(cn)&&un!==on&&(un!=null||on!=null))if(cn==="style")if(on){for(rn in on)!on.hasOwnProperty(rn)||un&&un.hasOwnProperty(rn)||(St||(St={}),St[rn]="");for(rn in un)un.hasOwnProperty(rn)&&on[rn]!==un[rn]&&(St||(St={}),St[rn]=un[rn])}else St||(nn||(nn=[]),nn.push(cn,St)),St=un;else cn==="dangerouslySetInnerHTML"?(un=un?un.__html:void 0,on=on?on.__html:void 0,un!=null&&on!==un&&(nn=nn||[]).push(cn,un)):cn==="children"?typeof un!="string"&&typeof un!="number"||(nn=nn||[]).push(cn,""+un):cn!=="suppressContentEditableWarning"&&cn!=="suppressHydrationWarning"&&(ea.hasOwnProperty(cn)?(un!=null&&cn==="onScroll"&&D$1("scroll",_e),nn||on===un||(nn=[])):(nn=nn||[]).push(cn,un))}St&&(nn=nn||[]).push("style",St);var cn=nn;(e.updateQueue=cn)&&(e.flags|=4)}};Dj=function(_e,e,St,en){St!==en&&(e.flags|=4)};function Ej(_e,e){if(!I$1)switch(_e.tailMode){case"hidden":e=_e.tail;for(var St=null;e!==null;)e.alternate!==null&&(St=e),e=e.sibling;St===null?_e.tail=null:St.sibling=null;break;case"collapsed":St=_e.tail;for(var en=null;St!==null;)St.alternate!==null&&(en=St),St=St.sibling;en===null?e||_e.tail===null?_e.tail=null:_e.tail.sibling=null:en.sibling=null}}function S$1(_e){var e=_e.alternate!==null&&_e.alternate.child===_e.child,St=0,en=0;if(e)for(var tn=_e.child;tn!==null;)St|=tn.lanes|tn.childLanes,en|=tn.subtreeFlags&14680064,en|=tn.flags&14680064,tn.return=_e,tn=tn.sibling;else for(tn=_e.child;tn!==null;)St|=tn.lanes|tn.childLanes,en|=tn.subtreeFlags,en|=tn.flags,tn.return=_e,tn=tn.sibling;return _e.subtreeFlags|=en,_e.childLanes=St,e}function Fj(_e,e,St){var en=e.pendingProps;switch(wg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(e),null;case 1:return Zf(e.type)&&$f(),S$1(e),null;case 3:return en=e.stateNode,Jh(),E$1(Wf),E$1(H$1),Oh(),en.pendingContext&&(en.context=en.pendingContext,en.pendingContext=null),(_e===null||_e.child===null)&&(Gg(e)?e.flags|=4:_e===null||_e.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(_e,e),S$1(e),null;case 5:Lh(e);var tn=Hh(Gh.current);if(St=e.type,_e!==null&&e.stateNode!=null)Cj(_e,e,St,en,tn),_e.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!en){if(e.stateNode===null)throw Error(p$2(166));return S$1(e),null}if(_e=Hh(Eh.current),Gg(e)){en=e.stateNode,St=e.type;var nn=e.memoizedProps;switch(en[Of]=e,en[Pf]=nn,_e=(e.mode&1)!==0,St){case"dialog":D$1("cancel",en),D$1("close",en);break;case"iframe":case"object":case"embed":D$1("load",en);break;case"video":case"audio":for(tn=0;tn<lf.length;tn++)D$1(lf[tn],en);break;case"source":D$1("error",en);break;case"img":case"image":case"link":D$1("error",en),D$1("load",en);break;case"details":D$1("toggle",en);break;case"input":Za(en,nn),D$1("invalid",en);break;case"select":en._wrapperState={wasMultiple:!!nn.multiple},D$1("invalid",en);break;case"textarea":hb(en,nn),D$1("invalid",en)}ub(St,nn),tn=null;for(var rn in nn)if(nn.hasOwnProperty(rn)){var on=nn[rn];rn==="children"?typeof on=="string"?en.textContent!==on&&(nn.suppressHydrationWarning!==!0&&Af(en.textContent,on,_e),tn=["children",on]):typeof on=="number"&&en.textContent!==""+on&&(nn.suppressHydrationWarning!==!0&&Af(en.textContent,on,_e),tn=["children",""+on]):ea.hasOwnProperty(rn)&&on!=null&&rn==="onScroll"&&D$1("scroll",en)}switch(St){case"input":Va(en),db(en,nn,!0);break;case"textarea":Va(en),jb(en);break;case"select":case"option":break;default:typeof nn.onClick=="function"&&(en.onclick=Bf)}en=tn,e.updateQueue=en,en!==null&&(e.flags|=4)}else{rn=tn.nodeType===9?tn:tn.ownerDocument,_e==="http://www.w3.org/1999/xhtml"&&(_e=kb(St)),_e==="http://www.w3.org/1999/xhtml"?St==="script"?(_e=rn.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof en.is=="string"?_e=rn.createElement(St,{is:en.is}):(_e=rn.createElement(St),St==="select"&&(rn=_e,en.multiple?rn.multiple=!0:en.size&&(rn.size=en.size))):_e=rn.createElementNS(_e,St),_e[Of]=e,_e[Pf]=en,Aj(_e,e,!1,!1),e.stateNode=_e;e:{switch(rn=vb(St,en),St){case"dialog":D$1("cancel",_e),D$1("close",_e),tn=en;break;case"iframe":case"object":case"embed":D$1("load",_e),tn=en;break;case"video":case"audio":for(tn=0;tn<lf.length;tn++)D$1(lf[tn],_e);tn=en;break;case"source":D$1("error",_e),tn=en;break;case"img":case"image":case"link":D$1("error",_e),D$1("load",_e),tn=en;break;case"details":D$1("toggle",_e),tn=en;break;case"input":Za(_e,en),tn=Ya(_e,en),D$1("invalid",_e);break;case"option":tn=en;break;case"select":_e._wrapperState={wasMultiple:!!en.multiple},tn=A$1({},en,{value:void 0}),D$1("invalid",_e);break;case"textarea":hb(_e,en),tn=gb(_e,en),D$1("invalid",_e);break;default:tn=en}ub(St,tn),on=tn;for(nn in on)if(on.hasOwnProperty(nn)){var un=on[nn];nn==="style"?sb(_e,un):nn==="dangerouslySetInnerHTML"?(un=un?un.__html:void 0,un!=null&&nb(_e,un)):nn==="children"?typeof un=="string"?(St!=="textarea"||un!=="")&&ob(_e,un):typeof un=="number"&&ob(_e,""+un):nn!=="suppressContentEditableWarning"&&nn!=="suppressHydrationWarning"&&nn!=="autoFocus"&&(ea.hasOwnProperty(nn)?un!=null&&nn==="onScroll"&&D$1("scroll",_e):un!=null&&ta(_e,nn,un,rn))}switch(St){case"input":Va(_e),db(_e,en,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":en.value!=null&&_e.setAttribute("value",""+Sa(en.value));break;case"select":_e.multiple=!!en.multiple,nn=en.value,nn!=null?fb(_e,!!en.multiple,nn,!1):en.defaultValue!=null&&fb(_e,!!en.multiple,en.defaultValue,!0);break;default:typeof tn.onClick=="function"&&(_e.onclick=Bf)}switch(St){case"button":case"input":case"select":case"textarea":en=!!en.autoFocus;break e;case"img":en=!0;break e;default:en=!1}}en&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return S$1(e),null;case 6:if(_e&&e.stateNode!=null)Dj(_e,e,_e.memoizedProps,en);else{if(typeof en!="string"&&e.stateNode===null)throw Error(p$2(166));if(St=Hh(Gh.current),Hh(Eh.current),Gg(e)){if(en=e.stateNode,St=e.memoizedProps,en[Of]=e,(nn=en.nodeValue!==St)&&(_e=xg,_e!==null))switch(_e.tag){case 3:Af(en.nodeValue,St,(_e.mode&1)!==0);break;case 5:_e.memoizedProps.suppressHydrationWarning!==!0&&Af(en.nodeValue,St,(_e.mode&1)!==0)}nn&&(e.flags|=4)}else en=(St.nodeType===9?St:St.ownerDocument).createTextNode(en),en[Of]=e,e.stateNode=en}return S$1(e),null;case 13:if(E$1(M$1),en=e.memoizedState,_e===null||_e.memoizedState!==null&&_e.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&(e.mode&1)!==0&&(e.flags&128)===0)Hg(),Ig(),e.flags|=98560,nn=!1;else if(nn=Gg(e),en!==null&&en.dehydrated!==null){if(_e===null){if(!nn)throw Error(p$2(318));if(nn=e.memoizedState,nn=nn!==null?nn.dehydrated:null,!nn)throw Error(p$2(317));nn[Of]=e}else Ig(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;S$1(e),nn=!1}else zg!==null&&(Gj(zg),zg=null),nn=!0;if(!nn)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=St,e):(en=en!==null,en!==(_e!==null&&_e.memoizedState!==null)&&en&&(e.child.flags|=8192,(e.mode&1)!==0&&(_e===null||(M$1.current&1)!==0?T$1===0&&(T$1=3):uj())),e.updateQueue!==null&&(e.flags|=4),S$1(e),null);case 4:return Jh(),Bj(_e,e),_e===null&&sf(e.stateNode.containerInfo),S$1(e),null;case 10:return Rg(e.type._context),S$1(e),null;case 17:return Zf(e.type)&&$f(),S$1(e),null;case 19:if(E$1(M$1),nn=e.memoizedState,nn===null)return S$1(e),null;if(en=(e.flags&128)!==0,rn=nn.rendering,rn===null)if(en)Ej(nn,!1);else{if(T$1!==0||_e!==null&&(_e.flags&128)!==0)for(_e=e.child;_e!==null;){if(rn=Mh(_e),rn!==null){for(e.flags|=128,Ej(nn,!1),en=rn.updateQueue,en!==null&&(e.updateQueue=en,e.flags|=4),e.subtreeFlags=0,en=St,St=e.child;St!==null;)nn=St,_e=en,nn.flags&=14680066,rn=nn.alternate,rn===null?(nn.childLanes=0,nn.lanes=_e,nn.child=null,nn.subtreeFlags=0,nn.memoizedProps=null,nn.memoizedState=null,nn.updateQueue=null,nn.dependencies=null,nn.stateNode=null):(nn.childLanes=rn.childLanes,nn.lanes=rn.lanes,nn.child=rn.child,nn.subtreeFlags=0,nn.deletions=null,nn.memoizedProps=rn.memoizedProps,nn.memoizedState=rn.memoizedState,nn.updateQueue=rn.updateQueue,nn.type=rn.type,_e=rn.dependencies,nn.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),St=St.sibling;return G$1(M$1,M$1.current&1|2),e.child}_e=_e.sibling}nn.tail!==null&&B$1()>Hj&&(e.flags|=128,en=!0,Ej(nn,!1),e.lanes=4194304)}else{if(!en)if(_e=Mh(rn),_e!==null){if(e.flags|=128,en=!0,St=_e.updateQueue,St!==null&&(e.updateQueue=St,e.flags|=4),Ej(nn,!0),nn.tail===null&&nn.tailMode==="hidden"&&!rn.alternate&&!I$1)return S$1(e),null}else 2*B$1()-nn.renderingStartTime>Hj&&St!==1073741824&&(e.flags|=128,en=!0,Ej(nn,!1),e.lanes=4194304);nn.isBackwards?(rn.sibling=e.child,e.child=rn):(St=nn.last,St!==null?St.sibling=rn:e.child=rn,nn.last=rn)}return nn.tail!==null?(e=nn.tail,nn.rendering=e,nn.tail=e.sibling,nn.renderingStartTime=B$1(),e.sibling=null,St=M$1.current,G$1(M$1,en?St&1|2:St&1),e):(S$1(e),null);case 22:case 23:return Ij(),en=e.memoizedState!==null,_e!==null&&_e.memoizedState!==null!==en&&(e.flags|=8192),en&&(e.mode&1)!==0?(gj&1073741824)!==0&&(S$1(e),e.subtreeFlags&6&&(e.flags|=8192)):S$1(e),null;case 24:return null;case 25:return null}throw Error(p$2(156,e.tag))}function Jj(_e,e){switch(wg(e),e.tag){case 1:return Zf(e.type)&&$f(),_e=e.flags,_e&65536?(e.flags=_e&-65537|128,e):null;case 3:return Jh(),E$1(Wf),E$1(H$1),Oh(),_e=e.flags,(_e&65536)!==0&&(_e&128)===0?(e.flags=_e&-65537|128,e):null;case 5:return Lh(e),null;case 13:if(E$1(M$1),_e=e.memoizedState,_e!==null&&_e.dehydrated!==null){if(e.alternate===null)throw Error(p$2(340));Ig()}return _e=e.flags,_e&65536?(e.flags=_e&-65537|128,e):null;case 19:return E$1(M$1),null;case 4:return Jh(),null;case 10:return Rg(e.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(_e,e){var St=_e.ref;if(St!==null)if(typeof St=="function")try{St(null)}catch(en){W$1(_e,e,en)}else St.current=null}function Nj(_e,e,St){try{St()}catch(en){W$1(_e,e,en)}}var Oj=!1;function Pj(_e,e){if(Cf=dd,_e=Me(),Ne$1(_e)){if("selectionStart"in _e)var St={start:_e.selectionStart,end:_e.selectionEnd};else e:{St=(St=_e.ownerDocument)&&St.defaultView||window;var en=St.getSelection&&St.getSelection();if(en&&en.rangeCount!==0){St=en.anchorNode;var tn=en.anchorOffset,nn=en.focusNode;en=en.focusOffset;try{St.nodeType,nn.nodeType}catch{St=null;break e}var rn=0,on=-1,un=-1,cn=0,dn=0,Sn=_e,mn=null;t:for(;;){for(var fn;Sn!==St||tn!==0&&Sn.nodeType!==3||(on=rn+tn),Sn!==nn||en!==0&&Sn.nodeType!==3||(un=rn+en),Sn.nodeType===3&&(rn+=Sn.nodeValue.length),(fn=Sn.firstChild)!==null;)mn=Sn,Sn=fn;for(;;){if(Sn===_e)break t;if(mn===St&&++cn===tn&&(on=rn),mn===nn&&++dn===en&&(un=rn),(fn=Sn.nextSibling)!==null)break;Sn=mn,mn=Sn.parentNode}Sn=fn}St=on===-1||un===-1?null:{start:on,end:un}}else St=null}St=St||{start:0,end:0}}else St=null;for(Df={focusedElem:_e,selectionRange:St},dd=!1,V$1=e;V$1!==null;)if(e=V$1,_e=e.child,(e.subtreeFlags&1028)!==0&&_e!==null)_e.return=e,V$1=_e;else for(;V$1!==null;){e=V$1;try{var vn=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(vn!==null){var bn=vn.memoizedProps,wn=vn.memoizedState,pn=e.stateNode,yn=pn.getSnapshotBeforeUpdate(e.elementType===e.type?bn:Lg(e.type,bn),wn);pn.__reactInternalSnapshotBeforeUpdate=yn}break;case 3:var An=e.stateNode.containerInfo;An.nodeType===1?An.textContent="":An.nodeType===9&&An.documentElement&&An.removeChild(An.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(kn){W$1(e,e.return,kn)}if(_e=e.sibling,_e!==null){_e.return=e.return,V$1=_e;break}V$1=e.return}return vn=Oj,Oj=!1,vn}function Qj(_e,e,St){var en=e.updateQueue;if(en=en!==null?en.lastEffect:null,en!==null){var tn=en=en.next;do{if((tn.tag&_e)===_e){var nn=tn.destroy;tn.destroy=void 0,nn!==void 0&&Nj(e,St,nn)}tn=tn.next}while(tn!==en)}}function Rj(_e,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var St=e=e.next;do{if((St.tag&_e)===_e){var en=St.create;St.destroy=en()}St=St.next}while(St!==e)}}function Sj(_e){var e=_e.ref;if(e!==null){var St=_e.stateNode;switch(_e.tag){case 5:_e=St;break;default:_e=St}typeof e=="function"?e(_e):e.current=_e}}function Tj(_e){var e=_e.alternate;e!==null&&(_e.alternate=null,Tj(e)),_e.child=null,_e.deletions=null,_e.sibling=null,_e.tag===5&&(e=_e.stateNode,e!==null&&(delete e[Of],delete e[Pf],delete e[of],delete e[Qf],delete e[Rf])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Uj(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function Vj(_e){e:for(;;){for(;_e.sibling===null;){if(_e.return===null||Uj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;_e.tag!==5&&_e.tag!==6&&_e.tag!==18;){if(_e.flags&2||_e.child===null||_e.tag===4)continue e;_e.child.return=_e,_e=_e.child}if(!(_e.flags&2))return _e.stateNode}}function Wj(_e,e,St){var en=_e.tag;if(en===5||en===6)_e=_e.stateNode,e?St.nodeType===8?St.parentNode.insertBefore(_e,e):St.insertBefore(_e,e):(St.nodeType===8?(e=St.parentNode,e.insertBefore(_e,St)):(e=St,e.appendChild(_e)),St=St._reactRootContainer,St!=null||e.onclick!==null||(e.onclick=Bf));else if(en!==4&&(_e=_e.child,_e!==null))for(Wj(_e,e,St),_e=_e.sibling;_e!==null;)Wj(_e,e,St),_e=_e.sibling}function Xj(_e,e,St){var en=_e.tag;if(en===5||en===6)_e=_e.stateNode,e?St.insertBefore(_e,e):St.appendChild(_e);else if(en!==4&&(_e=_e.child,_e!==null))for(Xj(_e,e,St),_e=_e.sibling;_e!==null;)Xj(_e,e,St),_e=_e.sibling}var X$1=null,Yj=!1;function Zj(_e,e,St){for(St=St.child;St!==null;)ak(_e,e,St),St=St.sibling}function ak(_e,e,St){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc,St)}catch{}switch(St.tag){case 5:U$1||Mj(St,e);case 6:var en=X$1,tn=Yj;X$1=null,Zj(_e,e,St),X$1=en,Yj=tn,X$1!==null&&(Yj?(_e=X$1,St=St.stateNode,_e.nodeType===8?_e.parentNode.removeChild(St):_e.removeChild(St)):X$1.removeChild(St.stateNode));break;case 18:X$1!==null&&(Yj?(_e=X$1,St=St.stateNode,_e.nodeType===8?Kf(_e.parentNode,St):_e.nodeType===1&&Kf(_e,St),bd(_e)):Kf(X$1,St.stateNode));break;case 4:en=X$1,tn=Yj,X$1=St.stateNode.containerInfo,Yj=!0,Zj(_e,e,St),X$1=en,Yj=tn;break;case 0:case 11:case 14:case 15:if(!U$1&&(en=St.updateQueue,en!==null&&(en=en.lastEffect,en!==null))){tn=en=en.next;do{var nn=tn,rn=nn.destroy;nn=nn.tag,rn!==void 0&&((nn&2)!==0||(nn&4)!==0)&&Nj(St,e,rn),tn=tn.next}while(tn!==en)}Zj(_e,e,St);break;case 1:if(!U$1&&(Mj(St,e),en=St.stateNode,typeof en.componentWillUnmount=="function"))try{en.props=St.memoizedProps,en.state=St.memoizedState,en.componentWillUnmount()}catch(on){W$1(St,e,on)}Zj(_e,e,St);break;case 21:Zj(_e,e,St);break;case 22:St.mode&1?(U$1=(en=U$1)||St.memoizedState!==null,Zj(_e,e,St),U$1=en):Zj(_e,e,St);break;default:Zj(_e,e,St)}}function bk(_e){var e=_e.updateQueue;if(e!==null){_e.updateQueue=null;var St=_e.stateNode;St===null&&(St=_e.stateNode=new Lj),e.forEach(function(en){var tn=ck.bind(null,_e,en);St.has(en)||(St.add(en),en.then(tn,tn))})}}function dk(_e,e){var St=e.deletions;if(St!==null)for(var en=0;en<St.length;en++){var tn=St[en];try{var nn=_e,rn=e,on=rn;e:for(;on!==null;){switch(on.tag){case 5:X$1=on.stateNode,Yj=!1;break e;case 3:X$1=on.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=on.stateNode.containerInfo,Yj=!0;break e}on=on.return}if(X$1===null)throw Error(p$2(160));ak(nn,rn,tn),X$1=null,Yj=!1;var un=tn.alternate;un!==null&&(un.return=null),tn.return=null}catch(cn){W$1(tn,e,cn)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ek(e,_e),e=e.sibling}function ek(_e,e){var St=_e.alternate,en=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(dk(e,_e),fk(_e),en&4){try{Qj(3,_e,_e.return),Rj(3,_e)}catch(bn){W$1(_e,_e.return,bn)}try{Qj(5,_e,_e.return)}catch(bn){W$1(_e,_e.return,bn)}}break;case 1:dk(e,_e),fk(_e),en&512&&St!==null&&Mj(St,St.return);break;case 5:if(dk(e,_e),fk(_e),en&512&&St!==null&&Mj(St,St.return),_e.flags&32){var tn=_e.stateNode;try{ob(tn,"")}catch(bn){W$1(_e,_e.return,bn)}}if(en&4&&(tn=_e.stateNode,tn!=null)){var nn=_e.memoizedProps,rn=St!==null?St.memoizedProps:nn,on=_e.type,un=_e.updateQueue;if(_e.updateQueue=null,un!==null)try{on==="input"&&nn.type==="radio"&&nn.name!=null&&ab(tn,nn),vb(on,rn);var cn=vb(on,nn);for(rn=0;rn<un.length;rn+=2){var dn=un[rn],Sn=un[rn+1];dn==="style"?sb(tn,Sn):dn==="dangerouslySetInnerHTML"?nb(tn,Sn):dn==="children"?ob(tn,Sn):ta(tn,dn,Sn,cn)}switch(on){case"input":bb(tn,nn);break;case"textarea":ib(tn,nn);break;case"select":var mn=tn._wrapperState.wasMultiple;tn._wrapperState.wasMultiple=!!nn.multiple;var fn=nn.value;fn!=null?fb(tn,!!nn.multiple,fn,!1):mn!==!!nn.multiple&&(nn.defaultValue!=null?fb(tn,!!nn.multiple,nn.defaultValue,!0):fb(tn,!!nn.multiple,nn.multiple?[]:"",!1))}tn[Pf]=nn}catch(bn){W$1(_e,_e.return,bn)}}break;case 6:if(dk(e,_e),fk(_e),en&4){if(_e.stateNode===null)throw Error(p$2(162));tn=_e.stateNode,nn=_e.memoizedProps;try{tn.nodeValue=nn}catch(bn){W$1(_e,_e.return,bn)}}break;case 3:if(dk(e,_e),fk(_e),en&4&&St!==null&&St.memoizedState.isDehydrated)try{bd(e.containerInfo)}catch(bn){W$1(_e,_e.return,bn)}break;case 4:dk(e,_e),fk(_e);break;case 13:dk(e,_e),fk(_e),tn=_e.child,tn.flags&8192&&(nn=tn.memoizedState!==null,tn.stateNode.isHidden=nn,!nn||tn.alternate!==null&&tn.alternate.memoizedState!==null||(gk=B$1())),en&4&&bk(_e);break;case 22:if(dn=St!==null&&St.memoizedState!==null,_e.mode&1?(U$1=(cn=U$1)||dn,dk(e,_e),U$1=cn):dk(e,_e),fk(_e),en&8192){if(cn=_e.memoizedState!==null,(_e.stateNode.isHidden=cn)&&!dn&&(_e.mode&1)!==0)for(V$1=_e,dn=_e.child;dn!==null;){for(Sn=V$1=dn;V$1!==null;){switch(mn=V$1,fn=mn.child,mn.tag){case 0:case 11:case 14:case 15:Qj(4,mn,mn.return);break;case 1:Mj(mn,mn.return);var vn=mn.stateNode;if(typeof vn.componentWillUnmount=="function"){en=mn,St=mn.return;try{e=en,vn.props=e.memoizedProps,vn.state=e.memoizedState,vn.componentWillUnmount()}catch(bn){W$1(en,St,bn)}}break;case 5:Mj(mn,mn.return);break;case 22:if(mn.memoizedState!==null){hk(Sn);continue}}fn!==null?(fn.return=mn,V$1=fn):hk(Sn)}dn=dn.sibling}e:for(dn=null,Sn=_e;;){if(Sn.tag===5){if(dn===null){dn=Sn;try{tn=Sn.stateNode,cn?(nn=tn.style,typeof nn.setProperty=="function"?nn.setProperty("display","none","important"):nn.display="none"):(on=Sn.stateNode,un=Sn.memoizedProps.style,rn=un!=null&&un.hasOwnProperty("display")?un.display:null,on.style.display=rb("display",rn))}catch(bn){W$1(_e,_e.return,bn)}}}else if(Sn.tag===6){if(dn===null)try{Sn.stateNode.nodeValue=cn?"":Sn.memoizedProps}catch(bn){W$1(_e,_e.return,bn)}}else if((Sn.tag!==22&&Sn.tag!==23||Sn.memoizedState===null||Sn===_e)&&Sn.child!==null){Sn.child.return=Sn,Sn=Sn.child;continue}if(Sn===_e)break e;for(;Sn.sibling===null;){if(Sn.return===null||Sn.return===_e)break e;dn===Sn&&(dn=null),Sn=Sn.return}dn===Sn&&(dn=null),Sn.sibling.return=Sn.return,Sn=Sn.sibling}}break;case 19:dk(e,_e),fk(_e),en&4&&bk(_e);break;case 21:break;default:dk(e,_e),fk(_e)}}function fk(_e){var e=_e.flags;if(e&2){try{e:{for(var St=_e.return;St!==null;){if(Uj(St)){var en=St;break e}St=St.return}throw Error(p$2(160))}switch(en.tag){case 5:var tn=en.stateNode;en.flags&32&&(ob(tn,""),en.flags&=-33);var nn=Vj(_e);Xj(_e,nn,tn);break;case 3:case 4:var rn=en.stateNode.containerInfo,on=Vj(_e);Wj(_e,on,rn);break;default:throw Error(p$2(161))}}catch(un){W$1(_e,_e.return,un)}_e.flags&=-3}e&4096&&(_e.flags&=-4097)}function ik(_e,e,St){V$1=_e,jk(_e)}function jk(_e,e,St){for(var en=(_e.mode&1)!==0;V$1!==null;){var tn=V$1,nn=tn.child;if(tn.tag===22&&en){var rn=tn.memoizedState!==null||Kj;if(!rn){var on=tn.alternate,un=on!==null&&on.memoizedState!==null||U$1;on=Kj;var cn=U$1;if(Kj=rn,(U$1=un)&&!cn)for(V$1=tn;V$1!==null;)rn=V$1,un=rn.child,rn.tag===22&&rn.memoizedState!==null?kk(tn):un!==null?(un.return=rn,V$1=un):kk(tn);for(;nn!==null;)V$1=nn,jk(nn),nn=nn.sibling;V$1=tn,Kj=on,U$1=cn}lk(_e)}else(tn.subtreeFlags&8772)!==0&&nn!==null?(nn.return=tn,V$1=nn):lk(_e)}}function lk(_e){for(;V$1!==null;){var e=V$1;if((e.flags&8772)!==0){var St=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:U$1||Rj(5,e);break;case 1:var en=e.stateNode;if(e.flags&4&&!U$1)if(St===null)en.componentDidMount();else{var tn=e.elementType===e.type?St.memoizedProps:Lg(e.type,St.memoizedProps);en.componentDidUpdate(tn,St.memoizedState,en.__reactInternalSnapshotBeforeUpdate)}var nn=e.updateQueue;nn!==null&&ih(e,nn,en);break;case 3:var rn=e.updateQueue;if(rn!==null){if(St=null,e.child!==null)switch(e.child.tag){case 5:St=e.child.stateNode;break;case 1:St=e.child.stateNode}ih(e,rn,St)}break;case 5:var on=e.stateNode;if(St===null&&e.flags&4){St=on;var un=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":un.autoFocus&&St.focus();break;case"img":un.src&&(St.src=un.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var cn=e.alternate;if(cn!==null){var dn=cn.memoizedState;if(dn!==null){var Sn=dn.dehydrated;Sn!==null&&bd(Sn)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U$1||e.flags&512&&Sj(e)}catch(mn){W$1(e,e.return,mn)}}if(e===_e){V$1=null;break}if(St=e.sibling,St!==null){St.return=e.return,V$1=St;break}V$1=e.return}}function hk(_e){for(;V$1!==null;){var e=V$1;if(e===_e){V$1=null;break}var St=e.sibling;if(St!==null){St.return=e.return,V$1=St;break}V$1=e.return}}function kk(_e){for(;V$1!==null;){var e=V$1;try{switch(e.tag){case 0:case 11:case 15:var St=e.return;try{Rj(4,e)}catch(un){W$1(e,St,un)}break;case 1:var en=e.stateNode;if(typeof en.componentDidMount=="function"){var tn=e.return;try{en.componentDidMount()}catch(un){W$1(e,tn,un)}}var nn=e.return;try{Sj(e)}catch(un){W$1(e,nn,un)}break;case 5:var rn=e.return;try{Sj(e)}catch(un){W$1(e,rn,un)}}}catch(un){W$1(e,e.return,un)}if(e===_e){V$1=null;break}var on=e.sibling;if(on!==null){on.return=e.return,V$1=on;break}V$1=e.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$1=0,R$1=null,Y$1=null,Z$1=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$1(){return(K$1&6)!==0?B$1():Bk!==-1?Bk:Bk=B$1()}function lh(_e){return(_e.mode&1)===0?1:(K$1&2)!==0&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(_e=C$1,_e!==0||(_e=window.event,_e=_e===void 0?16:jd(_e.type)),_e)}function mh(_e,e,St,en){if(50<zk)throw zk=0,Ak=null,Error(p$2(185));Ac(_e,St,en),((K$1&2)===0||_e!==R$1)&&(_e===R$1&&((K$1&2)===0&&(rk|=St),T$1===4&&Dk(_e,Z$1)),Ek(_e,en),St===1&&K$1===0&&(e.mode&1)===0&&(Hj=B$1()+500,fg&&jg()))}function Ek(_e,e){var St=_e.callbackNode;wc(_e,e);var en=uc(_e,_e===R$1?Z$1:0);if(en===0)St!==null&&bc(St),_e.callbackNode=null,_e.callbackPriority=0;else if(e=en&-en,_e.callbackPriority!==e){if(St!=null&&bc(St),e===1)_e.tag===0?ig(Fk.bind(null,_e)):hg(Fk.bind(null,_e)),Jf(function(){(K$1&6)===0&&jg()}),St=null;else{switch(Dc(en)){case 1:St=fc;break;case 4:St=gc;break;case 16:St=hc;break;case 536870912:St=jc;break;default:St=hc}St=Gk(St,Hk.bind(null,_e))}_e.callbackPriority=e,_e.callbackNode=St}}function Hk(_e,e){if(Bk=-1,Ck=0,(K$1&6)!==0)throw Error(p$2(327));var St=_e.callbackNode;if(Ik()&&_e.callbackNode!==St)return null;var en=uc(_e,_e===R$1?Z$1:0);if(en===0)return null;if((en&30)!==0||(en&_e.expiredLanes)!==0||e)e=Jk(_e,en);else{e=en;var tn=K$1;K$1|=2;var nn=Kk();(R$1!==_e||Z$1!==e)&&(vk=null,Hj=B$1()+500,Lk(_e,e));do try{Mk();break}catch(on){Nk(_e,on)}while(1);Qg(),nk.current=nn,K$1=tn,Y$1!==null?e=0:(R$1=null,Z$1=0,e=T$1)}if(e!==0){if(e===2&&(tn=xc(_e),tn!==0&&(en=tn,e=Ok(_e,tn))),e===1)throw St=qk,Lk(_e,0),Dk(_e,en),Ek(_e,B$1()),St;if(e===6)Dk(_e,en);else{if(tn=_e.current.alternate,(en&30)===0&&!Pk(tn)&&(e=Jk(_e,en),e===2&&(nn=xc(_e),nn!==0&&(en=nn,e=Ok(_e,nn))),e===1))throw St=qk,Lk(_e,0),Dk(_e,en),Ek(_e,B$1()),St;switch(_e.finishedWork=tn,_e.finishedLanes=en,e){case 0:case 1:throw Error(p$2(345));case 2:Qk(_e,uk,vk);break;case 3:if(Dk(_e,en),(en&130023424)===en&&(e=gk+500-B$1(),10<e)){if(uc(_e,0)!==0)break;if(tn=_e.suspendedLanes,(tn&en)!==en){L$1(),_e.pingedLanes|=_e.suspendedLanes&tn;break}_e.timeoutHandle=Ff(Qk.bind(null,_e,uk,vk),e);break}Qk(_e,uk,vk);break;case 4:if(Dk(_e,en),(en&4194240)===en)break;for(e=_e.eventTimes,tn=-1;0<en;){var rn=31-oc(en);nn=1<<rn,rn=e[rn],rn>tn&&(tn=rn),en&=~nn}if(en=tn,en=B$1()-en,en=(120>en?120:480>en?480:1080>en?1080:1920>en?1920:3e3>en?3e3:4320>en?4320:1960*mk(en/1960))-en,10<en){_e.timeoutHandle=Ff(Qk.bind(null,_e,uk,vk),en);break}Qk(_e,uk,vk);break;case 5:Qk(_e,uk,vk);break;default:throw Error(p$2(329))}}}return Ek(_e,B$1()),_e.callbackNode===St?Hk.bind(null,_e):null}function Ok(_e,e){var St=tk;return _e.current.memoizedState.isDehydrated&&(Lk(_e,e).flags|=256),_e=Jk(_e,e),_e!==2&&(e=uk,uk=St,e!==null&&Gj(e)),_e}function Gj(_e){uk===null?uk=_e:uk.push.apply(uk,_e)}function Pk(_e){for(var e=_e;;){if(e.flags&16384){var St=e.updateQueue;if(St!==null&&(St=St.stores,St!==null))for(var en=0;en<St.length;en++){var tn=St[en],nn=tn.getSnapshot;tn=tn.value;try{if(!He(nn(),tn))return!1}catch{return!1}}}if(St=e.child,e.subtreeFlags&16384&&St!==null)St.return=e,e=St;else{if(e===_e)break;for(;e.sibling===null;){if(e.return===null||e.return===_e)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dk(_e,e){for(e&=~sk,e&=~rk,_e.suspendedLanes|=e,_e.pingedLanes&=~e,_e=_e.expirationTimes;0<e;){var St=31-oc(e),en=1<<St;_e[St]=-1,e&=~en}}function Fk(_e){if((K$1&6)!==0)throw Error(p$2(327));Ik();var e=uc(_e,0);if((e&1)===0)return Ek(_e,B$1()),null;var St=Jk(_e,e);if(_e.tag!==0&&St===2){var en=xc(_e);en!==0&&(e=en,St=Ok(_e,en))}if(St===1)throw St=qk,Lk(_e,0),Dk(_e,e),Ek(_e,B$1()),St;if(St===6)throw Error(p$2(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=e,Qk(_e,uk,vk),Ek(_e,B$1()),null}function Rk(_e,e){var St=K$1;K$1|=1;try{return _e(e)}finally{K$1=St,K$1===0&&(Hj=B$1()+500,fg&&jg())}}function Sk(_e){xk!==null&&xk.tag===0&&(K$1&6)===0&&Ik();var e=K$1;K$1|=1;var St=pk.transition,en=C$1;try{if(pk.transition=null,C$1=1,_e)return _e()}finally{C$1=en,pk.transition=St,K$1=e,(K$1&6)===0&&jg()}}function Ij(){gj=fj.current,E$1(fj)}function Lk(_e,e){_e.finishedWork=null,_e.finishedLanes=0;var St=_e.timeoutHandle;if(St!==-1&&(_e.timeoutHandle=-1,Gf(St)),Y$1!==null)for(St=Y$1.return;St!==null;){var en=St;switch(wg(en),en.tag){case 1:en=en.type.childContextTypes,en!=null&&$f();break;case 3:Jh(),E$1(Wf),E$1(H$1),Oh();break;case 5:Lh(en);break;case 4:Jh();break;case 13:E$1(M$1);break;case 19:E$1(M$1);break;case 10:Rg(en.type._context);break;case 22:case 23:Ij()}St=St.return}if(R$1=_e,Y$1=_e=wh(_e.current,null),Z$1=gj=e,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(e=0;e<Wg.length;e++)if(St=Wg[e],en=St.interleaved,en!==null){St.interleaved=null;var tn=en.next,nn=St.pending;if(nn!==null){var rn=nn.next;nn.next=tn,en.next=rn}St.pending=en}Wg=null}return _e}function Nk(_e,e){do{var St=Y$1;try{if(Qg(),Ph.current=ai,Sh){for(var en=N$1.memoizedState;en!==null;){var tn=en.queue;tn!==null&&(tn.pending=null),en=en.next}Sh=!1}if(Rh=0,P$1=O$1=N$1=null,Th=!1,Uh=0,ok.current=null,St===null||St.return===null){T$1=1,qk=e,Y$1=null;break}e:{var nn=_e,rn=St.return,on=St,un=e;if(e=Z$1,on.flags|=32768,un!==null&&typeof un=="object"&&typeof un.then=="function"){var cn=un,dn=on,Sn=dn.tag;if((dn.mode&1)===0&&(Sn===0||Sn===11||Sn===15)){var mn=dn.alternate;mn?(dn.updateQueue=mn.updateQueue,dn.memoizedState=mn.memoizedState,dn.lanes=mn.lanes):(dn.updateQueue=null,dn.memoizedState=null)}var fn=Vi(rn);if(fn!==null){fn.flags&=-257,Wi(fn,rn,on,nn,e),fn.mode&1&&Ti(nn,cn,e),e=fn,un=cn;var vn=e.updateQueue;if(vn===null){var bn=new Set;bn.add(un),e.updateQueue=bn}else vn.add(un);break e}else{if((e&1)===0){Ti(nn,cn,e),uj();break e}un=Error(p$2(426))}}else if(I$1&&on.mode&1){var wn=Vi(rn);if(wn!==null){(wn.flags&65536)===0&&(wn.flags|=256),Wi(wn,rn,on,nn,e),Jg(Ki(un,on));break e}}nn=un=Ki(un,on),T$1!==4&&(T$1=2),tk===null?tk=[nn]:tk.push(nn),nn=rn;do{switch(nn.tag){case 3:nn.flags|=65536,e&=-e,nn.lanes|=e;var pn=Oi(nn,un,e);fh(nn,pn);break e;case 1:on=un;var yn=nn.type,An=nn.stateNode;if((nn.flags&128)===0&&(typeof yn.getDerivedStateFromError=="function"||An!==null&&typeof An.componentDidCatch=="function"&&(Si===null||!Si.has(An)))){nn.flags|=65536,e&=-e,nn.lanes|=e;var kn=Ri(nn,on,e);fh(nn,kn);break e}}nn=nn.return}while(nn!==null)}Tk(St)}catch(xn){e=xn,Y$1===St&&St!==null&&(Y$1=St=St.return);continue}break}while(1)}function Kk(){var _e=nk.current;return nk.current=ai,_e===null?ai:_e}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R$1===null||(hh&268435455)===0&&(rk&268435455)===0||Dk(R$1,Z$1)}function Jk(_e,e){var St=K$1;K$1|=2;var en=Kk();(R$1!==_e||Z$1!==e)&&(vk=null,Lk(_e,e));do try{Uk();break}catch(tn){Nk(_e,tn)}while(1);if(Qg(),K$1=St,nk.current=en,Y$1!==null)throw Error(p$2(261));return R$1=null,Z$1=0,T$1}function Uk(){for(;Y$1!==null;)Vk(Y$1)}function Mk(){for(;Y$1!==null&&!cc();)Vk(Y$1)}function Vk(_e){var e=Wk(_e.alternate,_e,gj);_e.memoizedProps=_e.pendingProps,e===null?Tk(_e):Y$1=e,ok.current=null}function Tk(_e){var e=_e;do{var St=e.alternate;if(_e=e.return,(e.flags&32768)===0){if(St=Fj(St,e,gj),St!==null){Y$1=St;return}}else{if(St=Jj(St,e),St!==null){St.flags&=32767,Y$1=St;return}if(_e!==null)_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null;else{T$1=6,Y$1=null;return}}if(e=e.sibling,e!==null){Y$1=e;return}Y$1=e=_e}while(e!==null);T$1===0&&(T$1=5)}function Qk(_e,e,St){var en=C$1,tn=pk.transition;try{pk.transition=null,C$1=1,Xk(_e,e,St,en)}finally{pk.transition=tn,C$1=en}return null}function Xk(_e,e,St,en){do Ik();while(xk!==null);if((K$1&6)!==0)throw Error(p$2(327));St=_e.finishedWork;var tn=_e.finishedLanes;if(St===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,St===_e.current)throw Error(p$2(177));_e.callbackNode=null,_e.callbackPriority=0;var nn=St.lanes|St.childLanes;if(Bc(_e,nn),_e===R$1&&(Y$1=R$1=null,Z$1=0),(St.subtreeFlags&2064)===0&&(St.flags&2064)===0||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),nn=(St.flags&15990)!==0,(St.subtreeFlags&15990)!==0||nn){nn=pk.transition,pk.transition=null;var rn=C$1;C$1=1;var on=K$1;K$1|=4,ok.current=null,Pj(_e,St),ek(St,_e),Oe(Df),dd=!!Cf,Df=Cf=null,_e.current=St,ik(St),dc(),K$1=on,C$1=rn,pk.transition=nn}else _e.current=St;if(wk&&(wk=!1,xk=_e,yk=tn),nn=_e.pendingLanes,nn===0&&(Si=null),mc(St.stateNode),Ek(_e,B$1()),e!==null)for(en=_e.onRecoverableError,St=0;St<e.length;St++)tn=e[St],en(tn.value,{componentStack:tn.stack,digest:tn.digest});if(Pi)throw Pi=!1,_e=Qi,Qi=null,_e;return(yk&1)!==0&&_e.tag!==0&&Ik(),nn=_e.pendingLanes,(nn&1)!==0?_e===Ak?zk++:(zk=0,Ak=_e):zk=0,jg(),null}function Ik(){if(xk!==null){var _e=Dc(yk),e=pk.transition,St=C$1;try{if(pk.transition=null,C$1=16>_e?16:_e,xk===null)var en=!1;else{if(_e=xk,xk=null,yk=0,(K$1&6)!==0)throw Error(p$2(331));var tn=K$1;for(K$1|=4,V$1=_e.current;V$1!==null;){var nn=V$1,rn=nn.child;if((V$1.flags&16)!==0){var on=nn.deletions;if(on!==null){for(var un=0;un<on.length;un++){var cn=on[un];for(V$1=cn;V$1!==null;){var dn=V$1;switch(dn.tag){case 0:case 11:case 15:Qj(8,dn,nn)}var Sn=dn.child;if(Sn!==null)Sn.return=dn,V$1=Sn;else for(;V$1!==null;){dn=V$1;var mn=dn.sibling,fn=dn.return;if(Tj(dn),dn===cn){V$1=null;break}if(mn!==null){mn.return=fn,V$1=mn;break}V$1=fn}}}var vn=nn.alternate;if(vn!==null){var bn=vn.child;if(bn!==null){vn.child=null;do{var wn=bn.sibling;bn.sibling=null,bn=wn}while(bn!==null)}}V$1=nn}}if((nn.subtreeFlags&2064)!==0&&rn!==null)rn.return=nn,V$1=rn;else e:for(;V$1!==null;){if(nn=V$1,(nn.flags&2048)!==0)switch(nn.tag){case 0:case 11:case 15:Qj(9,nn,nn.return)}var pn=nn.sibling;if(pn!==null){pn.return=nn.return,V$1=pn;break e}V$1=nn.return}}var yn=_e.current;for(V$1=yn;V$1!==null;){rn=V$1;var An=rn.child;if((rn.subtreeFlags&2064)!==0&&An!==null)An.return=rn,V$1=An;else e:for(rn=yn;V$1!==null;){if(on=V$1,(on.flags&2048)!==0)try{switch(on.tag){case 0:case 11:case 15:Rj(9,on)}}catch(xn){W$1(on,on.return,xn)}if(on===rn){V$1=null;break e}var kn=on.sibling;if(kn!==null){kn.return=on.return,V$1=kn;break e}V$1=on.return}}if(K$1=tn,jg(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc,_e)}catch{}en=!0}return en}finally{C$1=St,pk.transition=e}}return!1}function Yk(_e,e,St){e=Ki(St,e),e=Oi(_e,e,1),_e=dh(_e,e,1),e=L$1(),_e!==null&&(Ac(_e,1,e),Ek(_e,e))}function W$1(_e,e,St){if(_e.tag===3)Yk(_e,_e,St);else for(;e!==null;){if(e.tag===3){Yk(e,_e,St);break}else if(e.tag===1){var en=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof en.componentDidCatch=="function"&&(Si===null||!Si.has(en))){_e=Ki(St,_e),_e=Ri(e,_e,1),e=dh(e,_e,1),_e=L$1(),e!==null&&(Ac(e,1,_e),Ek(e,_e));break}}e=e.return}}function Ui(_e,e,St){var en=_e.pingCache;en!==null&&en.delete(e),e=L$1(),_e.pingedLanes|=_e.suspendedLanes&St,R$1===_e&&(Z$1&St)===St&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$1()-gk?Lk(_e,0):sk|=St),Ek(_e,e)}function Zk(_e,e){e===0&&((_e.mode&1)===0?e=1:(e=sc,sc<<=1,(sc&130023424)===0&&(sc=4194304)));var St=L$1();_e=Zg(_e,e),_e!==null&&(Ac(_e,e,St),Ek(_e,St))}function vj(_e){var e=_e.memoizedState,St=0;e!==null&&(St=e.retryLane),Zk(_e,St)}function ck(_e,e){var St=0;switch(_e.tag){case 13:var en=_e.stateNode,tn=_e.memoizedState;tn!==null&&(St=tn.retryLane);break;case 19:en=_e.stateNode;break;default:throw Error(p$2(314))}en!==null&&en.delete(e),Zk(_e,St)}var Wk;Wk=function(_e,e,St){if(_e!==null)if(_e.memoizedProps!==e.pendingProps||Wf.current)Ug=!0;else{if((_e.lanes&St)===0&&(e.flags&128)===0)return Ug=!1,zj(_e,e,St);Ug=(_e.flags&131072)!==0}else Ug=!1,I$1&&(e.flags&1048576)!==0&&ug(e,ng,e.index);switch(e.lanes=0,e.tag){case 2:var en=e.type;jj(_e,e),_e=e.pendingProps;var tn=Yf(e,H$1.current);Tg(e,St),tn=Xh(null,e,en,_e,tn,St);var nn=bi();return e.flags|=1,typeof tn=="object"&&tn!==null&&typeof tn.render=="function"&&tn.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zf(en)?(nn=!0,cg(e)):nn=!1,e.memoizedState=tn.state!==null&&tn.state!==void 0?tn.state:null,ah(e),tn.updater=nh,e.stateNode=tn,tn._reactInternals=e,rh(e,en,_e,St),e=kj(null,e,en,!0,nn,St)):(e.tag=0,I$1&&nn&&vg(e),Yi(null,e,tn,St),e=e.child),e;case 16:en=e.elementType;e:{switch(jj(_e,e),_e=e.pendingProps,tn=en._init,en=tn(en._payload),e.type=en,tn=e.tag=$k(en),_e=Lg(en,_e),tn){case 0:e=dj(null,e,en,_e,St);break e;case 1:e=ij(null,e,en,_e,St);break e;case 11:e=Zi(null,e,en,_e,St);break e;case 14:e=aj(null,e,en,Lg(en.type,_e),St);break e}throw Error(p$2(306,en,""))}return e;case 0:return en=e.type,tn=e.pendingProps,tn=e.elementType===en?tn:Lg(en,tn),dj(_e,e,en,tn,St);case 1:return en=e.type,tn=e.pendingProps,tn=e.elementType===en?tn:Lg(en,tn),ij(_e,e,en,tn,St);case 3:e:{if(lj(e),_e===null)throw Error(p$2(387));en=e.pendingProps,nn=e.memoizedState,tn=nn.element,bh(_e,e),gh(e,en,null,St);var rn=e.memoizedState;if(en=rn.element,nn.isDehydrated)if(nn={element:en,isDehydrated:!1,cache:rn.cache,pendingSuspenseBoundaries:rn.pendingSuspenseBoundaries,transitions:rn.transitions},e.updateQueue.baseState=nn,e.memoizedState=nn,e.flags&256){tn=Ki(Error(p$2(423)),e),e=mj(_e,e,en,St,tn);break e}else if(en!==tn){tn=Ki(Error(p$2(424)),e),e=mj(_e,e,en,St,tn);break e}else for(yg=Lf(e.stateNode.containerInfo.firstChild),xg=e,I$1=!0,zg=null,St=Ch(e,null,en,St),e.child=St;St;)St.flags=St.flags&-3|4096,St=St.sibling;else{if(Ig(),en===tn){e=$i(_e,e,St);break e}Yi(_e,e,en,St)}e=e.child}return e;case 5:return Kh(e),_e===null&&Eg(e),en=e.type,tn=e.pendingProps,nn=_e!==null?_e.memoizedProps:null,rn=tn.children,Ef(en,tn)?rn=null:nn!==null&&Ef(en,nn)&&(e.flags|=32),hj(_e,e),Yi(_e,e,rn,St),e.child;case 6:return _e===null&&Eg(e),null;case 13:return pj(_e,e,St);case 4:return Ih(e,e.stateNode.containerInfo),en=e.pendingProps,_e===null?e.child=Bh(e,null,en,St):Yi(_e,e,en,St),e.child;case 11:return en=e.type,tn=e.pendingProps,tn=e.elementType===en?tn:Lg(en,tn),Zi(_e,e,en,tn,St);case 7:return Yi(_e,e,e.pendingProps,St),e.child;case 8:return Yi(_e,e,e.pendingProps.children,St),e.child;case 12:return Yi(_e,e,e.pendingProps.children,St),e.child;case 10:e:{if(en=e.type._context,tn=e.pendingProps,nn=e.memoizedProps,rn=tn.value,G$1(Mg,en._currentValue),en._currentValue=rn,nn!==null)if(He(nn.value,rn)){if(nn.children===tn.children&&!Wf.current){e=$i(_e,e,St);break e}}else for(nn=e.child,nn!==null&&(nn.return=e);nn!==null;){var on=nn.dependencies;if(on!==null){rn=nn.child;for(var un=on.firstContext;un!==null;){if(un.context===en){if(nn.tag===1){un=ch(-1,St&-St),un.tag=2;var cn=nn.updateQueue;if(cn!==null){cn=cn.shared;var dn=cn.pending;dn===null?un.next=un:(un.next=dn.next,dn.next=un),cn.pending=un}}nn.lanes|=St,un=nn.alternate,un!==null&&(un.lanes|=St),Sg(nn.return,St,e),on.lanes|=St;break}un=un.next}}else if(nn.tag===10)rn=nn.type===e.type?null:nn.child;else if(nn.tag===18){if(rn=nn.return,rn===null)throw Error(p$2(341));rn.lanes|=St,on=rn.alternate,on!==null&&(on.lanes|=St),Sg(rn,St,e),rn=nn.sibling}else rn=nn.child;if(rn!==null)rn.return=nn;else for(rn=nn;rn!==null;){if(rn===e){rn=null;break}if(nn=rn.sibling,nn!==null){nn.return=rn.return,rn=nn;break}rn=rn.return}nn=rn}Yi(_e,e,tn.children,St),e=e.child}return e;case 9:return tn=e.type,en=e.pendingProps.children,Tg(e,St),tn=Vg(tn),en=en(tn),e.flags|=1,Yi(_e,e,en,St),e.child;case 14:return en=e.type,tn=Lg(en,e.pendingProps),tn=Lg(en.type,tn),aj(_e,e,en,tn,St);case 15:return cj(_e,e,e.type,e.pendingProps,St);case 17:return en=e.type,tn=e.pendingProps,tn=e.elementType===en?tn:Lg(en,tn),jj(_e,e),e.tag=1,Zf(en)?(_e=!0,cg(e)):_e=!1,Tg(e,St),ph(e,en,tn),rh(e,en,tn,St),kj(null,e,en,!0,_e,St);case 19:return yj(_e,e,St);case 22:return ej(_e,e,St)}throw Error(p$2(156,e.tag))};function Gk(_e,e){return ac(_e,e)}function al(_e,e,St,en){this.tag=_e,this.key=St,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=en,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_e,e,St,en){return new al(_e,e,St,en)}function bj(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function $k(_e){if(typeof _e=="function")return bj(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Da)return 11;if(_e===Ga)return 14}return 2}function wh(_e,e){var St=_e.alternate;return St===null?(St=Bg(_e.tag,e,_e.key,_e.mode),St.elementType=_e.elementType,St.type=_e.type,St.stateNode=_e.stateNode,St.alternate=_e,_e.alternate=St):(St.pendingProps=e,St.type=_e.type,St.flags=0,St.subtreeFlags=0,St.deletions=null),St.flags=_e.flags&14680064,St.childLanes=_e.childLanes,St.lanes=_e.lanes,St.child=_e.child,St.memoizedProps=_e.memoizedProps,St.memoizedState=_e.memoizedState,St.updateQueue=_e.updateQueue,e=_e.dependencies,St.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},St.sibling=_e.sibling,St.index=_e.index,St.ref=_e.ref,St}function yh(_e,e,St,en,tn,nn){var rn=2;if(en=_e,typeof _e=="function")bj(_e)&&(rn=1);else if(typeof _e=="string")rn=5;else e:switch(_e){case ya:return Ah(St.children,tn,nn,e);case za:rn=8,tn|=8;break;case Aa:return _e=Bg(12,St,e,tn|2),_e.elementType=Aa,_e.lanes=nn,_e;case Ea:return _e=Bg(13,St,e,tn),_e.elementType=Ea,_e.lanes=nn,_e;case Fa:return _e=Bg(19,St,e,tn),_e.elementType=Fa,_e.lanes=nn,_e;case Ia:return qj(St,tn,nn,e);default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case Ba:rn=10;break e;case Ca:rn=9;break e;case Da:rn=11;break e;case Ga:rn=14;break e;case Ha:rn=16,en=null;break e}throw Error(p$2(130,_e==null?_e:typeof _e,""))}return e=Bg(rn,St,e,tn),e.elementType=_e,e.type=en,e.lanes=nn,e}function Ah(_e,e,St,en){return _e=Bg(7,_e,en,e),_e.lanes=St,_e}function qj(_e,e,St,en){return _e=Bg(22,_e,en,e),_e.elementType=Ia,_e.lanes=St,_e.stateNode={isHidden:!1},_e}function xh(_e,e,St){return _e=Bg(6,_e,null,e),_e.lanes=St,_e}function zh(_e,e,St){return e=Bg(4,_e.children!==null?_e.children:[],_e.key,e),e.lanes=St,e.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},e}function bl(_e,e,St,en,tn){this.tag=e,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=en,this.onRecoverableError=tn,this.mutableSourceEagerHydrationData=null}function cl(_e,e,St,en,tn,nn,rn,on,un){return _e=new bl(_e,e,St,on,un),e===1?(e=1,nn===!0&&(e|=8)):e=0,nn=Bg(3,null,null,e),_e.current=nn,nn.stateNode=_e,nn.memoizedState={element:en,isDehydrated:St,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(nn),_e}function dl(_e,e,St){var en=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:en==null?null:""+en,children:_e,containerInfo:e,implementation:St}}function el(_e){if(!_e)return Vf;_e=_e._reactInternals;e:{if(Vb(_e)!==_e||_e.tag!==1)throw Error(p$2(170));var e=_e;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zf(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(p$2(171))}if(_e.tag===1){var St=_e.type;if(Zf(St))return bg(_e,St,e)}return e}function fl$1(_e,e,St,en,tn,nn,rn,on,un){return _e=cl(St,en,!0,_e,tn,nn,rn,on,un),_e.context=el(null),St=_e.current,en=L$1(),tn=lh(St),nn=ch(en,tn),nn.callback=e!=null?e:null,dh(St,nn,tn),_e.current.lanes=tn,Ac(_e,tn,en),Ek(_e,en),_e}function gl(_e,e,St,en){var tn=e.current,nn=L$1(),rn=lh(tn);return St=el(St),e.context===null?e.context=St:e.pendingContext=St,e=ch(nn,rn),e.payload={element:_e},en=en===void 0?null:en,en!==null&&(e.callback=en),_e=dh(tn,e,rn),_e!==null&&(mh(_e,tn,rn,nn),eh(_e,tn,rn)),rn}function hl(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function il(_e,e){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var St=_e.retryLane;_e.retryLane=St!==0&&St<e?St:e}}function jl(_e,e){il(_e,e),(_e=_e.alternate)&&il(_e,e)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(_e){console.error(_e)};function ml(_e){this._internalRoot=_e}nl.prototype.render=ml.prototype.render=function(_e){var e=this._internalRoot;if(e===null)throw Error(p$2(409));gl(_e,e,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var _e=this._internalRoot;if(_e!==null){this._internalRoot=null;var e=_e.containerInfo;Sk(function(){gl(null,_e,null,null)}),e[uf]=null}};function nl(_e){this._internalRoot=_e}nl.prototype.unstable_scheduleHydration=function(_e){if(_e){var e=Hc();_e={blockedOn:null,target:_e,priority:e};for(var St=0;St<Qc.length&&e!==0&&e<Qc[St].priority;St++);Qc.splice(St,0,_e),St===0&&Vc(_e)}};function ol(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11)}function pl(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(_e,e,St,en,tn){if(tn){if(typeof en=="function"){var nn=en;en=function(){var cn=hl(rn);nn.call(cn)}}var rn=fl$1(e,en,_e,0,null,!1,!1,"",ql);return _e._reactRootContainer=rn,_e[uf]=rn.current,sf(_e.nodeType===8?_e.parentNode:_e),Sk(),rn}for(;tn=_e.lastChild;)_e.removeChild(tn);if(typeof en=="function"){var on=en;en=function(){var cn=hl(un);on.call(cn)}}var un=cl(_e,0,!1,null,null,!1,!1,"",ql);return _e._reactRootContainer=un,_e[uf]=un.current,sf(_e.nodeType===8?_e.parentNode:_e),Sk(function(){gl(e,un,St,en)}),un}function sl(_e,e,St,en,tn){var nn=St._reactRootContainer;if(nn){var rn=nn;if(typeof tn=="function"){var on=tn;tn=function(){var un=hl(rn);on.call(un)}}gl(e,rn,_e,tn)}else rn=rl(St,e,_e,tn,en);return hl(rn)}Ec=function(_e){switch(_e.tag){case 3:var e=_e.stateNode;if(e.current.memoizedState.isDehydrated){var St=tc(e.pendingLanes);St!==0&&(Cc(e,St|1),Ek(e,B$1()),(K$1&6)===0&&(Hj=B$1()+500,jg()))}break;case 13:Sk(function(){var en=Zg(_e,1);if(en!==null){var tn=L$1();mh(en,_e,1,tn)}}),jl(_e,1)}};Fc=function(_e){if(_e.tag===13){var e=Zg(_e,134217728);if(e!==null){var St=L$1();mh(e,_e,134217728,St)}jl(_e,134217728)}};Gc=function(_e){if(_e.tag===13){var e=lh(_e),St=Zg(_e,e);if(St!==null){var en=L$1();mh(St,_e,e,en)}jl(_e,e)}};Hc=function(){return C$1};Ic=function(_e,e){var St=C$1;try{return C$1=_e,e()}finally{C$1=St}};yb=function(_e,e,St){switch(e){case"input":if(bb(_e,St),e=St.name,St.type==="radio"&&e!=null){for(St=_e;St.parentNode;)St=St.parentNode;for(St=St.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<St.length;e++){var en=St[e];if(en!==_e&&en.form===_e.form){var tn=Db(en);if(!tn)throw Error(p$2(90));Wa(en),bb(en,tn)}}}break;case"textarea":ib(_e,St);break;case"select":e=St.value,e!=null&&fb(_e,!!St.multiple,e,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=Zb(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc$1=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(_e,e){var St=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(e))throw Error(p$2(200));return dl(_e,e,null,St)};reactDom_production_min.createRoot=function(_e,e){if(!ol(_e))throw Error(p$2(299));var St=!1,en="",tn=ll;return e!=null&&(e.unstable_strictMode===!0&&(St=!0),e.identifierPrefix!==void 0&&(en=e.identifierPrefix),e.onRecoverableError!==void 0&&(tn=e.onRecoverableError)),e=cl(_e,1,!1,null,null,St,!1,en,tn),_e[uf]=e.current,sf(_e.nodeType===8?_e.parentNode:_e),new ml(e)};reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var e=_e._reactInternals;if(e===void 0)throw typeof _e.render=="function"?Error(p$2(188)):(_e=Object.keys(_e).join(","),Error(p$2(268,_e)));return _e=Zb(e),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e){return Sk(_e)};reactDom_production_min.hydrate=function(_e,e,St){if(!pl(e))throw Error(p$2(200));return sl(null,_e,e,!0,St)};reactDom_production_min.hydrateRoot=function(_e,e,St){if(!ol(_e))throw Error(p$2(405));var en=St!=null&&St.hydratedSources||null,tn=!1,nn="",rn=ll;if(St!=null&&(St.unstable_strictMode===!0&&(tn=!0),St.identifierPrefix!==void 0&&(nn=St.identifierPrefix),St.onRecoverableError!==void 0&&(rn=St.onRecoverableError)),e=fl$1(e,null,_e,1,St!=null?St:null,tn,!1,nn,rn),_e[uf]=e.current,sf(_e),en)for(_e=0;_e<en.length;_e++)St=en[_e],tn=St._getVersion,tn=tn(St._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[St,tn]:e.mutableSourceEagerHydrationData.push(St,tn);return new nl(e)};reactDom_production_min.render=function(_e,e,St){if(!pl(e))throw Error(p$2(200));return sl(null,_e,e,!1,St)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!pl(_e))throw Error(p$2(40));return _e._reactRootContainer?(Sk(function(){sl(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,e,St,en){if(!pl(St))throw Error(p$2(200));if(_e==null||_e._reactInternals===void 0)throw Error(p$2(38));return sl(_e,e,St,!1,en)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(_e){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(St){console.error(St)}}e(),_e.exports=reactDom_production_min})(reactDom);var m$2=reactDom.exports;client.createRoot=m$2.createRoot,client.hydrateRoot=m$2.hydrateRoot;const App$1="";var PI_OVER_180=Math.PI/180;function detectBrowser(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const glob=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},Konva$1={_global:glob,version:"8.3.13",isBrowser:detectBrowser(),isUnminified:/param/.test(function(_e){}.toString()),dblClickWindow:400,getAngle(_e){return Konva$1.angleDeg?_e*PI_OVER_180:_e},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Konva$1.DD.isDragging},isDragReady(){return!!Konva$1.DD.node},document:glob.document,_injectGlobal(_e){glob.Konva=_e}},_registerNode=_e=>{Konva$1[_e.prototype.getClassName()]=_e};Konva$1._injectGlobal(Konva$1);class Transform{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new Transform(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){var St=this.m;return{x:St[0]*e.x+St[2]*e.y+St[4],y:St[1]*e.x+St[3]*e.y+St[5]}}translate(e,St){return this.m[4]+=this.m[0]*e+this.m[2]*St,this.m[5]+=this.m[1]*e+this.m[3]*St,this}scale(e,St){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=St,this.m[3]*=St,this}rotate(e){var St=Math.cos(e),en=Math.sin(e),tn=this.m[0]*St+this.m[2]*en,nn=this.m[1]*St+this.m[3]*en,rn=this.m[0]*-en+this.m[2]*St,on=this.m[1]*-en+this.m[3]*St;return this.m[0]=tn,this.m[1]=nn,this.m[2]=rn,this.m[3]=on,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,St){var en=this.m[0]+this.m[2]*St,tn=this.m[1]+this.m[3]*St,nn=this.m[2]+this.m[0]*e,rn=this.m[3]+this.m[1]*e;return this.m[0]=en,this.m[1]=tn,this.m[2]=nn,this.m[3]=rn,this}multiply(e){var St=this.m[0]*e.m[0]+this.m[2]*e.m[1],en=this.m[1]*e.m[0]+this.m[3]*e.m[1],tn=this.m[0]*e.m[2]+this.m[2]*e.m[3],nn=this.m[1]*e.m[2]+this.m[3]*e.m[3],rn=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],on=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=St,this.m[1]=en,this.m[2]=tn,this.m[3]=nn,this.m[4]=rn,this.m[5]=on,this}invert(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),St=this.m[3]*e,en=-this.m[1]*e,tn=-this.m[2]*e,nn=this.m[0]*e,rn=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),on=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=St,this.m[1]=en,this.m[2]=tn,this.m[3]=nn,this.m[4]=rn,this.m[5]=on,this}getMatrix(){return this.m}decompose(){var e=this.m[0],St=this.m[1],en=this.m[2],tn=this.m[3],nn=this.m[4],rn=this.m[5],on=e*tn-St*en;let un={x:nn,y:rn,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||St!=0){var cn=Math.sqrt(e*e+St*St);un.rotation=St>0?Math.acos(e/cn):-Math.acos(e/cn),un.scaleX=cn,un.scaleY=on/cn,un.skewX=(e*en+St*tn)/on,un.skewY=0}else if(en!=0||tn!=0){var dn=Math.sqrt(en*en+tn*tn);un.rotation=Math.PI/2-(tn>0?Math.acos(-en/dn):-Math.acos(en/dn)),un.scaleX=on/dn,un.scaleY=dn,un.skewX=0,un.skewY=(e*en+St*tn)/on}return un.rotation=Util._getRotation(un.rotation),un}}var OBJECT_ARRAY="[object Array]",OBJECT_NUMBER="[object Number]",OBJECT_STRING="[object String]",OBJECT_BOOLEAN="[object Boolean]",PI_OVER_DEG180=Math.PI/180,DEG180_OVER_PI=180/Math.PI,HASH$1="#",EMPTY_STRING$1="",ZERO="0",KONVA_WARNING="Konva warning: ",KONVA_ERROR="Konva error: ",RGB_PAREN="rgb(",COLORS={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},RGB_REGEX=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,animQueue=[];const req=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(_e){setTimeout(_e,60)},Util={_isElement(_e){return!!(_e&&_e.nodeType==1)},_isFunction(_e){return!!(_e&&_e.constructor&&_e.call&&_e.apply)},_isPlainObject(_e){return!!_e&&_e.constructor===Object},_isArray(_e){return Object.prototype.toString.call(_e)===OBJECT_ARRAY},_isNumber(_e){return Object.prototype.toString.call(_e)===OBJECT_NUMBER&&!isNaN(_e)&&isFinite(_e)},_isString(_e){return Object.prototype.toString.call(_e)===OBJECT_STRING},_isBoolean(_e){return Object.prototype.toString.call(_e)===OBJECT_BOOLEAN},isObject(_e){return _e instanceof Object},isValidSelector(_e){if(typeof _e!="string")return!1;var e=_e[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(_e){return _e===0||_e>0?1:-1},requestAnimFrame(_e){animQueue.push(_e),animQueue.length===1&&req(function(){const e=animQueue;animQueue=[],e.forEach(function(St){St()})})},createCanvasElement(){var _e=document.createElement("canvas");try{_e.style=_e.style||{}}catch{}return _e},createImageElement(){return document.createElement("img")},_isInDocument(_e){for(;_e=_e.parentNode;)if(_e==document)return!0;return!1},_urlToImage(_e,e){var St=Util.createImageElement();St.onload=function(){e(St)},St.src=_e},_rgbToHex(_e,e,St){return((1<<24)+(_e<<16)+(e<<8)+St).toString(16).slice(1)},_hexToRgb(_e){_e=_e.replace(HASH$1,EMPTY_STRING$1);var e=parseInt(_e,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){for(var _e=(Math.random()*16777215<<0).toString(16);_e.length<6;)_e=ZERO+_e;return HASH$1+_e},getRGB(_e){var e;return _e in COLORS?(e=COLORS[_e],{r:e[0],g:e[1],b:e[2]}):_e[0]===HASH$1?this._hexToRgb(_e.substring(1)):_e.substr(0,4)===RGB_PAREN?(e=RGB_REGEX.exec(_e.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(_e){return _e=_e||"black",Util._namedColorToRBA(_e)||Util._hex3ColorToRGBA(_e)||Util._hex6ColorToRGBA(_e)||Util._rgbColorToRGBA(_e)||Util._rgbaColorToRGBA(_e)||Util._hslColorToRGBA(_e)},_namedColorToRBA(_e){var e=COLORS[_e.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(_e){if(_e.indexOf("rgb(")===0){_e=_e.match(/rgb\(([^)]+)\)/)[1];var e=_e.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(_e){if(_e.indexOf("rgba(")===0){_e=_e.match(/rgba\(([^)]+)\)/)[1];var e=_e.split(/ *, */).map((St,en)=>St.slice(-1)==="%"?en===3?parseInt(St)/100:parseInt(St)/100*255:Number(St));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA(_e){if(_e[0]==="#"&&_e.length===7)return{r:parseInt(_e.slice(1,3),16),g:parseInt(_e.slice(3,5),16),b:parseInt(_e.slice(5,7),16),a:1}},_hex3ColorToRGBA(_e){if(_e[0]==="#"&&_e.length===4)return{r:parseInt(_e[1]+_e[1],16),g:parseInt(_e[2]+_e[2],16),b:parseInt(_e[3]+_e[3],16),a:1}},_hslColorToRGBA(_e){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(_e)){const[e,...St]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(_e),en=Number(St[0])/360,tn=Number(St[1])/100,nn=Number(St[2])/100;let rn,on,un;if(tn===0)return un=nn*255,{r:Math.round(un),g:Math.round(un),b:Math.round(un),a:1};nn<.5?rn=nn*(1+tn):rn=nn+tn-nn*tn;const cn=2*nn-rn,dn=[0,0,0];for(let Sn=0;Sn<3;Sn++)on=en+1/3*-(Sn-1),on<0&&on++,on>1&&on--,6*on<1?un=cn+(rn-cn)*6*on:2*on<1?un=rn:3*on<2?un=cn+(rn-cn)*(2/3-on)*6:un=cn,dn[Sn]=un*255;return{r:Math.round(dn[0]),g:Math.round(dn[1]),b:Math.round(dn[2]),a:1}}},haveIntersection(_e,e){return!(e.x>_e.x+_e.width||e.x+e.width<_e.x||e.y>_e.y+_e.height||e.y+e.height<_e.y)},cloneObject(_e){var e={};for(var St in _e)this._isPlainObject(_e[St])?e[St]=this.cloneObject(_e[St]):this._isArray(_e[St])?e[St]=this.cloneArray(_e[St]):e[St]=_e[St];return e},cloneArray(_e){return _e.slice(0)},degToRad(_e){return _e*PI_OVER_DEG180},radToDeg(_e){return _e*DEG180_OVER_PI},_degToRad(_e){return Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),Util.degToRad(_e)},_radToDeg(_e){return Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),Util.radToDeg(_e)},_getRotation(_e){return Konva$1.angleDeg?Util.radToDeg(_e):_e},_capitalize(_e){return _e.charAt(0).toUpperCase()+_e.slice(1)},throw(_e){throw new Error(KONVA_ERROR+_e)},error(_e){console.error(KONVA_ERROR+_e)},warn(_e){!Konva$1.showWarnings||console.warn(KONVA_WARNING+_e)},each(_e,e){for(var St in _e)e(St,_e[St])},_inRange(_e,e,St){return e<=_e&&_e<St},_getProjectionToSegment(_e,e,St,en,tn,nn){var rn,on,un,cn=(_e-St)*(_e-St)+(e-en)*(e-en);if(cn==0)rn=_e,on=e,un=(tn-St)*(tn-St)+(nn-en)*(nn-en);else{var dn=((tn-_e)*(St-_e)+(nn-e)*(en-e))/cn;dn<0?(rn=_e,on=e,un=(_e-tn)*(_e-tn)+(e-nn)*(e-nn)):dn>1?(rn=St,on=en,un=(St-tn)*(St-tn)+(en-nn)*(en-nn)):(rn=_e+dn*(St-_e),on=e+dn*(en-e),un=(rn-tn)*(rn-tn)+(on-nn)*(on-nn))}return[rn,on,un]},_getProjectionToLine(_e,e,St){var en=Util.cloneObject(_e),tn=Number.MAX_VALUE;return e.forEach(function(nn,rn){if(!(!St&&rn===e.length-1)){var on=e[(rn+1)%e.length],un=Util._getProjectionToSegment(nn.x,nn.y,on.x,on.y,_e.x,_e.y),cn=un[0],dn=un[1],Sn=un[2];Sn<tn&&(en.x=cn,en.y=dn,tn=Sn)}}),en},_prepareArrayForTween(_e,e,St){var en,tn=[],nn=[];if(_e.length>e.length){var rn=e;e=_e,_e=rn}for(en=0;en<_e.length;en+=2)tn.push({x:_e[en],y:_e[en+1]});for(en=0;en<e.length;en+=2)nn.push({x:e[en],y:e[en+1]});var on=[];return nn.forEach(function(un){var cn=Util._getProjectionToLine(un,tn,St);on.push(cn.x),on.push(cn.y)}),on},_prepareToStringify(_e){var e;_e.visitedByCircularReferenceRemoval=!0;for(var St in _e)if(!!(_e.hasOwnProperty(St)&&_e[St]&&typeof _e[St]=="object")){if(e=Object.getOwnPropertyDescriptor(_e,St),_e[St].visitedByCircularReferenceRemoval||Util._isElement(_e[St]))if(e.configurable)delete _e[St];else return null;else if(Util._prepareToStringify(_e[St])===null)if(e.configurable)delete _e[St];else return null}return delete _e.visitedByCircularReferenceRemoval,_e},_assign(_e,e){for(var St in e)_e[St]=e[St];return _e},_getFirstPointerId(_e){return _e.touches?_e.changedTouches[0].identifier:_e.pointerId||999}};function _formatValue(_e){return Util._isString(_e)?'"'+_e+'"':Object.prototype.toString.call(_e)==="[object Number]"||Util._isBoolean(_e)?_e:Object.prototype.toString.call(_e)}function RGBComponent(_e){return _e>255?255:_e<0?0:Math.round(_e)}function getNumberValidator(){if(Konva$1.isUnminified)return function(_e,e){return Util._isNumber(_e)||Util.warn(_formatValue(_e)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),_e}}function getNumberOrArrayOfNumbersValidator(_e){if(Konva$1.isUnminified)return function(e,St){let en=Util._isNumber(e),tn=Util._isArray(e)&&e.length==_e;return!en&&!tn&&Util.warn(_formatValue(e)+' is a not valid value for "'+St+'" attribute. The value should be a number or Array<number>('+_e+")"),e}}function getNumberOrAutoValidator(){if(Konva$1.isUnminified)return function(_e,e){var St=Util._isNumber(_e),en=_e==="auto";return St||en||Util.warn(_formatValue(_e)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),_e}}function getStringValidator(){if(Konva$1.isUnminified)return function(_e,e){return Util._isString(_e)||Util.warn(_formatValue(_e)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),_e}}function getStringOrGradientValidator(){if(Konva$1.isUnminified)return function(_e,e){const St=Util._isString(_e),en=Object.prototype.toString.call(_e)==="[object CanvasGradient]"||_e&&_e.addColorStop;return St||en||Util.warn(_formatValue(_e)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),_e}}function getNumberArrayValidator(){if(Konva$1.isUnminified)return function(_e,e){const St=Int8Array?Object.getPrototypeOf(Int8Array):null;return St&&_e instanceof St||(Util._isArray(_e)?_e.forEach(function(en){Util._isNumber(en)||Util.warn('"'+e+'" attribute has non numeric element '+en+". Make sure that all elements are numbers.")}):Util.warn(_formatValue(_e)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),_e}}function getBooleanValidator(){if(Konva$1.isUnminified)return function(_e,e){var St=_e===!0||_e===!1;return St||Util.warn(_formatValue(_e)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),_e}}function getComponentValidator(_e){if(Konva$1.isUnminified)return function(e,St){return e==null||Util.isObject(e)||Util.warn(_formatValue(e)+' is a not valid value for "'+St+'" attribute. The value should be an object with properties '+_e),e}}var GET="get",SET$1="set";const Factory={addGetterSetter(_e,e,St,en,tn){Factory.addGetter(_e,e,St),Factory.addSetter(_e,e,en,tn),Factory.addOverloadedGetterSetter(_e,e)},addGetter(_e,e,St){var en=GET+Util._capitalize(e);_e.prototype[en]=_e.prototype[en]||function(){var tn=this.attrs[e];return tn===void 0?St:tn}},addSetter(_e,e,St,en){var tn=SET$1+Util._capitalize(e);_e.prototype[tn]||Factory.overWriteSetter(_e,e,St,en)},overWriteSetter(_e,e,St,en){var tn=SET$1+Util._capitalize(e);_e.prototype[tn]=function(nn){return St&&nn!==void 0&&nn!==null&&(nn=St.call(this,nn,e)),this._setAttr(e,nn),en&&en.call(this),this}},addComponentsGetterSetter(_e,e,St,en,tn){var nn=St.length,rn=Util._capitalize,on=GET+rn(e),un=SET$1+rn(e),cn,dn;_e.prototype[on]=function(){var mn={};for(cn=0;cn<nn;cn++)dn=St[cn],mn[dn]=this.getAttr(e+rn(dn));return mn};var Sn=getComponentValidator(St);_e.prototype[un]=function(mn){var fn=this.attrs[e],vn;en&&(mn=en.call(this,mn)),Sn&&Sn.call(this,mn,e);for(vn in mn)!mn.hasOwnProperty(vn)||this._setAttr(e+rn(vn),mn[vn]);return mn||St.forEach(bn=>{this._setAttr(e+rn(bn),void 0)}),this._fireChangeEvent(e,fn,mn),tn&&tn.call(this),this},Factory.addOverloadedGetterSetter(_e,e)},addOverloadedGetterSetter(_e,e){var St=Util._capitalize(e),en=SET$1+St,tn=GET+St;_e.prototype[e]=function(){return arguments.length?(this[en](arguments[0]),this):this[tn]()}},addDeprecatedGetterSetter(_e,e,St,en){Util.error("Adding deprecated "+e);var tn=GET+Util._capitalize(e),nn=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";_e.prototype[tn]=function(){Util.error(nn);var rn=this.attrs[e];return rn===void 0?St:rn},Factory.addSetter(_e,e,en,function(){Util.error(nn)}),Factory.addOverloadedGetterSetter(_e,e)},backCompat(_e,e){Util.each(e,function(St,en){var tn=_e.prototype[en],nn=GET+Util._capitalize(St),rn=SET$1+Util._capitalize(St);function on(){tn.apply(this,arguments),Util.error('"'+St+'" method is deprecated and will be removed soon. Use ""'+en+'" instead.')}_e.prototype[St]=on,_e.prototype[nn]=on,_e.prototype[rn]=on})},afterSetFilter(){this._filterUpToDate=!1}};function simplifyArray(_e){var e=[],St=_e.length,en=Util,tn,nn;for(tn=0;tn<St;tn++)nn=_e[tn],en._isNumber(nn)?nn=Math.round(nn*1e3)/1e3:en._isString(nn)||(nn=nn+""),e.push(nn);return e}var COMMA=",",OPEN_PAREN="(",CLOSE_PAREN=")",OPEN_PAREN_BRACKET="([",CLOSE_BRACKET_PAREN="])",SEMICOLON=";",DOUBLE_PAREN="()",EQUALS="=",CONTEXT_METHODS=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],CONTEXT_PROPERTIES=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const traceArrMax=100;class Context{constructor(e){this.canvas=e,Konva$1.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,St){var en=this.traceArr,tn=en.length,nn="",rn,on,un,cn;for(rn=0;rn<tn;rn++)on=en[rn],un=on.method,un?(cn=on.args,nn+=un,e?nn+=DOUBLE_PAREN:Util._isArray(cn[0])?nn+=OPEN_PAREN_BRACKET+cn.join(COMMA)+CLOSE_BRACKET_PAREN:(St&&(cn=cn.map(dn=>typeof dn=="number"?Math.floor(dn):dn)),nn+=OPEN_PAREN+cn.join(COMMA)+CLOSE_PAREN)):(nn+=on.property,e||(nn+=EQUALS+on.val)),nn+=SEMICOLON;return nn}clearTrace(){this.traceArr=[]}_trace(e){var St=this.traceArr,en;St.push(e),en=St.length,en>=traceArrMax&&St.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var St=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,St.getWidth()/St.pixelRatio,St.getHeight()/St.pixelRatio)}_applyLineCap(e){var St=e.getLineCap();St&&this.setAttr("lineCap",St)}_applyOpacity(e){var St=e.getAbsoluteOpacity();St!==1&&this.setAttr("globalAlpha",St)}_applyLineJoin(e){var St=e.attrs.lineJoin;St&&this.setAttr("lineJoin",St)}setAttr(e,St){this._context[e]=St}arc(e,St,en,tn,nn,rn){this._context.arc(e,St,en,tn,nn,rn)}arcTo(e,St,en,tn,nn){this._context.arcTo(e,St,en,tn,nn)}beginPath(){this._context.beginPath()}bezierCurveTo(e,St,en,tn,nn,rn){this._context.bezierCurveTo(e,St,en,tn,nn,rn)}clearRect(e,St,en,tn){this._context.clearRect(e,St,en,tn)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(e,St){var en=arguments;if(en.length===2)return this._context.createImageData(e,St);if(en.length===1)return this._context.createImageData(e)}createLinearGradient(e,St,en,tn){return this._context.createLinearGradient(e,St,en,tn)}createPattern(e,St){return this._context.createPattern(e,St)}createRadialGradient(e,St,en,tn,nn,rn){return this._context.createRadialGradient(e,St,en,tn,nn,rn)}drawImage(e,St,en,tn,nn,rn,on,un,cn){var dn=arguments,Sn=this._context;dn.length===3?Sn.drawImage(e,St,en):dn.length===5?Sn.drawImage(e,St,en,tn,nn):dn.length===9&&Sn.drawImage(e,St,en,tn,nn,rn,on,un,cn)}ellipse(e,St,en,tn,nn,rn,on,un){this._context.ellipse(e,St,en,tn,nn,rn,on,un)}isPointInPath(e,St){return this._context.isPointInPath(e,St)}fill(e){e?this._context.fill(e):this._context.fill()}fillRect(e,St,en,tn){this._context.fillRect(e,St,en,tn)}strokeRect(e,St,en,tn){this._context.strokeRect(e,St,en,tn)}fillText(e,St,en,tn){tn?this._context.fillText(e,St,en,tn):this._context.fillText(e,St,en)}measureText(e){return this._context.measureText(e)}getImageData(e,St,en,tn){return this._context.getImageData(e,St,en,tn)}lineTo(e,St){this._context.lineTo(e,St)}moveTo(e,St){this._context.moveTo(e,St)}rect(e,St,en,tn){this._context.rect(e,St,en,tn)}putImageData(e,St,en){this._context.putImageData(e,St,en)}quadraticCurveTo(e,St,en,tn){this._context.quadraticCurveTo(e,St,en,tn)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,St){this._context.scale(e,St)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,St,en,tn,nn,rn){this._context.setTransform(e,St,en,tn,nn,rn)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,St,en,tn){this._context.strokeText(e,St,en,tn)}transform(e,St,en,tn,nn,rn){this._context.transform(e,St,en,tn,nn,rn)}translate(e,St){this._context.translate(e,St)}_enableTrace(){var e=this,St=CONTEXT_METHODS.length,en=this.setAttr,tn,nn,rn=function(on){var un=e[on],cn;e[on]=function(){return nn=simplifyArray(Array.prototype.slice.call(arguments,0)),cn=un.apply(e,arguments),e._trace({method:on,args:nn}),cn}};for(tn=0;tn<St;tn++)rn(CONTEXT_METHODS[tn]);e.setAttr=function(){en.apply(e,arguments);var on=arguments[0],un=arguments[1];(on==="shadowOffsetX"||on==="shadowOffsetY"||on==="shadowBlur")&&(un=un/this.canvas.getPixelRatio()),e._trace({property:on,val:un})}}_applyGlobalCompositeOperation(e){const St=e.attrs.globalCompositeOperation;var en=!St||St==="source-over";en||this.setAttr("globalCompositeOperation",St)}}CONTEXT_PROPERTIES.forEach(function(_e){Object.defineProperty(Context.prototype,_e,{get(){return this._context[_e]},set(e){this._context[_e]=e}})});class SceneContext extends Context{constructor(e){super(e),this._context=e._canvas.getContext("2d")}_fillColor(e){var St=e.fill();this.setAttr("fillStyle",St),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){var St=e._getLinearGradient();St&&(this.setAttr("fillStyle",St),e._fillFunc(this))}_fillRadialGradient(e){var St=e._getRadialGradient();St&&(this.setAttr("fillStyle",St),e._fillFunc(this))}_fill(e){var St=e.fill(),en=e.getFillPriority();if(St&&en==="color"){this._fillColor(e);return}var tn=e.getFillPatternImage();if(tn&&en==="pattern"){this._fillPattern(e);return}var nn=e.getFillLinearGradientColorStops();if(nn&&en==="linear-gradient"){this._fillLinearGradient(e);return}var rn=e.getFillRadialGradientColorStops();if(rn&&en==="radial-gradient"){this._fillRadialGradient(e);return}St?this._fillColor(e):tn?this._fillPattern(e):nn?this._fillLinearGradient(e):rn&&this._fillRadialGradient(e)}_strokeLinearGradient(e){var St=e.getStrokeLinearGradientStartPoint(),en=e.getStrokeLinearGradientEndPoint(),tn=e.getStrokeLinearGradientColorStops(),nn=this.createLinearGradient(St.x,St.y,en.x,en.y);if(tn){for(var rn=0;rn<tn.length;rn+=2)nn.addColorStop(tn[rn],tn[rn+1]);this.setAttr("strokeStyle",nn)}}_stroke(e){var St=e.dash(),en=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!en){this.save();var tn=this.getCanvas().getPixelRatio();this.setTransform(tn,0,0,tn,0,0)}this._applyLineCap(e),St&&e.dashEnabled()&&(this.setLineDash(St),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var nn=e.getStrokeLinearGradientColorStops();nn?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),en||this.restore()}}_applyShadow(e){var St,en,tn,nn=(St=e.getShadowRGBA())!==null&&St!==void 0?St:"black",rn=(en=e.getShadowBlur())!==null&&en!==void 0?en:5,on=(tn=e.getShadowOffset())!==null&&tn!==void 0?tn:{x:0,y:0},un=e.getAbsoluteScale(),cn=this.canvas.getPixelRatio(),dn=un.x*cn,Sn=un.y*cn;this.setAttr("shadowColor",nn),this.setAttr("shadowBlur",rn*Math.min(Math.abs(dn),Math.abs(Sn))),this.setAttr("shadowOffsetX",on.x*dn),this.setAttr("shadowOffsetY",on.y*Sn)}}class HitContext extends Context{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){var St=e.getStrokeScaleEnabled();if(!St){this.save();var en=this.getCanvas().getPixelRatio();this.setTransform(en,0,0,en,0,0)}this._applyLineCap(e);var tn=e.hitStrokeWidth(),nn=tn==="auto"?e.strokeWidth():tn;this.setAttr("lineWidth",nn),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),St||this.restore()}}}var _pixelRatio;function getDevicePixelRatio(){if(_pixelRatio)return _pixelRatio;var _e=Util.createCanvasElement(),e=_e.getContext("2d");return _pixelRatio=function(){var St=Konva$1._global.devicePixelRatio||1,en=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return St/en}(),_pixelRatio}class Canvas{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var St=e||{},en=St.pixelRatio||Konva$1.pixelRatio||getDevicePixelRatio();this.pixelRatio=en,this._canvas=Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var St=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/St,this.getHeight()/St)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var St=this.pixelRatio,en=this.getContext()._context;en.scale(St,St)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var St=this.pixelRatio,en=this.getContext()._context;en.scale(St,St)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,St){this.setWidth(e||0),this.setHeight(St||0)}toDataURL(e,St){try{return this._canvas.toDataURL(e,St)}catch{try{return this._canvas.toDataURL()}catch(tn){return Util.error("Unable to get data URL. "+tn.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}Factory.addGetterSetter(Canvas,"pixelRatio",void 0,getNumberValidator());class SceneCanvas extends Canvas{constructor(e={width:0,height:0}){super(e),this.context=new SceneContext(this),this.setSize(e.width,e.height)}}class HitCanvas extends Canvas{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new HitContext(this),this.setSize(e.width,e.height)}}const DD={get isDragging(){var _e=!1;return DD._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(_e=!0)}),_e},justDragged:!1,get node(){var _e;return DD._dragElements.forEach(e=>{_e=e.node}),_e},_dragElements:new Map,_drag(_e){const e=[];DD._dragElements.forEach((St,en)=>{const{node:tn}=St,nn=tn.getStage();nn.setPointersPositions(_e),St.pointerId===void 0&&(St.pointerId=Util._getFirstPointerId(_e));const rn=nn._changedPointerPositions.find(cn=>cn.id===St.pointerId);if(!!rn){if(St.dragStatus!=="dragging"){var on=tn.dragDistance(),un=Math.max(Math.abs(rn.x-St.startPointerPos.x),Math.abs(rn.y-St.startPointerPos.y));if(un<on||(tn.startDrag({evt:_e}),!tn.isDragging()))return}tn._setDragPosition(_e,St),e.push(tn)}}),e.forEach(St=>{St.fire("dragmove",{type:"dragmove",target:St,evt:_e},!0)})},_endDragBefore(_e){const e=[];DD._dragElements.forEach(St=>{const{node:en}=St,tn=en.getStage();if(_e&&tn.setPointersPositions(_e),!tn._changedPointerPositions.find(on=>on.id===St.pointerId))return;(St.dragStatus==="dragging"||St.dragStatus==="stopped")&&(DD.justDragged=!0,Konva$1._mouseListenClick=!1,Konva$1._touchListenClick=!1,Konva$1._pointerListenClick=!1,St.dragStatus="stopped");const rn=St.node.getLayer()||St.node instanceof Konva$1.Stage&&St.node;rn&&e.indexOf(rn)===-1&&e.push(rn)}),e.forEach(St=>{St.draw()})},_endDragAfter(_e){DD._dragElements.forEach((e,St)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:_e},!0),e.dragStatus!=="dragging"&&DD._dragElements.delete(St)})}};Konva$1.isBrowser&&(window.addEventListener("mouseup",DD._endDragBefore,!0),window.addEventListener("touchend",DD._endDragBefore,!0),window.addEventListener("mousemove",DD._drag),window.addEventListener("touchmove",DD._drag),window.addEventListener("mouseup",DD._endDragAfter,!1),window.addEventListener("touchend",DD._endDragAfter,!1));var ABSOLUTE_OPACITY="absoluteOpacity",ALL_LISTENERS="allEventListeners",ABSOLUTE_TRANSFORM="absoluteTransform",ABSOLUTE_SCALE="absoluteScale",CANVAS="canvas",CHANGE="Change",CHILDREN="children",KONVA="konva",LISTENING="listening",MOUSEENTER$1="mouseenter",MOUSELEAVE$1="mouseleave",SET="set",SHAPE="Shape",SPACE$1=" ",STAGE$1="stage",TRANSFORM="transform",UPPER_STAGE="Stage",VISIBLE="visible",TRANSFORM_CHANGE_STR$1=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(SPACE$1);let idCounter$1=1;class Node{constructor(e){this._id=idCounter$1++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===TRANSFORM||e===ABSOLUTE_TRANSFORM)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,St){var en=this._cache.get(e),tn=e===TRANSFORM||e===ABSOLUTE_TRANSFORM,nn=en===void 0||tn&&en.dirty===!0;return nn&&(en=St.call(this),this._cache.set(e,en)),en}_calculate(e,St,en){if(!this._attachedDepsListeners.get(e)){const tn=St.map(nn=>nn+"Change.konva").join(SPACE$1);this.on(tn,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,en)}_getCanvasCache(){return this._cache.get(CANVAS)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===ABSOLUTE_TRANSFORM&&this.fire("absoluteTransformChange")}clearCache(){return this._cache.delete(CANVAS),this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var St=e||{},en={};(St.x===void 0||St.y===void 0||St.width===void 0||St.height===void 0)&&(en=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var tn=Math.ceil(St.width||en.width),nn=Math.ceil(St.height||en.height),rn=St.pixelRatio,on=St.x===void 0?Math.floor(en.x):St.x,un=St.y===void 0?Math.floor(en.y):St.y,cn=St.offset||0,dn=St.drawBorder||!1,Sn=St.hitCanvasPixelRatio||1;if(!tn||!nn){Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}tn+=cn*2+1,nn+=cn*2+1,on-=cn,un-=cn;var mn=new SceneCanvas({pixelRatio:rn,width:tn,height:nn}),fn=new SceneCanvas({pixelRatio:rn,width:0,height:0}),vn=new HitCanvas({pixelRatio:Sn,width:tn,height:nn}),bn=mn.getContext(),wn=vn.getContext();return vn.isCache=!0,mn.isCache=!0,this._cache.delete(CANVAS),this._filterUpToDate=!1,St.imageSmoothingEnabled===!1&&(mn.getContext()._context.imageSmoothingEnabled=!1,fn.getContext()._context.imageSmoothingEnabled=!1),bn.save(),wn.save(),bn.translate(-on,-un),wn.translate(-on,-un),this._isUnderCache=!0,this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY),this._clearSelfAndDescendantCache(ABSOLUTE_SCALE),this.drawScene(mn,this),this.drawHit(vn,this),this._isUnderCache=!1,bn.restore(),wn.restore(),dn&&(bn.save(),bn.beginPath(),bn.rect(0,0,tn,nn),bn.closePath(),bn.setAttr("strokeStyle","red"),bn.setAttr("lineWidth",5),bn.stroke(),bn.restore()),this._cache.set(CANVAS,{scene:mn,filter:fn,hit:vn,x:on,y:un}),this._requestDraw(),this}isCached(){return this._cache.has(CANVAS)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,St){var en=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],tn,nn,rn,on,un=this.getAbsoluteTransform(St);return en.forEach(function(cn){var dn=un.point(cn);tn===void 0&&(tn=rn=dn.x,nn=on=dn.y),tn=Math.min(tn,dn.x),nn=Math.min(nn,dn.y),rn=Math.max(rn,dn.x),on=Math.max(on,dn.y)}),{x:tn,y:nn,width:rn-tn,height:on-nn}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const St=this._getCanvasCache();e.translate(St.x,St.y);var en=this._getCachedSceneCanvas(),tn=en.pixelRatio;e.drawImage(en._canvas,0,0,en.width/tn,en.height/tn),e.restore()}_drawCachedHitCanvas(e){var St=this._getCanvasCache(),en=St.hit;e.save(),e.translate(St.x,St.y),e.drawImage(en._canvas,0,0,en.width/en.pixelRatio,en.height/en.pixelRatio),e.restore()}_getCachedSceneCanvas(){var e=this.filters(),St=this._getCanvasCache(),en=St.scene,tn=St.filter,nn=tn.getContext(),rn,on,un,cn;if(e){if(!this._filterUpToDate){var dn=en.pixelRatio;tn.setSize(en.width/en.pixelRatio,en.height/en.pixelRatio);try{for(rn=e.length,nn.clear(),nn.drawImage(en._canvas,0,0,en.getWidth()/dn,en.getHeight()/dn),on=nn.getImageData(0,0,tn.getWidth(),tn.getHeight()),un=0;un<rn;un++){if(cn=e[un],typeof cn!="function"){Util.error("Filter should be type of function, but got "+typeof cn+" instead. Please check correct filters");continue}cn.call(this,on),nn.putImageData(on,0,0)}}catch(Sn){Util.error("Unable to apply filter. "+Sn.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return tn}return en}on(e,St){if(this._cache&&this._cache.delete(ALL_LISTENERS),arguments.length===3)return this._delegate.apply(this,arguments);var en=e.split(SPACE$1),tn=en.length,nn,rn,on,un,cn;for(nn=0;nn<tn;nn++)rn=en[nn],on=rn.split("."),un=on[0],cn=on[1]||"",this.eventListeners[un]||(this.eventListeners[un]=[]),this.eventListeners[un].push({name:cn,handler:St});return this}off(e,St){var en=(e||"").split(SPACE$1),tn=en.length,nn,rn,on,un,cn,dn;if(this._cache&&this._cache.delete(ALL_LISTENERS),!e)for(rn in this.eventListeners)this._off(rn);for(nn=0;nn<tn;nn++)if(on=en[nn],un=on.split("."),cn=un[0],dn=un[1],cn)this.eventListeners[cn]&&this._off(cn,dn,St);else for(rn in this.eventListeners)this._off(rn,dn,St);return this}dispatchEvent(e){var St={target:this,type:e.type,evt:e};return this.fire(e.type,St),this}addEventListener(e,St){return this.on(e,function(en){St.call(this,en.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,St,en){var tn=this;this.on(e,function(nn){for(var rn=nn.target.findAncestors(St,!0,tn),on=0;on<rn.length;on++)nn=Util.cloneObject(nn),nn.currentTarget=rn[on],en.call(rn[on],nn)})}remove(){return this.isDragging()&&this.stopDrag(),DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM),this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY),this._clearSelfAndDescendantCache(ABSOLUTE_SCALE),this._clearSelfAndDescendantCache(STAGE$1),this._clearSelfAndDescendantCache(VISIBLE),this._clearSelfAndDescendantCache(LISTENING)}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this}getAttr(e){var St="get"+Util._capitalize(e);return Util._isFunction(this[St])?this[St]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),St=[];e;)St.push(e),e=e.getParent();return St}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{var St,en;if(!e)return this;for(St in e)St!==CHILDREN&&(en=SET+Util._capitalize(St),Util._isFunction(this[en])?this[en](e[St]):this._setAttr(St,e[St]))}),this}isListening(){return this._getCache(LISTENING,this._isListening)}_isListening(e){if(!this.listening())return!1;const en=this.getParent();return en&&en!==e&&this!==e?en._isListening(e):!0}isVisible(){return this._getCache(VISIBLE,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const en=this.getParent();return en&&en!==e&&this!==e?en._isVisible(e):!0}shouldDrawHit(e,St=!1){if(e)return this._isVisible(e)&&this._isListening(e);var en=this.getLayer(),tn=!1;DD._dragElements.forEach(rn=>{rn.dragStatus==="dragging"&&(rn.node.nodeType==="Stage"||rn.node.getLayer()===en)&&(tn=!0)});var nn=!St&&!Konva$1.hitOnDragEnabled&&tn;return this.isListening()&&this.isVisible()&&!nn}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var e=this.getDepth(),St=this,en=0,tn,nn,rn,on;function un(cn){for(tn=[],nn=cn.length,rn=0;rn<nn;rn++)on=cn[rn],en++,on.nodeType!==SHAPE&&(tn=tn.concat(on.getChildren().slice())),on._id===St._id&&(rn=nn);tn.length>0&&tn[0].getDepth()<=e&&un(tn)}return St.nodeType!==UPPER_STAGE&&un(St.getStage().getChildren()),en}getDepth(){for(var e=0,St=this.parent;St;)e++,St=St.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(TRANSFORM),this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var e=this.getStage().getPointerPosition();if(!e)return null;var St=this.getAbsoluteTransform().copy();return St.invert(),St.point(e)}getAbsolutePosition(e){let St=!1,en=this.parent;for(;en;){if(en.isCached()){St=!0;break}en=en.parent}St&&!e&&(e=!0);var tn=this.getAbsoluteTransform(e).getMatrix(),nn=new Transform,rn=this.offset();return nn.m=tn.slice(),nn.translate(rn.x,rn.y),nn.getTranslation()}setAbsolutePosition(e){var St=this._clearTransform();this.attrs.x=St.x,this.attrs.y=St.y,delete St.x,delete St.y,this._clearCache(TRANSFORM);var en=this._getAbsoluteTransform().copy();return en.invert(),en.translate(e.x,e.y),e={x:this.attrs.x+en.getTranslation().x,y:this.attrs.y+en.getTranslation().y},this._setTransform(St),this.setPosition({x:e.x,y:e.y}),this._clearCache(TRANSFORM),this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM),this}_setTransform(e){var St;for(St in e)this.attrs[St]=e[St]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var St=e.x,en=e.y,tn=this.x(),nn=this.y();return St!==void 0&&(tn+=St),en!==void 0&&(nn+=en),this.setPosition({x:tn,y:nn}),this}_eachAncestorReverse(e,St){var en=[],tn=this.getParent(),nn,rn;if(!(St&&St._id===this._id)){for(en.unshift(this);tn&&(!St||tn._id!==St._id);)en.unshift(tn),tn=tn.parent;for(nn=en.length,rn=0;rn<nn;rn++)e(en[rn])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return Util.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index,St=this.parent.getChildren().length;return e<St-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return Util.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index,St=this.parent.getChildren().length;return e<St-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return Util.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var St=this.index;return this.parent.children.splice(St,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(ABSOLUTE_OPACITY,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),St=this.getParent();return St&&!St._isUnderCache&&(e*=St.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var e={},St=this.getAttrs(),en,tn,nn,rn,on;e.attrs={};for(en in St)tn=St[en],on=Util.isObject(tn)&&!Util._isPlainObject(tn)&&!Util._isArray(tn),!on&&(nn=typeof this[en]=="function"&&this[en],delete St[en],rn=nn?nn.call(this):null,St[en]=tn,rn!==tn&&(e.attrs[en]=tn));return e.className=this.getClassName(),Util._prepareToStringify(e)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,St,en){var tn=[];St&&this._isMatch(e)&&tn.push(this);for(var nn=this.parent;nn;){if(nn===en)return tn;nn._isMatch(e)&&tn.push(nn),nn=nn.parent}return tn}isAncestorOf(e){return!1}findAncestor(e,St,en){return this.findAncestors(e,St,en)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);var St=e.replace(/ /g,"").split(","),en=St.length,tn,nn;for(tn=0;tn<en;tn++)if(nn=St[tn],Util.isValidSelector(nn)||(Util.warn('Selector "'+nn+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Util.warn("Konva is awesome, right?")),nn.charAt(0)==="#"){if(this.id()===nn.slice(1))return!0}else if(nn.charAt(0)==="."){if(this.hasName(nn.slice(1)))return!0}else if(this.className===nn||this.nodeType===nn)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(STAGE$1,this._getStage)}_getStage(){var e=this.getParent();if(e)return e.getStage()}fire(e,St={},en){return St.target=St.target||this,en?this._fireAndBubble(e,St):this._fire(e,St),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(ABSOLUTE_TRANSFORM,this._getAbsoluteTransform)}_getAbsoluteTransform(e){var St;if(e)return St=new Transform,this._eachAncestorReverse(function(tn){var nn=tn.transformsEnabled();nn==="all"?St.multiply(tn.getTransform()):nn==="position"&&St.translate(tn.x()-tn.offsetX(),tn.y()-tn.offsetY())},e),St;St=this._cache.get(ABSOLUTE_TRANSFORM)||new Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(St):St.reset();var en=this.transformsEnabled();if(en==="all")St.multiply(this.getTransform());else if(en==="position"){const tn=this.attrs.x||0,nn=this.attrs.y||0,rn=this.attrs.offsetX||0,on=this.attrs.offsetY||0;St.translate(tn-rn,nn-on)}return St.dirty=!1,St}getAbsoluteScale(e){for(var St=this;St;)St._isUnderCache&&(e=St),St=St.getParent();const tn=this.getAbsoluteTransform(e).decompose();return{x:tn.scaleX,y:tn.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(TRANSFORM,this._getTransform)}_getTransform(){var e,St,en=this._cache.get(TRANSFORM)||new Transform;en.reset();var tn=this.x(),nn=this.y(),rn=Konva$1.getAngle(this.rotation()),on=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,un=(St=this.attrs.scaleY)!==null&&St!==void 0?St:1,cn=this.attrs.skewX||0,dn=this.attrs.skewY||0,Sn=this.attrs.offsetX||0,mn=this.attrs.offsetY||0;return(tn!==0||nn!==0)&&en.translate(tn,nn),rn!==0&&en.rotate(rn),(cn!==0||dn!==0)&&en.skew(cn,dn),(on!==1||un!==1)&&en.scale(on,un),(Sn!==0||mn!==0)&&en.translate(-1*Sn,-1*mn),en.dirty=!1,en}clone(e){var St=Util.cloneObject(this.attrs),en,tn,nn,rn,on;for(en in e)St[en]=e[en];var un=new this.constructor(St);for(en in this.eventListeners)for(tn=this.eventListeners[en],nn=tn.length,rn=0;rn<nn;rn++)on=tn[rn],on.name.indexOf(KONVA)<0&&(un.eventListeners[en]||(un.eventListeners[en]=[]),un.eventListeners[en].push(on));return un}_toKonvaCanvas(e){e=e||{};var St=this.getClientRect(),en=this.getStage(),tn=e.x!==void 0?e.x:Math.floor(St.x),nn=e.y!==void 0?e.y:Math.floor(St.y),rn=e.pixelRatio||1,on=new SceneCanvas({width:e.width||Math.ceil(St.width)||(en?en.width():0),height:e.height||Math.ceil(St.height)||(en?en.height():0),pixelRatio:rn}),un=on.getContext();return e.imageSmoothingEnabled===!1&&(un._context.imageSmoothingEnabled=!1),un.save(),(tn||nn)&&un.translate(-1*tn,-1*nn),this.drawScene(on),un.restore(),on}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};var St=e.mimeType||null,en=e.quality||null,tn=this._toKonvaCanvas(e).toDataURL(St,en);return e.callback&&e.callback(tn),tn}toImage(e){return new Promise((St,en)=>{try{const tn=e==null?void 0:e.callback;tn&&delete e.callback,Util._urlToImage(this.toDataURL(e),function(nn){St(nn),tn==null||tn(nn)})}catch(tn){en(tn)}})}toBlob(e){return new Promise((St,en)=>{try{const tn=e==null?void 0:e.callback;tn&&delete e.callback,this.toCanvas(e).toBlob(nn=>{St(nn),tn==null||tn(nn)})}catch(tn){en(tn)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Konva$1.dragDistance}_off(e,St,en){var tn=this.eventListeners[e],nn,rn,on;for(nn=0;nn<tn.length;nn++)if(rn=tn[nn].name,on=tn[nn].handler,(rn!=="konva"||St==="konva")&&(!St||rn===St)&&(!en||en===on)){if(tn.splice(nn,1),tn.length===0){delete this.eventListeners[e];break}nn--}}_fireChangeEvent(e,St,en){this._fire(e+CHANGE,{oldVal:St,newVal:en})}addName(e){if(!this.hasName(e)){var St=this.name(),en=St?St+" "+e:e;this.name(en)}return this}hasName(e){if(!e)return!1;const St=this.name();if(!St)return!1;var en=(St||"").split(/\s/g);return en.indexOf(e)!==-1}removeName(e){var St=(this.name()||"").split(/\s/g),en=St.indexOf(e);return en!==-1&&(St.splice(en,1),this.name(St.join(" "))),this}setAttr(e,St){var en=this[SET+Util._capitalize(e)];return Util._isFunction(en)?en.call(this,St):this._setAttr(e,St),this}_requestDraw(){if(Konva$1.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,St){var en=this.attrs[e];en===St&&!Util.isObject(St)||(St==null?delete this.attrs[e]:this.attrs[e]=St,this._shouldFireChangeEvents&&this._fireChangeEvent(e,en,St),this._requestDraw())}_setComponentAttr(e,St,en){var tn;en!==void 0&&(tn=this.attrs[e],tn||(this.attrs[e]=this.getAttr(e)),this.attrs[e][St]=en,this._fireChangeEvent(e,tn,en))}_fireAndBubble(e,St,en){St&&this.nodeType===SHAPE&&(St.target=this);var tn=(e===MOUSEENTER$1||e===MOUSELEAVE$1)&&(en&&(this===en||this.isAncestorOf&&this.isAncestorOf(en))||this.nodeType==="Stage"&&!en);if(!tn){this._fire(e,St);var nn=(e===MOUSEENTER$1||e===MOUSELEAVE$1)&&en&&en.isAncestorOf&&en.isAncestorOf(this)&&!en.isAncestorOf(this.parent);(St&&!St.cancelBubble||!St)&&this.parent&&this.parent.isListening()&&!nn&&(en&&en.parent?this._fireAndBubble.call(this.parent,e,St,en):this._fireAndBubble.call(this.parent,e,St))}}_getProtoListeners(e){let St=this._cache.get(ALL_LISTENERS);if(!St){St={};let tn=Object.getPrototypeOf(this);for(;tn;){if(!tn.eventListeners){tn=Object.getPrototypeOf(tn);continue}for(var en in tn.eventListeners){const nn=tn.eventListeners[en],rn=St[en]||[];St[en]=nn.concat(rn)}tn=Object.getPrototypeOf(tn)}this._cache.set(ALL_LISTENERS,St)}return St[e]}_fire(e,St){St=St||{},St.currentTarget=this,St.type=e;const en=this._getProtoListeners(e);if(en)for(var tn=0;tn<en.length;tn++)en[tn].handler.call(this,St);const nn=this.eventListeners[e];if(nn)for(var tn=0;tn<nn.length;tn++)nn[tn].handler.call(this,St)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var St=e?e.pointerId:void 0,en=this.getStage(),tn=this.getAbsolutePosition(),nn=en._getPointerById(St)||en._changedPointerPositions[0]||tn;DD._dragElements.set(this._id,{node:this,startPointerPos:nn,offset:{x:nn.x-tn.x,y:nn.y-tn.y},dragStatus:"ready",pointerId:St})}startDrag(e,St=!0){DD._dragElements.has(this._id)||this._createDragElement(e);const en=DD._dragElements.get(this._id);en.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},St)}_setDragPosition(e,St){const en=this.getStage()._getPointerById(St.pointerId);if(!!en){var tn={x:en.x-St.offset.x,y:en.y-St.offset.y},nn=this.dragBoundFunc();if(nn!==void 0){const rn=nn.call(this,tn,e);rn?tn=rn:Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==tn.x||this._lastPos.y!==tn.y)&&(this.setAbsolutePosition(tn),this._requestDraw()),this._lastPos=tn}}stopDrag(e){const St=DD._dragElements.get(this._id);St&&(St.dragStatus="stopped"),DD._endDragBefore(e),DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){var St=e.evt.button!==void 0,en=!St||Konva$1.dragButtons.indexOf(e.evt.button)>=0;if(!!en&&!this.isDragging()){var tn=!1;DD._dragElements.forEach(nn=>{this.isAncestorOf(nn.node)&&(tn=!0)}),tn||this._createDragElement(e)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var e=this.getStage();if(!e)return;const St=DD._dragElements.get(this._id),en=St&&St.dragStatus==="dragging",tn=St&&St.dragStatus==="ready";en?this.stopDrag():tn&&DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const St=this.getStage();if(!St)return!1;const en={x:-e.x,y:-e.y,width:St.width()+2*e.x,height:St.height()+2*e.y};return Util.haveIntersection(en,this.getClientRect())}static create(e,St){return Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,St)}static _createNode(e,St){var en=Node.prototype.getClassName.call(e),tn=e.children,nn,rn,on;St&&(e.attrs.container=St),Konva$1[en]||(Util.warn('Can not find a node with class name "'+en+'". Fallback to "Shape".'),en="Shape");const un=Konva$1[en];if(nn=new un(e.attrs),tn)for(rn=tn.length,on=0;on<rn;on++)nn.add(Node._createNode(tn[on]));return nn}}Node.prototype.nodeType="Node";Node.prototype._attrsAffectingSize=[];Node.prototype.eventListeners={};Node.prototype.on.call(Node.prototype,TRANSFORM_CHANGE_STR$1,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(TRANSFORM),this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM)});Node.prototype.on.call(Node.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(VISIBLE)});Node.prototype.on.call(Node.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(LISTENING)});Node.prototype.on.call(Node.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY)});const addGetterSetter=Factory.addGetterSetter;addGetterSetter(Node,"zIndex");addGetterSetter(Node,"absolutePosition");addGetterSetter(Node,"position");addGetterSetter(Node,"x",0,getNumberValidator());addGetterSetter(Node,"y",0,getNumberValidator());addGetterSetter(Node,"globalCompositeOperation","source-over",getStringValidator());addGetterSetter(Node,"opacity",1,getNumberValidator());addGetterSetter(Node,"name","",getStringValidator());addGetterSetter(Node,"id","",getStringValidator());addGetterSetter(Node,"rotation",0,getNumberValidator());Factory.addComponentsGetterSetter(Node,"scale",["x","y"]);addGetterSetter(Node,"scaleX",1,getNumberValidator());addGetterSetter(Node,"scaleY",1,getNumberValidator());Factory.addComponentsGetterSetter(Node,"skew",["x","y"]);addGetterSetter(Node,"skewX",0,getNumberValidator());addGetterSetter(Node,"skewY",0,getNumberValidator());Factory.addComponentsGetterSetter(Node,"offset",["x","y"]);addGetterSetter(Node,"offsetX",0,getNumberValidator());addGetterSetter(Node,"offsetY",0,getNumberValidator());addGetterSetter(Node,"dragDistance",null,getNumberValidator());addGetterSetter(Node,"width",0,getNumberValidator());addGetterSetter(Node,"height",0,getNumberValidator());addGetterSetter(Node,"listening",!0,getBooleanValidator());addGetterSetter(Node,"preventDefault",!0,getBooleanValidator());addGetterSetter(Node,"filters",null,function(_e){return this._filterUpToDate=!1,_e});addGetterSetter(Node,"visible",!0,getBooleanValidator());addGetterSetter(Node,"transformsEnabled","all",getStringValidator());addGetterSetter(Node,"size");addGetterSetter(Node,"dragBoundFunc");addGetterSetter(Node,"draggable",!1,getBooleanValidator());Factory.backCompat(Node,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class Container extends Node{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];const St=this.children||[];var en=[];return St.forEach(function(tn){e(tn)&&en.push(tn)}),en}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(arguments.length>1){for(var St=0;St<arguments.length;St++)this.add(arguments[St]);return this}var en=e[0];return en.getParent()?(en.moveTo(this),this):(this._validateAdd(en),en.index=this.getChildren().length,en.parent=this,en._clearCaches(),this.getChildren().push(en),this._fire("add",{child:en}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var St=this._generalFind(e,!0);return St.length>0?St[0]:void 0}_generalFind(e,St){var en=[];return this._descendants(tn=>{const nn=tn._isMatch(e);return nn&&en.push(tn),!!(nn&&St)}),en}_descendants(e){let St=!1;const en=this.getChildren();for(const tn of en){if(St=e(tn),St)return!0;if(!!tn.hasChildren()&&(St=tn._descendants(e),St))return!0}return!1}toObject(){var e=Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(St=>{e.children.push(St.toObject())}),e}isAncestorOf(e){for(var St=e.getParent();St;){if(St._id===this._id)return!0;St=St.getParent()}return!1}clone(e){var St=Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(en){St.add(en.clone())}),St}getAllIntersections(e){var St=[];return this.find("Shape").forEach(function(en){en.isVisible()&&en.intersects(e)&&St.push(en)}),St}_clearSelfAndDescendantCache(e){var St;super._clearSelfAndDescendantCache(e),!this.isCached()&&((St=this.children)===null||St===void 0||St.forEach(function(en){en._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(St,en){St.index=en}),this._requestDraw()}drawScene(e,St){var en=this.getLayer(),tn=e||en&&en.getCanvas(),nn=tn&&tn.getContext(),rn=this._getCanvasCache(),on=rn&&rn.scene,un=tn&&tn.isCache;if(!this.isVisible()&&!un)return this;if(on){nn.save();var cn=this.getAbsoluteTransform(St).getMatrix();nn.transform(cn[0],cn[1],cn[2],cn[3],cn[4],cn[5]),this._drawCachedSceneCanvas(nn),nn.restore()}else this._drawChildren("drawScene",tn,St);return this}drawHit(e,St){if(!this.shouldDrawHit(St))return this;var en=this.getLayer(),tn=e||en&&en.hitCanvas,nn=tn&&tn.getContext(),rn=this._getCanvasCache(),on=rn&&rn.hit;if(on){nn.save();var un=this.getAbsoluteTransform(St).getMatrix();nn.transform(un[0],un[1],un[2],un[3],un[4],un[5]),this._drawCachedHitCanvas(nn),nn.restore()}else this._drawChildren("drawHit",tn,St);return this}_drawChildren(e,St,en){var tn,nn=St&&St.getContext(),rn=this.clipWidth(),on=this.clipHeight(),un=this.clipFunc(),cn=rn&&on||un;const dn=en===this;if(cn){nn.save();var Sn=this.getAbsoluteTransform(en),mn=Sn.getMatrix();if(nn.transform(mn[0],mn[1],mn[2],mn[3],mn[4],mn[5]),nn.beginPath(),un)un.call(this,nn,this);else{var fn=this.clipX(),vn=this.clipY();nn.rect(fn,vn,rn,on)}nn.clip(),mn=Sn.copy().invert().getMatrix(),nn.transform(mn[0],mn[1],mn[2],mn[3],mn[4],mn[5])}var bn=!dn&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";bn&&(nn.save(),nn._applyGlobalCompositeOperation(this)),(tn=this.children)===null||tn===void 0||tn.forEach(function(wn){wn[e](St,en)}),bn&&nn.restore(),cn&&nn.restore()}getClientRect(e){var St;e=e||{};var en=e.skipTransform,tn=e.relativeTo,nn,rn,on,un,cn={x:1/0,y:1/0,width:0,height:0},dn=this;(St=this.children)===null||St===void 0||St.forEach(function(bn){if(!!bn.visible()){var wn=bn.getClientRect({relativeTo:dn,skipShadow:e.skipShadow,skipStroke:e.skipStroke});wn.width===0&&wn.height===0||(nn===void 0?(nn=wn.x,rn=wn.y,on=wn.x+wn.width,un=wn.y+wn.height):(nn=Math.min(nn,wn.x),rn=Math.min(rn,wn.y),on=Math.max(on,wn.x+wn.width),un=Math.max(un,wn.y+wn.height)))}});for(var Sn=this.find("Shape"),mn=!1,fn=0;fn<Sn.length;fn++){var vn=Sn[fn];if(vn._isVisible(this)){mn=!0;break}}return mn&&nn!==void 0?cn={x:nn,y:rn,width:on-nn,height:un-rn}:cn={x:0,y:0,width:0,height:0},en?cn:this._transformedRect(cn,tn)}}Factory.addComponentsGetterSetter(Container,"clip",["x","y","width","height"]);Factory.addGetterSetter(Container,"clipX",void 0,getNumberValidator());Factory.addGetterSetter(Container,"clipY",void 0,getNumberValidator());Factory.addGetterSetter(Container,"clipWidth",void 0,getNumberValidator());Factory.addGetterSetter(Container,"clipHeight",void 0,getNumberValidator());Factory.addGetterSetter(Container,"clipFunc");const Captures=new Map,SUPPORT_POINTER_EVENTS=Konva$1._global.PointerEvent!==void 0;function getCapturedShape(_e){return Captures.get(_e)}function createEvent(_e){return{evt:_e,pointerId:_e.pointerId}}function hasPointerCapture(_e,e){return Captures.get(_e)===e}function setPointerCapture(_e,e){releaseCapture(_e),e.getStage()&&(Captures.set(_e,e),SUPPORT_POINTER_EVENTS&&e._fire("gotpointercapture",createEvent(new PointerEvent("gotpointercapture"))))}function releaseCapture(_e,e){const St=Captures.get(_e);if(!St)return;const en=St.getStage();en&&en.content,Captures.delete(_e),SUPPORT_POINTER_EVENTS&&St._fire("lostpointercapture",createEvent(new PointerEvent("lostpointercapture")))}var STAGE="Stage",STRING="string",PX="px",MOUSEOUT="mouseout",MOUSELEAVE="mouseleave",MOUSEOVER="mouseover",MOUSEENTER="mouseenter",MOUSEMOVE="mousemove",MOUSEDOWN="mousedown",MOUSEUP="mouseup",POINTERMOVE="pointermove",POINTERDOWN="pointerdown",POINTERUP="pointerup",POINTERCANCEL="pointercancel",LOSTPOINTERCAPTURE="lostpointercapture",POINTEROUT="pointerout",POINTERLEAVE="pointerleave",POINTEROVER="pointerover",POINTERENTER="pointerenter",CONTEXTMENU="contextmenu",TOUCHSTART="touchstart",TOUCHEND="touchend",TOUCHMOVE="touchmove",TOUCHCANCEL="touchcancel",WHEEL="wheel",MAX_LAYERS_NUMBER=5,EVENTS=[[MOUSEENTER,"_pointerenter"],[MOUSEDOWN,"_pointerdown"],[MOUSEMOVE,"_pointermove"],[MOUSEUP,"_pointerup"],[MOUSELEAVE,"_pointerleave"],[TOUCHSTART,"_pointerdown"],[TOUCHMOVE,"_pointermove"],[TOUCHEND,"_pointerup"],[TOUCHCANCEL,"_pointercancel"],[MOUSEOVER,"_pointerover"],[WHEEL,"_wheel"],[CONTEXTMENU,"_contextmenu"],[POINTERDOWN,"_pointerdown"],[POINTERMOVE,"_pointermove"],[POINTERUP,"_pointerup"],[POINTERCANCEL,"_pointercancel"],[LOSTPOINTERCAPTURE,"_lostpointercapture"]];const EVENTS_MAP={mouse:{[POINTEROUT]:MOUSEOUT,[POINTERLEAVE]:MOUSELEAVE,[POINTEROVER]:MOUSEOVER,[POINTERENTER]:MOUSEENTER,[POINTERMOVE]:MOUSEMOVE,[POINTERDOWN]:MOUSEDOWN,[POINTERUP]:MOUSEUP,[POINTERCANCEL]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[POINTEROUT]:"touchout",[POINTERLEAVE]:"touchleave",[POINTEROVER]:"touchover",[POINTERENTER]:"touchenter",[POINTERMOVE]:TOUCHMOVE,[POINTERDOWN]:TOUCHSTART,[POINTERUP]:TOUCHEND,[POINTERCANCEL]:TOUCHCANCEL,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[POINTEROUT]:POINTEROUT,[POINTERLEAVE]:POINTERLEAVE,[POINTEROVER]:POINTEROVER,[POINTERENTER]:POINTERENTER,[POINTERMOVE]:POINTERMOVE,[POINTERDOWN]:POINTERDOWN,[POINTERUP]:POINTERUP,[POINTERCANCEL]:POINTERCANCEL,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},getEventType=_e=>_e.indexOf("pointer")>=0?"pointer":_e.indexOf("touch")>=0?"touch":"mouse",getEventsMap=_e=>{const e=getEventType(_e);if(e==="pointer")return Konva$1.pointerEventsEnabled&&EVENTS_MAP.pointer;if(e==="touch")return EVENTS_MAP.touch;if(e==="mouse")return EVENTS_MAP.mouse};function checkNoClip(_e={}){return(_e.clipFunc||_e.clipWidth||_e.clipHeight)&&Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),_e}const NO_POINTERS_MESSAGE="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",stages=[];class Stage$1 extends Container{constructor(e){super(checkNoClip(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{checkNoClip(this.attrs)}),this._checkVisibility()}_validateAdd(e){const St=e.getType()==="Layer",en=e.getType()==="FastLayer";St||en||Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===STRING){if(e.charAt(0)==="."){var St=e.slice(1);e=document.getElementsByClassName(St)[0]}else{var en;e.charAt(0)!=="#"?en=e:en=e.slice(1),e=document.getElementById(en)}if(!e)throw"Can not find container in document with id "+en}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var e=this.children,St=e.length,en;for(en=0;en<St;en++)e[en].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),Container.prototype.clone.call(this,e)}destroy(){super.destroy();var e=this.content;e&&Util._isInDocument(e)&&this.container().removeChild(e);var St=stages.indexOf(this);return St>-1&&stages.splice(St,1),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(Util.warn(NO_POINTERS_MESSAGE),null)}_getPointerById(e){return this._pointerPositions.find(St=>St.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e=e||{},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();var St=new SceneCanvas({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),en=St.getContext()._context,tn=this.children;return(e.x||e.y)&&en.translate(-1*e.x,-1*e.y),tn.forEach(function(nn){if(!!nn.isVisible()){var rn=nn._toKonvaCanvas(e);en.drawImage(rn._canvas,e.x,e.y,rn.getWidth()/rn.getPixelRatio(),rn.getHeight()/rn.getPixelRatio())}}),St}getIntersection(e){if(!e)return null;var St=this.children,en=St.length,tn=en-1,nn;for(nn=tn;nn>=0;nn--){const rn=St[nn].getIntersection(e);if(rn)return rn}return null}_resizeDOM(){var e=this.width(),St=this.height();this.content&&(this.content.style.width=e+PX,this.content.style.height=St+PX),this.bufferCanvas.setSize(e,St),this.bufferHitCanvas.setSize(e,St),this.children.forEach(en=>{en.setSize({width:e,height:St}),en.draw()})}add(e,...St){if(arguments.length>1){for(var en=0;en<arguments.length;en++)this.add(arguments[en]);return this}super.add(e);var tn=this.children.length;return tn>MAX_LAYERS_NUMBER&&Util.warn("The stage has "+tn+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),Konva$1.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return hasPointerCapture(e,this)}setPointerCapture(e){setPointerCapture(e,this)}releaseCapture(e){releaseCapture(e)}getLayers(){return this.children}_bindContentEvents(){!Konva$1.isBrowser||EVENTS.forEach(([e,St])=>{this.content.addEventListener(e,en=>{this[St](en)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const St=getEventsMap(e.type);this._fire(St.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const St=getEventsMap(e.type);this._fire(St.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let St=this[e+"targetShape"];return St&&!St.getStage()&&(St=null),St}_pointerleave(e){const St=getEventsMap(e.type),en=getEventType(e.type);if(!!St){this.setPointersPositions(e);var tn=this._getTargetShape(en),nn=!DD.isDragging||Konva$1.hitOnDragEnabled;tn&&nn?(tn._fireAndBubble(St.pointerout,{evt:e}),tn._fireAndBubble(St.pointerleave,{evt:e}),this._fire(St.pointerleave,{evt:e,target:this,currentTarget:this}),this[en+"targetShape"]=null):nn&&(this._fire(St.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(St.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(e){const St=getEventsMap(e.type),en=getEventType(e.type);if(!!St){this.setPointersPositions(e);var tn=!1;this._changedPointerPositions.forEach(nn=>{var rn=this.getIntersection(nn);if(DD.justDragged=!1,Konva$1["_"+en+"ListenClick"]=!0,!(rn&&rn.isListening()))return;Konva$1.capturePointerEventsEnabled&&rn.setPointerCapture(nn.id),this[en+"ClickStartShape"]=rn,rn._fireAndBubble(St.pointerdown,{evt:e,pointerId:nn.id}),tn=!0;const un=e.type.indexOf("touch")>=0;rn.preventDefault()&&e.cancelable&&un&&e.preventDefault()}),tn||this._fire(St.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(e){const St=getEventsMap(e.type),en=getEventType(e.type);if(!St)return;DD.isDragging&&DD.node.preventDefault()&&e.cancelable&&e.preventDefault(),this.setPointersPositions(e);var tn=!DD.isDragging||Konva$1.hitOnDragEnabled;if(!tn)return;var nn={};let rn=!1;var on=this._getTargetShape(en);this._changedPointerPositions.forEach(un=>{const cn=getCapturedShape(un.id)||this.getIntersection(un),dn=un.id,Sn={evt:e,pointerId:dn};var mn=on!==cn;if(mn&&on&&(on._fireAndBubble(St.pointerout,Object.assign({},Sn),cn),on._fireAndBubble(St.pointerleave,Object.assign({},Sn),cn)),cn){if(nn[cn._id])return;nn[cn._id]=!0}cn&&cn.isListening()?(rn=!0,mn&&(cn._fireAndBubble(St.pointerover,Object.assign({},Sn),on),cn._fireAndBubble(St.pointerenter,Object.assign({},Sn),on),this[en+"targetShape"]=cn),cn._fireAndBubble(St.pointermove,Object.assign({},Sn))):on&&(this._fire(St.pointerover,{evt:e,target:this,currentTarget:this,pointerId:dn}),this[en+"targetShape"]=null)}),rn||this._fire(St.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const St=getEventsMap(e.type),en=getEventType(e.type);if(!St)return;this.setPointersPositions(e);const tn=this[en+"ClickStartShape"],nn=this[en+"ClickEndShape"];var rn={};let on=!1;this._changedPointerPositions.forEach(un=>{const cn=getCapturedShape(un.id)||this.getIntersection(un);if(cn){if(cn.releaseCapture(un.id),rn[cn._id])return;rn[cn._id]=!0}const dn=un.id,Sn={evt:e,pointerId:dn};let mn=!1;Konva$1["_"+en+"InDblClickWindow"]?(mn=!0,clearTimeout(this[en+"DblTimeout"])):DD.justDragged||(Konva$1["_"+en+"InDblClickWindow"]=!0,clearTimeout(this[en+"DblTimeout"])),this[en+"DblTimeout"]=setTimeout(function(){Konva$1["_"+en+"InDblClickWindow"]=!1},Konva$1.dblClickWindow),cn&&cn.isListening()?(on=!0,this[en+"ClickEndShape"]=cn,cn._fireAndBubble(St.pointerup,Object.assign({},Sn)),Konva$1["_"+en+"ListenClick"]&&tn&&tn===cn&&(cn._fireAndBubble(St.pointerclick,Object.assign({},Sn)),mn&&nn&&nn===cn&&cn._fireAndBubble(St.pointerdblclick,Object.assign({},Sn)))):(this[en+"ClickEndShape"]=null,Konva$1["_"+en+"ListenClick"]&&this._fire(St.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:dn}),mn&&this._fire(St.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:dn}))}),on||this._fire(St.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Konva$1["_"+en+"ListenClick"]=!1,e.cancelable&&en!=="touch"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);var St=this.getIntersection(this.getPointerPosition());St&&St.isListening()?St._fireAndBubble(CONTEXTMENU,{evt:e}):this._fire(CONTEXTMENU,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);var St=this.getIntersection(this.getPointerPosition());St&&St.isListening()?St._fireAndBubble(WHEEL,{evt:e}):this._fire(WHEEL,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const St=getCapturedShape(e.pointerId)||this.getIntersection(this.getPointerPosition());St&&St._fireAndBubble(POINTERUP,createEvent(e)),releaseCapture(e.pointerId)}_lostpointercapture(e){releaseCapture(e.pointerId)}setPointersPositions(e){var St=this._getContentPosition(),en=null,tn=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,nn=>{this._pointerPositions.push({id:nn.identifier,x:(nn.clientX-St.left)/St.scaleX,y:(nn.clientY-St.top)/St.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,nn=>{this._changedPointerPositions.push({id:nn.identifier,x:(nn.clientX-St.left)/St.scaleX,y:(nn.clientY-St.top)/St.scaleY})})):(en=(e.clientX-St.left)/St.scaleX,tn=(e.clientY-St.top)/St.scaleY,this.pointerPos={x:en,y:tn},this._pointerPositions=[{x:en,y:tn,id:Util._getFirstPointerId(e)}],this._changedPointerPositions=[{x:en,y:tn,id:Util._getFirstPointerId(e)}])}_setPointerPosition(e){Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!Konva$1.isBrowser){var e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}}cache(){return Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}}Stage$1.prototype.nodeType=STAGE;_registerNode(Stage$1);Factory.addGetterSetter(Stage$1,"container");var HAS_SHADOW="hasShadow",SHADOW_RGBA="shadowRGBA",patternImage="patternImage",linearGradient="linearGradient",radialGradient="radialGradient";let dummyContext$1;function getDummyContext$1(){return dummyContext$1||(dummyContext$1=Util.createCanvasElement().getContext("2d"),dummyContext$1)}const shapes={};function _fillFunc$2(_e){_e.fill()}function _strokeFunc$2(_e){_e.stroke()}function _fillFuncHit(_e){_e.fill()}function _strokeFuncHit(_e){_e.stroke()}function _clearHasShadowCache(){this._clearCache(HAS_SHADOW)}function _clearGetShadowRGBACache(){this._clearCache(SHADOW_RGBA)}function _clearFillPatternCache(){this._clearCache(patternImage)}function _clearLinearGradientCache(){this._clearCache(linearGradient)}function _clearRadialGradientCache(){this._clearCache(radialGradient)}class Shape extends Node{constructor(e){super(e);let St;for(;St=Util.getRandomColor(),!(St&&!(St in shapes)););this.colorKey=St,shapes[St]=this}getContext(){return Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(HAS_SHADOW,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(patternImage,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var e=getDummyContext$1();const St=e.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(St&&St.setTransform){const en=new Transform;en.translate(this.fillPatternX(),this.fillPatternY()),en.rotate(Konva$1.getAngle(this.fillPatternRotation())),en.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),en.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const tn=en.getMatrix(),nn=typeof DOMMatrix>"u"?{a:tn[0],b:tn[1],c:tn[2],d:tn[3],e:tn[4],f:tn[5]}:new DOMMatrix(tn);St.setTransform(nn)}return St}}_getLinearGradient(){return this._getCache(linearGradient,this.__getLinearGradient)}__getLinearGradient(){var e=this.fillLinearGradientColorStops();if(e){for(var St=getDummyContext$1(),en=this.fillLinearGradientStartPoint(),tn=this.fillLinearGradientEndPoint(),nn=St.createLinearGradient(en.x,en.y,tn.x,tn.y),rn=0;rn<e.length;rn+=2)nn.addColorStop(e[rn],e[rn+1]);return nn}}_getRadialGradient(){return this._getCache(radialGradient,this.__getRadialGradient)}__getRadialGradient(){var e=this.fillRadialGradientColorStops();if(e){for(var St=getDummyContext$1(),en=this.fillRadialGradientStartPoint(),tn=this.fillRadialGradientEndPoint(),nn=St.createRadialGradient(en.x,en.y,this.fillRadialGradientStartRadius(),tn.x,tn.y,this.fillRadialGradientEndRadius()),rn=0;rn<e.length;rn+=2)nn.addColorStop(e[rn],e[rn+1]);return nn}}getShadowRGBA(){return this._getCache(SHADOW_RGBA,this._getShadowRGBA)}_getShadowRGBA(){if(!!this.hasShadow()){var e=Util.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){var St=this.getStage(),en=St.bufferHitCanvas,tn;return en.getContext().clear(),this.drawHit(en,null,!0),tn=en.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data,tn[3]>0}destroy(){return Node.prototype.destroy.call(this),delete shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var St;if(!this.getStage()||!((St=this.attrs.perfectDrawEnabled)!==null&&St!==void 0?St:!0))return!1;const tn=e||this.hasFill(),nn=this.hasStroke(),rn=this.getAbsoluteOpacity()!==1;if(tn&&nn&&rn)return!0;const on=this.hasShadow(),un=this.shadowForStrokeEnabled();return!!(tn&&nn&&on&&un)}setStrokeHitEnabled(e){Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){const St=e.skipTransform,en=e.relativeTo,tn=this.getSelfRect(),rn=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,on=tn.width+rn,un=tn.height+rn,cn=!e.skipShadow&&this.hasShadow(),dn=cn?this.shadowOffsetX():0,Sn=cn?this.shadowOffsetY():0,mn=on+Math.abs(dn),fn=un+Math.abs(Sn),vn=cn&&this.shadowBlur()||0,bn=mn+vn*2,wn=fn+vn*2,pn={width:bn,height:wn,x:-(rn/2+vn)+Math.min(dn,0)+tn.x,y:-(rn/2+vn)+Math.min(Sn,0)+tn.y};return St?pn:this._transformedRect(pn,en)}drawScene(e,St){var en=this.getLayer(),tn=e||en.getCanvas(),nn=tn.getContext(),rn=this._getCanvasCache(),on=this.getSceneFunc(),un=this.hasShadow(),cn,dn,Sn,mn=tn.isCache,fn=St===this;if(!this.isVisible()&&!fn)return this;if(rn){nn.save();var vn=this.getAbsoluteTransform(St).getMatrix();return nn.transform(vn[0],vn[1],vn[2],vn[3],vn[4],vn[5]),this._drawCachedSceneCanvas(nn),nn.restore(),this}if(!on)return this;if(nn.save(),this._useBufferCanvas()&&!mn){cn=this.getStage(),dn=cn.bufferCanvas,Sn=dn.getContext(),Sn.clear(),Sn.save(),Sn._applyLineJoin(this);var bn=this.getAbsoluteTransform(St).getMatrix();Sn.transform(bn[0],bn[1],bn[2],bn[3],bn[4],bn[5]),on.call(this,Sn,this),Sn.restore();var wn=dn.pixelRatio;un&&nn._applyShadow(this),nn._applyOpacity(this),nn._applyGlobalCompositeOperation(this),nn.drawImage(dn._canvas,0,0,dn.width/wn,dn.height/wn)}else{if(nn._applyLineJoin(this),!fn){var bn=this.getAbsoluteTransform(St).getMatrix();nn.transform(bn[0],bn[1],bn[2],bn[3],bn[4],bn[5]),nn._applyOpacity(this),nn._applyGlobalCompositeOperation(this)}un&&nn._applyShadow(this),on.call(this,nn,this)}return nn.restore(),this}drawHit(e,St,en=!1){if(!this.shouldDrawHit(St,en))return this;var tn=this.getLayer(),nn=e||tn.hitCanvas,rn=nn&&nn.getContext(),on=this.hitFunc()||this.sceneFunc(),un=this._getCanvasCache(),cn=un&&un.hit;if(this.colorKey||Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),cn){rn.save();var dn=this.getAbsoluteTransform(St).getMatrix();return rn.transform(dn[0],dn[1],dn[2],dn[3],dn[4],dn[5]),this._drawCachedHitCanvas(rn),rn.restore(),this}if(!on)return this;if(rn.save(),rn._applyLineJoin(this),!(this===St)){var mn=this.getAbsoluteTransform(St).getMatrix();rn.transform(mn[0],mn[1],mn[2],mn[3],mn[4],mn[5])}return on.call(this,rn,this),rn.restore(),this}drawHitFromCache(e=0){var St=this._getCanvasCache(),en=this._getCachedSceneCanvas(),tn=St.hit,nn=tn.getContext(),rn=tn.getWidth(),on=tn.getHeight(),un,cn,dn,Sn,mn,fn;nn.clear(),nn.drawImage(en._canvas,0,0,rn,on);try{for(un=nn.getImageData(0,0,rn,on),cn=un.data,dn=cn.length,Sn=Util._hexToRgb(this.colorKey),mn=0;mn<dn;mn+=4)fn=cn[mn+3],fn>e?(cn[mn]=Sn.r,cn[mn+1]=Sn.g,cn[mn+2]=Sn.b,cn[mn+3]=255):cn[mn+3]=0;nn.putImageData(un,0,0)}catch(vn){Util.error("Unable to draw hit graph from cached scene canvas. "+vn.message)}return this}hasPointerCapture(e){return hasPointerCapture(e,this)}setPointerCapture(e){setPointerCapture(e,this)}releaseCapture(e){releaseCapture(e)}}Shape.prototype._fillFunc=_fillFunc$2;Shape.prototype._strokeFunc=_strokeFunc$2;Shape.prototype._fillFuncHit=_fillFuncHit;Shape.prototype._strokeFuncHit=_strokeFuncHit;Shape.prototype._centroid=!1;Shape.prototype.nodeType="Shape";_registerNode(Shape);Shape.prototype.eventListeners={};Shape.prototype.on.call(Shape.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",_clearHasShadowCache);Shape.prototype.on.call(Shape.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",_clearGetShadowRGBACache);Shape.prototype.on.call(Shape.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",_clearFillPatternCache);Shape.prototype.on.call(Shape.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",_clearLinearGradientCache);Shape.prototype.on.call(Shape.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",_clearRadialGradientCache);Factory.addGetterSetter(Shape,"stroke",void 0,getStringOrGradientValidator());Factory.addGetterSetter(Shape,"strokeWidth",2,getNumberValidator());Factory.addGetterSetter(Shape,"fillAfterStrokeEnabled",!1);Factory.addGetterSetter(Shape,"hitStrokeWidth","auto",getNumberOrAutoValidator());Factory.addGetterSetter(Shape,"strokeHitEnabled",!0,getBooleanValidator());Factory.addGetterSetter(Shape,"perfectDrawEnabled",!0,getBooleanValidator());Factory.addGetterSetter(Shape,"shadowForStrokeEnabled",!0,getBooleanValidator());Factory.addGetterSetter(Shape,"lineJoin");Factory.addGetterSetter(Shape,"lineCap");Factory.addGetterSetter(Shape,"sceneFunc");Factory.addGetterSetter(Shape,"hitFunc");Factory.addGetterSetter(Shape,"dash");Factory.addGetterSetter(Shape,"dashOffset",0,getNumberValidator());Factory.addGetterSetter(Shape,"shadowColor",void 0,getStringValidator());Factory.addGetterSetter(Shape,"shadowBlur",0,getNumberValidator());Factory.addGetterSetter(Shape,"shadowOpacity",1,getNumberValidator());Factory.addComponentsGetterSetter(Shape,"shadowOffset",["x","y"]);Factory.addGetterSetter(Shape,"shadowOffsetX",0,getNumberValidator());Factory.addGetterSetter(Shape,"shadowOffsetY",0,getNumberValidator());Factory.addGetterSetter(Shape,"fillPatternImage");Factory.addGetterSetter(Shape,"fill",void 0,getStringOrGradientValidator());Factory.addGetterSetter(Shape,"fillPatternX",0,getNumberValidator());Factory.addGetterSetter(Shape,"fillPatternY",0,getNumberValidator());Factory.addGetterSetter(Shape,"fillLinearGradientColorStops");Factory.addGetterSetter(Shape,"strokeLinearGradientColorStops");Factory.addGetterSetter(Shape,"fillRadialGradientStartRadius",0);Factory.addGetterSetter(Shape,"fillRadialGradientEndRadius",0);Factory.addGetterSetter(Shape,"fillRadialGradientColorStops");Factory.addGetterSetter(Shape,"fillPatternRepeat","repeat");Factory.addGetterSetter(Shape,"fillEnabled",!0);Factory.addGetterSetter(Shape,"strokeEnabled",!0);Factory.addGetterSetter(Shape,"shadowEnabled",!0);Factory.addGetterSetter(Shape,"dashEnabled",!0);Factory.addGetterSetter(Shape,"strokeScaleEnabled",!0);Factory.addGetterSetter(Shape,"fillPriority","color");Factory.addComponentsGetterSetter(Shape,"fillPatternOffset",["x","y"]);Factory.addGetterSetter(Shape,"fillPatternOffsetX",0,getNumberValidator());Factory.addGetterSetter(Shape,"fillPatternOffsetY",0,getNumberValidator());Factory.addComponentsGetterSetter(Shape,"fillPatternScale",["x","y"]);Factory.addGetterSetter(Shape,"fillPatternScaleX",1,getNumberValidator());Factory.addGetterSetter(Shape,"fillPatternScaleY",1,getNumberValidator());Factory.addComponentsGetterSetter(Shape,"fillLinearGradientStartPoint",["x","y"]);Factory.addComponentsGetterSetter(Shape,"strokeLinearGradientStartPoint",["x","y"]);Factory.addGetterSetter(Shape,"fillLinearGradientStartPointX",0);Factory.addGetterSetter(Shape,"strokeLinearGradientStartPointX",0);Factory.addGetterSetter(Shape,"fillLinearGradientStartPointY",0);Factory.addGetterSetter(Shape,"strokeLinearGradientStartPointY",0);Factory.addComponentsGetterSetter(Shape,"fillLinearGradientEndPoint",["x","y"]);Factory.addComponentsGetterSetter(Shape,"strokeLinearGradientEndPoint",["x","y"]);Factory.addGetterSetter(Shape,"fillLinearGradientEndPointX",0);Factory.addGetterSetter(Shape,"strokeLinearGradientEndPointX",0);Factory.addGetterSetter(Shape,"fillLinearGradientEndPointY",0);Factory.addGetterSetter(Shape,"strokeLinearGradientEndPointY",0);Factory.addComponentsGetterSetter(Shape,"fillRadialGradientStartPoint",["x","y"]);Factory.addGetterSetter(Shape,"fillRadialGradientStartPointX",0);Factory.addGetterSetter(Shape,"fillRadialGradientStartPointY",0);Factory.addComponentsGetterSetter(Shape,"fillRadialGradientEndPoint",["x","y"]);Factory.addGetterSetter(Shape,"fillRadialGradientEndPointX",0);Factory.addGetterSetter(Shape,"fillRadialGradientEndPointY",0);Factory.addGetterSetter(Shape,"fillPatternRotation",0);Factory.backCompat(Shape,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var HASH="#",BEFORE_DRAW="beforeDraw",DRAW="draw",INTERSECTION_OFFSETS=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],INTERSECTION_OFFSETS_LEN=INTERSECTION_OFFSETS.length;class Layer$1 extends Container{constructor(e){super(e),this.canvas=new SceneCanvas,this.hitCanvas=new HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var St=this.getStage();return St&&St.content&&(St.content.removeChild(this.getNativeCanvasElement()),e<St.children.length-1?St.content.insertBefore(this.getNativeCanvasElement(),St.children[e+1].getCanvas()._canvas):St.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Node.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var e=Node.prototype.moveUp.call(this);if(!e)return!1;var St=this.getStage();return!St||!St.content?!1:(St.content.removeChild(this.getNativeCanvasElement()),this.index<St.children.length-1?St.content.insertBefore(this.getNativeCanvasElement(),St.children[this.index+1].getCanvas()._canvas):St.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Node.prototype.moveDown.call(this)){var e=this.getStage();if(e){var St=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),St[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Node.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var St=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),St[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return Node.prototype.remove.call(this),e&&e.parentNode&&Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:St}){return this.canvas.setSize(e,St),this.hitCanvas.setSize(e,St),this._setSmoothEnabled(),this}_validateAdd(e){var St=e.getType();St!=="Group"&&St!=="Shape"&&Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var St=1,en=!1;;){for(let tn=0;tn<INTERSECTION_OFFSETS_LEN;tn++){const nn=INTERSECTION_OFFSETS[tn],rn=this._getIntersection({x:e.x+nn.x*St,y:e.y+nn.y*St}),on=rn.shape;if(on)return on;if(en=!!rn.antialiased,!rn.antialiased)break}if(en)St+=1;else return null}}_getIntersection(e){const St=this.hitCanvas.pixelRatio,en=this.hitCanvas.context.getImageData(Math.round(e.x*St),Math.round(e.y*St),1,1).data,tn=en[3];if(tn===255){const nn=Util._rgbToHex(en[0],en[1],en[2]),rn=shapes[HASH+nn];return rn?{shape:rn}:{antialiased:!0}}else if(tn>0)return{antialiased:!0};return{}}drawScene(e,St){var en=this.getLayer(),tn=e||en&&en.getCanvas();return this._fire(BEFORE_DRAW,{node:this}),this.clearBeforeDraw()&&tn.getContext().clear(),Container.prototype.drawScene.call(this,tn,St),this._fire(DRAW,{node:this}),this}drawHit(e,St){var en=this.getLayer(),tn=e||en&&en.hitCanvas;return en&&en.clearBeforeDraw()&&en.getHitCanvas().getContext().clear(),Container.prototype.drawHit.call(this,tn,St),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var e=this.parent,St=!!this.hitCanvas._canvas.parentNode;St?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}}Layer$1.prototype.nodeType="Layer";_registerNode(Layer$1);Factory.addGetterSetter(Layer$1,"imageSmoothingEnabled",!0);Factory.addGetterSetter(Layer$1,"clearBeforeDraw",!0);Factory.addGetterSetter(Layer$1,"hitGraphEnabled",!0,getBooleanValidator());class FastLayer extends Layer$1{constructor(e){super(e),this.listening(!1),Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}FastLayer.prototype.nodeType="FastLayer";_registerNode(FastLayer);class Group extends Container{_validateAdd(e){var St=e.getType();St!=="Group"&&St!=="Shape"&&Util.throw("You may only add groups and shapes to groups.")}}Group.prototype.nodeType="Group";_registerNode(Group);var now=function(){return glob.performance&&glob.performance.now?function(){return glob.performance.now()}:function(){return new Date().getTime()}}();class Animation{constructor(e,St){this.id=Animation.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:now(),frameRate:0},this.func=e,this.setLayers(St)}setLayers(e){var St=[];return e?e.length>0?St=e:St=[e]:St=[],this.layers=St,this}getLayers(){return this.layers}addLayer(e){var St=this.layers,en=St.length,tn;for(tn=0;tn<en;tn++)if(St[tn]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){var e=Animation,St=e.animations,en=St.length,tn;for(tn=0;tn<en;tn++)if(St[tn].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=now(),Animation._addAnimation(this),this}stop(){return Animation._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){var St=e.id,en=this.animations,tn=en.length,nn;for(nn=0;nn<tn;nn++)if(en[nn].id===St){this.animations.splice(nn,1);break}}static _runFrames(){var e={},St=this.animations,en,tn,nn,rn,on,un,cn,dn,Sn;for(rn=0;rn<St.length;rn++)if(en=St[rn],tn=en.layers,nn=en.func,en._updateFrameObject(now()),un=tn.length,nn?Sn=nn.call(en,en.frame)!==!1:Sn=!0,!!Sn)for(on=0;on<un;on++)cn=tn[on],cn._id!==void 0&&(e[cn._id]=cn);for(dn in e)!e.hasOwnProperty(dn)||e[dn].batchDraw()}static _animationLoop(){var e=Animation;e.animations.length?(e._runFrames(),Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,Util.requestAnimFrame(this._animationLoop))}}Animation.animations=[];Animation.animIdCounter=0;Animation.animRunning=!1;var blacklist={node:1,duration:1,easing:1,onFinish:1,yoyo:1},PAUSED=1,PLAYING=2,REVERSING=3,idCounter=0,colorAttrs=["fill","stroke","shadowColor"];class TweenEngine{constructor(e,St,en,tn,nn,rn,on){this.prop=e,this.propFunc=St,this.begin=tn,this._pos=tn,this.duration=rn,this._change=0,this.prevPos=0,this.yoyo=on,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=en,this._change=nn-this.begin,this.pause()}fire(e){var St=this[e];St&&St()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=PLAYING,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=REVERSING,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var e=this.getTimer()-this._startTime;this.state===PLAYING?this.setTime(e):this.state===REVERSING&&this.setTime(this.duration-e)}pause(){this.state=PAUSED,this.fire("onPause")}getTimer(){return new Date().getTime()}}class Tween{constructor(e){var St=this,en=e.node,tn=en._id,nn,rn=e.easing||Easings.Linear,on=!!e.yoyo,un;typeof e.duration>"u"?nn=.3:e.duration===0?nn=.001:nn=e.duration,this.node=en,this._id=idCounter++;var cn=en.getLayer()||(en instanceof Konva$1.Stage?en.getLayers():null);cn||Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Animation(function(){St.tween.onEnterFrame()},cn),this.tween=new TweenEngine(un,function(dn){St._tweenFunc(dn)},rn,0,1,nn*1e3,on),this._addListeners(),Tween.attrs[tn]||(Tween.attrs[tn]={}),Tween.attrs[tn][this._id]||(Tween.attrs[tn][this._id]={}),Tween.tweens[tn]||(Tween.tweens[tn]={});for(un in e)blacklist[un]===void 0&&this._addAttr(un,e[un]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,St){var en=this.node,tn=en._id,nn,rn,on,un,cn,dn,Sn,mn;if(on=Tween.tweens[tn][e],on&&delete Tween.attrs[tn][on][e],nn=en.getAttr(e),Util._isArray(St))if(rn=[],cn=Math.max(St.length,nn.length),e==="points"&&St.length!==nn.length&&(St.length>nn.length?(Sn=nn,nn=Util._prepareArrayForTween(nn,St,en.closed())):(dn=St,St=Util._prepareArrayForTween(St,nn,en.closed()))),e.indexOf("fill")===0)for(un=0;un<cn;un++)if(un%2===0)rn.push(St[un]-nn[un]);else{var fn=Util.colorToRGBA(nn[un]);mn=Util.colorToRGBA(St[un]),nn[un]=fn,rn.push({r:mn.r-fn.r,g:mn.g-fn.g,b:mn.b-fn.b,a:mn.a-fn.a})}else for(un=0;un<cn;un++)rn.push(St[un]-nn[un]);else colorAttrs.indexOf(e)!==-1?(nn=Util.colorToRGBA(nn),mn=Util.colorToRGBA(St),rn={r:mn.r-nn.r,g:mn.g-nn.g,b:mn.b-nn.b,a:mn.a-nn.a}):rn=St-nn;Tween.attrs[tn][this._id][e]={start:nn,diff:rn,end:St,trueEnd:dn,trueStart:Sn},Tween.tweens[tn][e]=this._id}_tweenFunc(e){var St=this.node,en=Tween.attrs[St._id][this._id],tn,nn,rn,on,un,cn,dn,Sn;for(tn in en){if(nn=en[tn],rn=nn.start,on=nn.diff,Sn=nn.end,Util._isArray(rn))if(un=[],dn=Math.max(rn.length,Sn.length),tn.indexOf("fill")===0)for(cn=0;cn<dn;cn++)cn%2===0?un.push((rn[cn]||0)+on[cn]*e):un.push("rgba("+Math.round(rn[cn].r+on[cn].r*e)+","+Math.round(rn[cn].g+on[cn].g*e)+","+Math.round(rn[cn].b+on[cn].b*e)+","+(rn[cn].a+on[cn].a*e)+")");else for(cn=0;cn<dn;cn++)un.push((rn[cn]||0)+on[cn]*e);else colorAttrs.indexOf(tn)!==-1?un="rgba("+Math.round(rn.r+on.r*e)+","+Math.round(rn.g+on.g*e)+","+Math.round(rn.b+on.b*e)+","+(rn.a+on.a*e)+")":un=rn+on*e;St.setAttr(tn,un)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var e=this.node,St=Tween.attrs[e._id][this._id];St.points&&St.points.trueEnd&&e.setAttr("points",St.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var e=this.node,St=Tween.attrs[e._id][this._id];St.points&&St.points.trueStart&&e.points(St.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var e=this.node._id,St=this._id,en=Tween.tweens[e],tn;this.pause();for(tn in en)delete Tween.tweens[e][tn];delete Tween.attrs[e][St]}}Tween.attrs={};Tween.tweens={};Node.prototype.to=function(_e){var e=_e.onFinish;_e.node=this,_e.onFinish=function(){this.destroy(),e&&e()};var St=new Tween(_e);St.play()};const Easings={BackEaseIn(_e,e,St,en){var tn=1.70158;return St*(_e/=en)*_e*((tn+1)*_e-tn)+e},BackEaseOut(_e,e,St,en){var tn=1.70158;return St*((_e=_e/en-1)*_e*((tn+1)*_e+tn)+1)+e},BackEaseInOut(_e,e,St,en){var tn=1.70158;return(_e/=en/2)<1?St/2*(_e*_e*(((tn*=1.525)+1)*_e-tn))+e:St/2*((_e-=2)*_e*(((tn*=1.525)+1)*_e+tn)+2)+e},ElasticEaseIn(_e,e,St,en,tn,nn){var rn=0;return _e===0?e:(_e/=en)===1?e+St:(nn||(nn=en*.3),!tn||tn<Math.abs(St)?(tn=St,rn=nn/4):rn=nn/(2*Math.PI)*Math.asin(St/tn),-(tn*Math.pow(2,10*(_e-=1))*Math.sin((_e*en-rn)*(2*Math.PI)/nn))+e)},ElasticEaseOut(_e,e,St,en,tn,nn){var rn=0;return _e===0?e:(_e/=en)===1?e+St:(nn||(nn=en*.3),!tn||tn<Math.abs(St)?(tn=St,rn=nn/4):rn=nn/(2*Math.PI)*Math.asin(St/tn),tn*Math.pow(2,-10*_e)*Math.sin((_e*en-rn)*(2*Math.PI)/nn)+St+e)},ElasticEaseInOut(_e,e,St,en,tn,nn){var rn=0;return _e===0?e:(_e/=en/2)===2?e+St:(nn||(nn=en*(.3*1.5)),!tn||tn<Math.abs(St)?(tn=St,rn=nn/4):rn=nn/(2*Math.PI)*Math.asin(St/tn),_e<1?-.5*(tn*Math.pow(2,10*(_e-=1))*Math.sin((_e*en-rn)*(2*Math.PI)/nn))+e:tn*Math.pow(2,-10*(_e-=1))*Math.sin((_e*en-rn)*(2*Math.PI)/nn)*.5+St+e)},BounceEaseOut(_e,e,St,en){return(_e/=en)<1/2.75?St*(7.5625*_e*_e)+e:_e<2/2.75?St*(7.5625*(_e-=1.5/2.75)*_e+.75)+e:_e<2.5/2.75?St*(7.5625*(_e-=2.25/2.75)*_e+.9375)+e:St*(7.5625*(_e-=2.625/2.75)*_e+.984375)+e},BounceEaseIn(_e,e,St,en){return St-Easings.BounceEaseOut(en-_e,0,St,en)+e},BounceEaseInOut(_e,e,St,en){return _e<en/2?Easings.BounceEaseIn(_e*2,0,St,en)*.5+e:Easings.BounceEaseOut(_e*2-en,0,St,en)*.5+St*.5+e},EaseIn(_e,e,St,en){return St*(_e/=en)*_e+e},EaseOut(_e,e,St,en){return-St*(_e/=en)*(_e-2)+e},EaseInOut(_e,e,St,en){return(_e/=en/2)<1?St/2*_e*_e+e:-St/2*(--_e*(_e-2)-1)+e},StrongEaseIn(_e,e,St,en){return St*(_e/=en)*_e*_e*_e*_e+e},StrongEaseOut(_e,e,St,en){return St*((_e=_e/en-1)*_e*_e*_e*_e+1)+e},StrongEaseInOut(_e,e,St,en){return(_e/=en/2)<1?St/2*_e*_e*_e*_e*_e+e:St/2*((_e-=2)*_e*_e*_e*_e+2)+e},Linear(_e,e,St,en){return St*_e/en+e}},Konva=Util._assign(Konva$1,{Util,Transform,Node,Container,Stage:Stage$1,stages,Layer:Layer$1,FastLayer,Group,DD,Shape,shapes,Animation,Tween,Easings,Context,Canvas});class Arc extends Shape{_sceneFunc(e){var St=Konva$1.getAngle(this.angle()),en=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,St,en),e.arc(0,0,this.innerRadius(),St,0,!en),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),St=this.outerRadius(),en=this.clockwise(),tn=Konva$1.getAngle(en?360-this.angle():this.angle()),nn=Math.cos(Math.min(tn,Math.PI)),rn=1,on=Math.sin(Math.min(Math.max(Math.PI,tn),3*Math.PI/2)),un=Math.sin(Math.min(tn,Math.PI/2)),cn=nn*(nn>0?e:St),dn=rn*St,Sn=on*(on>0?e:St),mn=un*(un>0?St:e);return{x:cn,y:en?-1*mn:Sn,width:dn-cn,height:mn-Sn}}}Arc.prototype._centroid=!0;Arc.prototype.className="Arc";Arc.prototype._attrsAffectingSize=["innerRadius","outerRadius"];_registerNode(Arc);Factory.addGetterSetter(Arc,"innerRadius",0,getNumberValidator());Factory.addGetterSetter(Arc,"outerRadius",0,getNumberValidator());Factory.addGetterSetter(Arc,"angle",0,getNumberValidator());Factory.addGetterSetter(Arc,"clockwise",!1,getBooleanValidator());function getControlPoints(_e,e,St,en,tn,nn,rn){var on=Math.sqrt(Math.pow(St-_e,2)+Math.pow(en-e,2)),un=Math.sqrt(Math.pow(tn-St,2)+Math.pow(nn-en,2)),cn=rn*on/(on+un),dn=rn*un/(on+un),Sn=St-cn*(tn-_e),mn=en-cn*(nn-e),fn=St+dn*(tn-_e),vn=en+dn*(nn-e);return[Sn,mn,fn,vn]}function expandPoints(_e,e){var St=_e.length,en=[],tn,nn;for(tn=2;tn<St-2;tn+=2)nn=getControlPoints(_e[tn-2],_e[tn-1],_e[tn],_e[tn+1],_e[tn+2],_e[tn+3],e),!isNaN(nn[0])&&(en.push(nn[0]),en.push(nn[1]),en.push(_e[tn]),en.push(_e[tn+1]),en.push(nn[2]),en.push(nn[3]));return en}class Line$1 extends Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){var St=this.points(),en=St.length,tn=this.tension(),nn=this.closed(),rn=this.bezier(),on,un,cn;if(!!en){if(e.beginPath(),e.moveTo(St[0],St[1]),tn!==0&&en>4){for(on=this.getTensionPoints(),un=on.length,cn=nn?0:4,nn||e.quadraticCurveTo(on[0],on[1],on[2],on[3]);cn<un-2;)e.bezierCurveTo(on[cn++],on[cn++],on[cn++],on[cn++],on[cn++],on[cn++]);nn||e.quadraticCurveTo(on[un-2],on[un-1],St[en-2],St[en-1])}else if(rn)for(cn=2;cn<en;)e.bezierCurveTo(St[cn++],St[cn++],St[cn++],St[cn++],St[cn++],St[cn++]);else for(cn=2;cn<en;cn+=2)e.lineTo(St[cn],St[cn+1]);nn?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():expandPoints(this.points(),this.tension())}_getTensionPointsClosed(){var e=this.points(),St=e.length,en=this.tension(),tn=getControlPoints(e[St-2],e[St-1],e[0],e[1],e[2],e[3],en),nn=getControlPoints(e[St-4],e[St-3],e[St-2],e[St-1],e[0],e[1],en),rn=expandPoints(e,en),on=[tn[2],tn[3]].concat(rn).concat([nn[0],nn[1],e[St-2],e[St-1],nn[2],nn[3],tn[0],tn[1],e[0],e[1]]);return on}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();for(var St=e[0],en=e[0],tn=e[1],nn=e[1],rn,on,un=0;un<e.length/2;un++)rn=e[un*2],on=e[un*2+1],St=Math.min(St,rn),en=Math.max(en,rn),tn=Math.min(tn,on),nn=Math.max(nn,on);return{x:St,y:tn,width:en-St,height:nn-tn}}}Line$1.prototype.className="Line";Line$1.prototype._attrsAffectingSize=["points","bezier","tension"];_registerNode(Line$1);Factory.addGetterSetter(Line$1,"closed",!1);Factory.addGetterSetter(Line$1,"bezier",!1);Factory.addGetterSetter(Line$1,"tension",0,getNumberValidator());Factory.addGetterSetter(Line$1,"points",[],getNumberArrayValidator());class Path extends Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this.dataArray=Path.parsePathData(this.data()),this.pathLength=0;for(var St=0;St<this.dataArray.length;++St)this.pathLength+=this.dataArray[St].pathLength;this.on("dataChange.konva",function(){this.dataArray=Path.parsePathData(this.data()),this.pathLength=0;for(var en=0;en<this.dataArray.length;++en)this.pathLength+=this.dataArray[en].pathLength})}_sceneFunc(e){var St=this.dataArray;e.beginPath();for(var en=!1,tn=0;tn<St.length;tn++){var nn=St[tn].command,rn=St[tn].points;switch(nn){case"L":e.lineTo(rn[0],rn[1]);break;case"M":e.moveTo(rn[0],rn[1]);break;case"C":e.bezierCurveTo(rn[0],rn[1],rn[2],rn[3],rn[4],rn[5]);break;case"Q":e.quadraticCurveTo(rn[0],rn[1],rn[2],rn[3]);break;case"A":var on=rn[0],un=rn[1],cn=rn[2],dn=rn[3],Sn=rn[4],mn=rn[5],fn=rn[6],vn=rn[7],bn=cn>dn?cn:dn,wn=cn>dn?1:cn/dn,pn=cn>dn?dn/cn:1;e.translate(on,un),e.rotate(fn),e.scale(wn,pn),e.arc(0,0,bn,Sn,Sn+mn,1-vn),e.scale(1/wn,1/pn),e.rotate(-fn),e.translate(-on,-un);break;case"z":en=!0,e.closePath();break}}!en&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){var e=[];this.dataArray.forEach(function(cn){if(cn.command==="A"){var dn=cn.points[4],Sn=cn.points[5],mn=cn.points[4]+Sn,fn=Math.PI/180;if(Math.abs(dn-mn)<fn&&(fn=Math.abs(dn-mn)),Sn<0)for(let vn=dn-fn;vn>mn;vn-=fn){const bn=Path.getPointOnEllipticalArc(cn.points[0],cn.points[1],cn.points[2],cn.points[3],vn,0);e.push(bn.x,bn.y)}else for(let vn=dn+fn;vn<mn;vn+=fn){const bn=Path.getPointOnEllipticalArc(cn.points[0],cn.points[1],cn.points[2],cn.points[3],vn,0);e.push(bn.x,bn.y)}}else if(cn.command==="C")for(let vn=0;vn<=1;vn+=.01){const bn=Path.getPointOnCubicBezier(vn,cn.start.x,cn.start.y,cn.points[0],cn.points[1],cn.points[2],cn.points[3],cn.points[4],cn.points[5]);e.push(bn.x,bn.y)}else e=e.concat(cn.points)});for(var St=e[0],en=e[0],tn=e[1],nn=e[1],rn,on,un=0;un<e.length/2;un++)rn=e[un*2],on=e[un*2+1],isNaN(rn)||(St=Math.min(St,rn),en=Math.max(en,rn)),isNaN(on)||(tn=Math.min(tn,on),nn=Math.max(nn,on));return{x:St,y:tn,width:en-St,height:nn-tn}}getLength(){return this.pathLength}getPointAtLength(e){var St,en=0,tn=this.dataArray.length;if(!tn)return null;for(;en<tn&&e>this.dataArray[en].pathLength;)e-=this.dataArray[en].pathLength,++en;if(en===tn)return St=this.dataArray[en-1].points.slice(-2),{x:St[0],y:St[1]};if(e<.01)return St=this.dataArray[en].points.slice(0,2),{x:St[0],y:St[1]};var nn=this.dataArray[en],rn=nn.points;switch(nn.command){case"L":return Path.getPointOnLine(e,nn.start.x,nn.start.y,rn[0],rn[1]);case"C":return Path.getPointOnCubicBezier(e/nn.pathLength,nn.start.x,nn.start.y,rn[0],rn[1],rn[2],rn[3],rn[4],rn[5]);case"Q":return Path.getPointOnQuadraticBezier(e/nn.pathLength,nn.start.x,nn.start.y,rn[0],rn[1],rn[2],rn[3]);case"A":var on=rn[0],un=rn[1],cn=rn[2],dn=rn[3],Sn=rn[4],mn=rn[5],fn=rn[6];return Sn+=mn*e/nn.pathLength,Path.getPointOnEllipticalArc(on,un,cn,dn,Sn,fn)}return null}static getLineLength(e,St,en,tn){return Math.sqrt((en-e)*(en-e)+(tn-St)*(tn-St))}static getPointOnLine(e,St,en,tn,nn,rn,on){rn===void 0&&(rn=St),on===void 0&&(on=en);var un=(nn-en)/(tn-St+1e-8),cn=Math.sqrt(e*e/(1+un*un));tn<St&&(cn*=-1);var dn=un*cn,Sn;if(tn===St)Sn={x:rn,y:on+dn};else if((on-en)/(rn-St+1e-8)===un)Sn={x:rn+cn,y:on+dn};else{var mn,fn,vn=this.getLineLength(St,en,tn,nn),bn=(rn-St)*(tn-St)+(on-en)*(nn-en);bn=bn/(vn*vn),mn=St+bn*(tn-St),fn=en+bn*(nn-en);var wn=this.getLineLength(rn,on,mn,fn),pn=Math.sqrt(e*e-wn*wn);cn=Math.sqrt(pn*pn/(1+un*un)),tn<St&&(cn*=-1),dn=un*cn,Sn={x:mn+cn,y:fn+dn}}return Sn}static getPointOnCubicBezier(e,St,en,tn,nn,rn,on,un,cn){function dn(wn){return wn*wn*wn}function Sn(wn){return 3*wn*wn*(1-wn)}function mn(wn){return 3*wn*(1-wn)*(1-wn)}function fn(wn){return(1-wn)*(1-wn)*(1-wn)}var vn=un*dn(e)+rn*Sn(e)+tn*mn(e)+St*fn(e),bn=cn*dn(e)+on*Sn(e)+nn*mn(e)+en*fn(e);return{x:vn,y:bn}}static getPointOnQuadraticBezier(e,St,en,tn,nn,rn,on){function un(fn){return fn*fn}function cn(fn){return 2*fn*(1-fn)}function dn(fn){return(1-fn)*(1-fn)}var Sn=rn*un(e)+tn*cn(e)+St*dn(e),mn=on*un(e)+nn*cn(e)+en*dn(e);return{x:Sn,y:mn}}static getPointOnEllipticalArc(e,St,en,tn,nn,rn){var on=Math.cos(rn),un=Math.sin(rn),cn={x:en*Math.cos(nn),y:tn*Math.sin(nn)};return{x:e+(cn.x*on-cn.y*un),y:St+(cn.x*un+cn.y*on)}}static parsePathData(e){if(!e)return[];var St=e,en=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];St=St.replace(new RegExp(" ","g"),",");for(var tn=0;tn<en.length;tn++)St=St.replace(new RegExp(en[tn],"g"),"|"+en[tn]);var nn=St.split("|"),rn=[],on=[],un=0,cn=0,dn=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,Sn;for(tn=1;tn<nn.length;tn++){var mn=nn[tn],fn=mn.charAt(0);for(mn=mn.slice(1),on.length=0;Sn=dn.exec(mn);)on.push(Sn[0]);for(var vn=[],bn=0,wn=on.length;bn<wn;bn++){if(on[bn]==="00"){vn.push(0,0);continue}var pn=parseFloat(on[bn]);isNaN(pn)?vn.push(0):vn.push(pn)}for(;vn.length>0&&!isNaN(vn[0]);){var yn=null,An=[],kn=un,xn=cn,Pn,In,On,Wn,zn,Mn,Gn,er,Qn,ar;switch(fn){case"l":un+=vn.shift(),cn+=vn.shift(),yn="L",An.push(un,cn);break;case"L":un=vn.shift(),cn=vn.shift(),An.push(un,cn);break;case"m":var tr=vn.shift(),or=vn.shift();if(un+=tr,cn+=or,yn="M",rn.length>2&&rn[rn.length-1].command==="z"){for(var Yn=rn.length-2;Yn>=0;Yn--)if(rn[Yn].command==="M"){un=rn[Yn].points[0]+tr,cn=rn[Yn].points[1]+or;break}}An.push(un,cn),fn="l";break;case"M":un=vn.shift(),cn=vn.shift(),yn="M",An.push(un,cn),fn="L";break;case"h":un+=vn.shift(),yn="L",An.push(un,cn);break;case"H":un=vn.shift(),yn="L",An.push(un,cn);break;case"v":cn+=vn.shift(),yn="L",An.push(un,cn);break;case"V":cn=vn.shift(),yn="L",An.push(un,cn);break;case"C":An.push(vn.shift(),vn.shift(),vn.shift(),vn.shift()),un=vn.shift(),cn=vn.shift(),An.push(un,cn);break;case"c":An.push(un+vn.shift(),cn+vn.shift(),un+vn.shift(),cn+vn.shift()),un+=vn.shift(),cn+=vn.shift(),yn="C",An.push(un,cn);break;case"S":In=un,On=cn,Pn=rn[rn.length-1],Pn.command==="C"&&(In=un+(un-Pn.points[2]),On=cn+(cn-Pn.points[3])),An.push(In,On,vn.shift(),vn.shift()),un=vn.shift(),cn=vn.shift(),yn="C",An.push(un,cn);break;case"s":In=un,On=cn,Pn=rn[rn.length-1],Pn.command==="C"&&(In=un+(un-Pn.points[2]),On=cn+(cn-Pn.points[3])),An.push(In,On,un+vn.shift(),cn+vn.shift()),un+=vn.shift(),cn+=vn.shift(),yn="C",An.push(un,cn);break;case"Q":An.push(vn.shift(),vn.shift()),un=vn.shift(),cn=vn.shift(),An.push(un,cn);break;case"q":An.push(un+vn.shift(),cn+vn.shift()),un+=vn.shift(),cn+=vn.shift(),yn="Q",An.push(un,cn);break;case"T":In=un,On=cn,Pn=rn[rn.length-1],Pn.command==="Q"&&(In=un+(un-Pn.points[0]),On=cn+(cn-Pn.points[1])),un=vn.shift(),cn=vn.shift(),yn="Q",An.push(In,On,un,cn);break;case"t":In=un,On=cn,Pn=rn[rn.length-1],Pn.command==="Q"&&(In=un+(un-Pn.points[0]),On=cn+(cn-Pn.points[1])),un+=vn.shift(),cn+=vn.shift(),yn="Q",An.push(In,On,un,cn);break;case"A":Wn=vn.shift(),zn=vn.shift(),Mn=vn.shift(),Gn=vn.shift(),er=vn.shift(),Qn=un,ar=cn,un=vn.shift(),cn=vn.shift(),yn="A",An=this.convertEndpointToCenterParameterization(Qn,ar,un,cn,Gn,er,Wn,zn,Mn);break;case"a":Wn=vn.shift(),zn=vn.shift(),Mn=vn.shift(),Gn=vn.shift(),er=vn.shift(),Qn=un,ar=cn,un+=vn.shift(),cn+=vn.shift(),yn="A",An=this.convertEndpointToCenterParameterization(Qn,ar,un,cn,Gn,er,Wn,zn,Mn);break}rn.push({command:yn||fn,points:An,start:{x:kn,y:xn},pathLength:this.calcLength(kn,xn,yn||fn,An)})}(fn==="z"||fn==="Z")&&rn.push({command:"z",points:[],start:void 0,pathLength:0})}return rn}static calcLength(e,St,en,tn){var nn,rn,on,un,cn=Path;switch(en){case"L":return cn.getLineLength(e,St,tn[0],tn[1]);case"C":for(nn=0,rn=cn.getPointOnCubicBezier(0,e,St,tn[0],tn[1],tn[2],tn[3],tn[4],tn[5]),un=.01;un<=1;un+=.01)on=cn.getPointOnCubicBezier(un,e,St,tn[0],tn[1],tn[2],tn[3],tn[4],tn[5]),nn+=cn.getLineLength(rn.x,rn.y,on.x,on.y),rn=on;return nn;case"Q":for(nn=0,rn=cn.getPointOnQuadraticBezier(0,e,St,tn[0],tn[1],tn[2],tn[3]),un=.01;un<=1;un+=.01)on=cn.getPointOnQuadraticBezier(un,e,St,tn[0],tn[1],tn[2],tn[3]),nn+=cn.getLineLength(rn.x,rn.y,on.x,on.y),rn=on;return nn;case"A":nn=0;var dn=tn[4],Sn=tn[5],mn=tn[4]+Sn,fn=Math.PI/180;if(Math.abs(dn-mn)<fn&&(fn=Math.abs(dn-mn)),rn=cn.getPointOnEllipticalArc(tn[0],tn[1],tn[2],tn[3],dn,0),Sn<0)for(un=dn-fn;un>mn;un-=fn)on=cn.getPointOnEllipticalArc(tn[0],tn[1],tn[2],tn[3],un,0),nn+=cn.getLineLength(rn.x,rn.y,on.x,on.y),rn=on;else for(un=dn+fn;un<mn;un+=fn)on=cn.getPointOnEllipticalArc(tn[0],tn[1],tn[2],tn[3],un,0),nn+=cn.getLineLength(rn.x,rn.y,on.x,on.y),rn=on;return on=cn.getPointOnEllipticalArc(tn[0],tn[1],tn[2],tn[3],mn,0),nn+=cn.getLineLength(rn.x,rn.y,on.x,on.y),nn}return 0}static convertEndpointToCenterParameterization(e,St,en,tn,nn,rn,on,un,cn){var dn=cn*(Math.PI/180),Sn=Math.cos(dn)*(e-en)/2+Math.sin(dn)*(St-tn)/2,mn=-1*Math.sin(dn)*(e-en)/2+Math.cos(dn)*(St-tn)/2,fn=Sn*Sn/(on*on)+mn*mn/(un*un);fn>1&&(on*=Math.sqrt(fn),un*=Math.sqrt(fn));var vn=Math.sqrt((on*on*(un*un)-on*on*(mn*mn)-un*un*(Sn*Sn))/(on*on*(mn*mn)+un*un*(Sn*Sn)));nn===rn&&(vn*=-1),isNaN(vn)&&(vn=0);var bn=vn*on*mn/un,wn=vn*-un*Sn/on,pn=(e+en)/2+Math.cos(dn)*bn-Math.sin(dn)*wn,yn=(St+tn)/2+Math.sin(dn)*bn+Math.cos(dn)*wn,An=function(zn){return Math.sqrt(zn[0]*zn[0]+zn[1]*zn[1])},kn=function(zn,Mn){return(zn[0]*Mn[0]+zn[1]*Mn[1])/(An(zn)*An(Mn))},xn=function(zn,Mn){return(zn[0]*Mn[1]<zn[1]*Mn[0]?-1:1)*Math.acos(kn(zn,Mn))},Pn=xn([1,0],[(Sn-bn)/on,(mn-wn)/un]),In=[(Sn-bn)/on,(mn-wn)/un],On=[(-1*Sn-bn)/on,(-1*mn-wn)/un],Wn=xn(In,On);return kn(In,On)<=-1&&(Wn=Math.PI),kn(In,On)>=1&&(Wn=0),rn===0&&Wn>0&&(Wn=Wn-2*Math.PI),rn===1&&Wn<0&&(Wn=Wn+2*Math.PI),[pn,yn,on,un,Pn,Wn,dn,rn]}}Path.prototype.className="Path";Path.prototype._attrsAffectingSize=["data"];_registerNode(Path);Factory.addGetterSetter(Path,"data");class Arrow extends Line$1{_sceneFunc(e){super._sceneFunc(e);var St=Math.PI*2,en=this.points(),tn=en,nn=this.tension()!==0&&en.length>4;nn&&(tn=this.getTensionPoints());var rn=this.pointerLength(),on=en.length,un,cn;if(nn){const mn=[tn[tn.length-4],tn[tn.length-3],tn[tn.length-2],tn[tn.length-1],en[on-2],en[on-1]],fn=Path.calcLength(tn[tn.length-4],tn[tn.length-3],"C",mn),vn=Path.getPointOnQuadraticBezier(Math.min(1,1-rn/fn),mn[0],mn[1],mn[2],mn[3],mn[4],mn[5]);un=en[on-2]-vn.x,cn=en[on-1]-vn.y}else un=en[on-2]-en[on-4],cn=en[on-1]-en[on-3];var dn=(Math.atan2(cn,un)+St)%St,Sn=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(en[on-2],en[on-1]),e.rotate(dn),e.moveTo(0,0),e.lineTo(-rn,Sn/2),e.lineTo(-rn,-Sn/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(en[0],en[1]),nn?(un=(tn[0]+tn[2])/2-en[0],cn=(tn[1]+tn[3])/2-en[1]):(un=en[2]-en[0],cn=en[3]-en[1]),e.rotate((Math.atan2(-cn,-un)+St)%St),e.moveTo(0,0),e.lineTo(-rn,Sn/2),e.lineTo(-rn,-Sn/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){var St=this.dashEnabled();St&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),St&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),St=this.pointerWidth()/2;return{x:e.x-St,y:e.y-St,width:e.width+St*2,height:e.height+St*2}}}Arrow.prototype.className="Arrow";_registerNode(Arrow);Factory.addGetterSetter(Arrow,"pointerLength",10,getNumberValidator());Factory.addGetterSetter(Arrow,"pointerWidth",10,getNumberValidator());Factory.addGetterSetter(Arrow,"pointerAtBeginning",!1);Factory.addGetterSetter(Arrow,"pointerAtEnding",!0);class Circle extends Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}Circle.prototype._centroid=!0;Circle.prototype.className="Circle";Circle.prototype._attrsAffectingSize=["radius"];_registerNode(Circle);Factory.addGetterSetter(Circle,"radius",0,getNumberValidator());class Ellipse extends Shape{_sceneFunc(e){var St=this.radiusX(),en=this.radiusY();e.beginPath(),e.save(),St!==en&&e.scale(1,en/St),e.arc(0,0,St,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Ellipse.prototype.className="Ellipse";Ellipse.prototype._centroid=!0;Ellipse.prototype._attrsAffectingSize=["radiusX","radiusY"];_registerNode(Ellipse);Factory.addComponentsGetterSetter(Ellipse,"radius",["x","y"]);Factory.addGetterSetter(Ellipse,"radiusX",0,getNumberValidator());Factory.addGetterSetter(Ellipse,"radiusY",0,getNumberValidator());class Image$2 extends Shape{constructor(e){super(e),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){const St=this.getWidth(),en=this.getHeight(),tn=this.attrs.image;let nn;if(tn){const rn=this.attrs.cropWidth,on=this.attrs.cropHeight;rn&&on?nn=[tn,this.cropX(),this.cropY(),rn,on,0,0,St,en]:nn=[tn,0,0,St,en]}(this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,St,en),e.closePath(),e.fillStrokeShape(this)),tn&&e.drawImage.apply(e,nn)}_hitFunc(e){var St=this.width(),en=this.height();e.beginPath(),e.rect(0,0,St,en),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,St;return(e=this.attrs.width)!==null&&e!==void 0?e:(St=this.image())===null||St===void 0?void 0:St.width}getHeight(){var e,St;return(e=this.attrs.height)!==null&&e!==void 0?e:(St=this.image())===null||St===void 0?void 0:St.height}static fromURL(e,St,en=null){var tn=Util.createImageElement();tn.onload=function(){var nn=new Image$2({image:tn});St(nn)},tn.onerror=en,tn.crossOrigin="Anonymous",tn.src=e}}Image$2.prototype.className="Image";_registerNode(Image$2);Factory.addGetterSetter(Image$2,"image");Factory.addComponentsGetterSetter(Image$2,"crop",["x","y","width","height"]);Factory.addGetterSetter(Image$2,"cropX",0,getNumberValidator());Factory.addGetterSetter(Image$2,"cropY",0,getNumberValidator());Factory.addGetterSetter(Image$2,"cropWidth",0,getNumberValidator());Factory.addGetterSetter(Image$2,"cropHeight",0,getNumberValidator());var ATTR_CHANGE_LIST$2=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],CHANGE_KONVA$1="Change.konva",NONE$1="none",UP="up",RIGHT$1="right",DOWN="down",LEFT$1="left",attrChangeListLen$1=ATTR_CHANGE_LIST$2.length;class Label extends Group{constructor(e){super(e),this.on("add.konva",function(St){this._addListeners(St.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){var St=this,en,tn=function(){St._sync()};for(en=0;en<attrChangeListLen$1;en++)e.on(ATTR_CHANGE_LIST$2[en]+CHANGE_KONVA$1,tn)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var e=this.getText(),St=this.getTag(),en,tn,nn,rn,on,un,cn;if(e&&St){switch(en=e.width(),tn=e.height(),nn=St.pointerDirection(),rn=St.pointerWidth(),cn=St.pointerHeight(),on=0,un=0,nn){case UP:on=en/2,un=-1*cn;break;case RIGHT$1:on=en+rn,un=tn/2;break;case DOWN:on=en/2,un=tn+cn;break;case LEFT$1:on=-1*rn,un=tn/2;break}St.setAttrs({x:-1*on,y:-1*un,width:en,height:tn}),e.setAttrs({x:-1*on,y:-1*un})}}}Label.prototype.className="Label";_registerNode(Label);class Tag extends Shape{_sceneFunc(e){var St=this.width(),en=this.height(),tn=this.pointerDirection(),nn=this.pointerWidth(),rn=this.pointerHeight(),on=this.cornerRadius();let un=0,cn=0,dn=0,Sn=0;typeof on=="number"?un=cn=dn=Sn=Math.min(on,St/2,en/2):(un=Math.min(on[0]||0,St/2,en/2),cn=Math.min(on[1]||0,St/2,en/2),Sn=Math.min(on[2]||0,St/2,en/2),dn=Math.min(on[3]||0,St/2,en/2)),e.beginPath(),e.moveTo(un,0),tn===UP&&(e.lineTo((St-nn)/2,0),e.lineTo(St/2,-1*rn),e.lineTo((St+nn)/2,0)),e.lineTo(St-cn,0),e.arc(St-cn,cn,cn,Math.PI*3/2,0,!1),tn===RIGHT$1&&(e.lineTo(St,(en-rn)/2),e.lineTo(St+nn,en/2),e.lineTo(St,(en+rn)/2)),e.lineTo(St,en-Sn),e.arc(St-Sn,en-Sn,Sn,0,Math.PI/2,!1),tn===DOWN&&(e.lineTo((St+nn)/2,en),e.lineTo(St/2,en+rn),e.lineTo((St-nn)/2,en)),e.lineTo(dn,en),e.arc(dn,en-dn,dn,Math.PI/2,Math.PI,!1),tn===LEFT$1&&(e.lineTo(0,(en+rn)/2),e.lineTo(-1*nn,en/2),e.lineTo(0,(en-rn)/2)),e.lineTo(0,un),e.arc(un,un,un,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){var e=0,St=0,en=this.pointerWidth(),tn=this.pointerHeight(),nn=this.pointerDirection(),rn=this.width(),on=this.height();return nn===UP?(St-=tn,on+=tn):nn===DOWN?on+=tn:nn===LEFT$1?(e-=en*1.5,rn+=en):nn===RIGHT$1&&(rn+=en*1.5),{x:e,y:St,width:rn,height:on}}}Tag.prototype.className="Tag";_registerNode(Tag);Factory.addGetterSetter(Tag,"pointerDirection",NONE$1);Factory.addGetterSetter(Tag,"pointerWidth",0,getNumberValidator());Factory.addGetterSetter(Tag,"pointerHeight",0,getNumberValidator());Factory.addGetterSetter(Tag,"cornerRadius",0,getNumberOrArrayOfNumbersValidator(4));class Rect extends Shape{_sceneFunc(e){var St=this.cornerRadius(),en=this.width(),tn=this.height();if(e.beginPath(),!St)e.rect(0,0,en,tn);else{let nn=0,rn=0,on=0,un=0;typeof St=="number"?nn=rn=on=un=Math.min(St,en/2,tn/2):(nn=Math.min(St[0]||0,en/2,tn/2),rn=Math.min(St[1]||0,en/2,tn/2),un=Math.min(St[2]||0,en/2,tn/2),on=Math.min(St[3]||0,en/2,tn/2)),e.moveTo(nn,0),e.lineTo(en-rn,0),e.arc(en-rn,rn,rn,Math.PI*3/2,0,!1),e.lineTo(en,tn-un),e.arc(en-un,tn-un,un,0,Math.PI/2,!1),e.lineTo(on,tn),e.arc(on,tn-on,on,Math.PI/2,Math.PI,!1),e.lineTo(0,nn),e.arc(nn,nn,nn,Math.PI,Math.PI*3/2,!1)}e.closePath(),e.fillStrokeShape(this)}}Rect.prototype.className="Rect";_registerNode(Rect);Factory.addGetterSetter(Rect,"cornerRadius",0,getNumberOrArrayOfNumbersValidator(4));class RegularPolygon extends Shape{_sceneFunc(e){const St=this._getPoints();e.beginPath(),e.moveTo(St[0].x,St[0].y);for(var en=1;en<St.length;en++)e.lineTo(St[en].x,St[en].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,St=this.attrs.radius||0,en=[];for(var tn=0;tn<e;tn++)en.push({x:St*Math.sin(tn*2*Math.PI/e),y:-1*St*Math.cos(tn*2*Math.PI/e)});return en}getSelfRect(){const e=this._getPoints();var St=e[0].x,en=e[0].y,tn=e[0].x,nn=e[0].y;return e.forEach(rn=>{St=Math.min(St,rn.x),en=Math.max(en,rn.x),tn=Math.min(tn,rn.y),nn=Math.max(nn,rn.y)}),{x:St,y:tn,width:en-St,height:nn-tn}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}RegularPolygon.prototype.className="RegularPolygon";RegularPolygon.prototype._centroid=!0;RegularPolygon.prototype._attrsAffectingSize=["radius"];_registerNode(RegularPolygon);Factory.addGetterSetter(RegularPolygon,"radius",0,getNumberValidator());Factory.addGetterSetter(RegularPolygon,"sides",0,getNumberValidator());var PIx2=Math.PI*2;class Ring extends Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,PIx2,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),PIx2,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Ring.prototype.className="Ring";Ring.prototype._centroid=!0;Ring.prototype._attrsAffectingSize=["innerRadius","outerRadius"];_registerNode(Ring);Factory.addGetterSetter(Ring,"innerRadius",0,getNumberValidator());Factory.addGetterSetter(Ring,"outerRadius",0,getNumberValidator());class Sprite extends Shape{constructor(e){super(e),this._updated=!0,this.anim=new Animation(()=>{var St=this._updated;return this._updated=!1,St}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){!this.anim.isRunning()||(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){var St=this.animation(),en=this.frameIndex(),tn=en*4,nn=this.animations()[St],rn=this.frameOffsets(),on=nn[tn+0],un=nn[tn+1],cn=nn[tn+2],dn=nn[tn+3],Sn=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,cn,dn),e.closePath(),e.fillStrokeShape(this)),Sn)if(rn){var mn=rn[St],fn=en*2;e.drawImage(Sn,on,un,cn,dn,mn[fn+0],mn[fn+1],cn,dn)}else e.drawImage(Sn,on,un,cn,dn,0,0,cn,dn)}_hitFunc(e){var St=this.animation(),en=this.frameIndex(),tn=en*4,nn=this.animations()[St],rn=this.frameOffsets(),on=nn[tn+2],un=nn[tn+3];if(e.beginPath(),rn){var cn=rn[St],dn=en*2;e.rect(cn[dn+0],cn[dn+1],on,un)}else e.rect(0,0,on,un);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var e=this.frameIndex(),St=this.animation(),en=this.animations(),tn=en[St],nn=tn.length/4;e<nn-1?this.frameIndex(e+1):this.frameIndex(0)}}Sprite.prototype.className="Sprite";_registerNode(Sprite);Factory.addGetterSetter(Sprite,"animation");Factory.addGetterSetter(Sprite,"animations");Factory.addGetterSetter(Sprite,"frameOffsets");Factory.addGetterSetter(Sprite,"image");Factory.addGetterSetter(Sprite,"frameIndex",0,getNumberValidator());Factory.addGetterSetter(Sprite,"frameRate",17,getNumberValidator());Factory.backCompat(Sprite,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Star extends Shape{_sceneFunc(e){var St=this.innerRadius(),en=this.outerRadius(),tn=this.numPoints();e.beginPath(),e.moveTo(0,0-en);for(var nn=1;nn<tn*2;nn++){var rn=nn%2===0?en:St,on=rn*Math.sin(nn*Math.PI/tn),un=-1*rn*Math.cos(nn*Math.PI/tn);e.lineTo(on,un)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Star.prototype.className="Star";Star.prototype._centroid=!0;Star.prototype._attrsAffectingSize=["innerRadius","outerRadius"];_registerNode(Star);Factory.addGetterSetter(Star,"numPoints",5,getNumberValidator());Factory.addGetterSetter(Star,"innerRadius",0,getNumberValidator());Factory.addGetterSetter(Star,"outerRadius",0,getNumberValidator());function stringToArray(_e){return Array.from(_e)}var AUTO="auto",CENTER="center",JUSTIFY="justify",CHANGE_KONVA="Change.konva",CONTEXT_2D="2d",DASH="-",LEFT="left",TEXT="text",TEXT_UPPER="Text",TOP="top",BOTTOM="bottom",MIDDLE="middle",NORMAL$1="normal",PX_SPACE="px ",SPACE=" ",RIGHT="right",WORD="word",CHAR="char",NONE="none",ELLIPSIS="\u2026",ATTR_CHANGE_LIST$1=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],attrChangeListLen=ATTR_CHANGE_LIST$1.length;function normalizeFontFamily(_e){return _e.split(",").map(e=>{e=e.trim();const St=e.indexOf(" ")>=0,en=e.indexOf('"')>=0||e.indexOf("'")>=0;return St&&!en&&(e=`"${e}"`),e}).join(", ")}var dummyContext;function getDummyContext(){return dummyContext||(dummyContext=Util.createCanvasElement().getContext(CONTEXT_2D),dummyContext)}function _fillFunc$1(_e){_e.fillText(this._partialText,this._partialTextX,this._partialTextY)}function _strokeFunc$1(_e){_e.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function checkDefaultFill(_e){return _e=_e||{},!_e.fillLinearGradientColorStops&&!_e.fillRadialGradientColorStops&&!_e.fillPatternImage&&(_e.fill=_e.fill||"black"),_e}class Text extends Shape{constructor(e){super(checkDefaultFill(e)),this._partialTextX=0,this._partialTextY=0;for(var St=0;St<attrChangeListLen;St++)this.on(ATTR_CHANGE_LIST$1[St]+CHANGE_KONVA,this._setTextData);this._setTextData()}_sceneFunc(e){var St=this.textArr,en=St.length;if(!!this.text()){var tn=this.padding(),nn=this.fontSize(),rn=this.lineHeight()*nn,on=this.verticalAlign(),un=0,cn=this.align(),dn=this.getWidth(),Sn=this.letterSpacing(),mn=this.fill(),fn=this.textDecoration(),vn=fn.indexOf("underline")!==-1,bn=fn.indexOf("line-through")!==-1,wn,pn=0,pn=rn/2,yn=0,An=0;for(e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",MIDDLE),e.setAttr("textAlign",LEFT),on===MIDDLE?un=(this.getHeight()-en*rn-tn*2)/2:on===BOTTOM&&(un=this.getHeight()-en*rn-tn*2),e.translate(tn,un+tn),wn=0;wn<en;wn++){var yn=0,An=0,kn=St[wn],xn=kn.text,Pn=kn.width,In=kn.lastInParagraph,On,Wn,zn;if(e.save(),cn===RIGHT?yn+=dn-Pn-tn*2:cn===CENTER&&(yn+=(dn-Pn-tn*2)/2),vn&&(e.save(),e.beginPath(),e.moveTo(yn,pn+An+Math.round(nn/2)),On=xn.split(" ").length-1,Wn=On===0,zn=cn===JUSTIFY&&In&&!Wn?dn-tn*2:Pn,e.lineTo(yn+Math.round(zn),pn+An+Math.round(nn/2)),e.lineWidth=nn/15,e.strokeStyle=mn,e.stroke(),e.restore()),bn&&(e.save(),e.beginPath(),e.moveTo(yn,pn+An),On=xn.split(" ").length-1,Wn=On===0,zn=cn===JUSTIFY&&In&&!Wn?dn-tn*2:Pn,e.lineTo(yn+Math.round(zn),pn+An),e.lineWidth=nn/15,e.strokeStyle=mn,e.stroke(),e.restore()),Sn!==0||cn===JUSTIFY){On=xn.split(" ").length-1;for(var Mn=stringToArray(xn),Gn=0;Gn<Mn.length;Gn++){var er=Mn[Gn];er===" "&&!In&&cn===JUSTIFY&&(yn+=(dn-tn*2-Pn)/On),this._partialTextX=yn,this._partialTextY=pn+An,this._partialText=er,e.fillStrokeShape(this),yn+=this.measureSize(er).width+Sn}}else this._partialTextX=yn,this._partialTextY=pn+An,this._partialText=xn,e.fillStrokeShape(this);e.restore(),en>1&&(pn+=rn)}}}_hitFunc(e){var St=this.getWidth(),en=this.getHeight();e.beginPath(),e.rect(0,0,St,en),e.closePath(),e.fillStrokeShape(this)}setText(e){var St=Util._isString(e)?e:e==null?"":e+"";return this._setAttr(TEXT,St),this}getWidth(){var e=this.attrs.width===AUTO||this.attrs.width===void 0;return e?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var e=this.attrs.height===AUTO||this.attrs.height===void 0;return e?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var St=getDummyContext(),en=this.fontSize(),tn;return St.save(),St.font=this._getContextFont(),tn=St.measureText(e),St.restore(),{width:tn.width,height:en}}_getContextFont(){return this.fontStyle()+SPACE+this.fontVariant()+SPACE+(this.fontSize()+PX_SPACE)+normalizeFontFamily(this.fontFamily())}_addTextLine(e){this.align()===JUSTIFY&&(e=e.trim());var St=this._getTextWidth(e);return this.textArr.push({text:e,width:St,lastInParagraph:!1})}_getTextWidth(e){var St=this.letterSpacing(),en=e.length;return getDummyContext().measureText(e).width+(en?St*(en-1):0)}_setTextData(){var e=this.text().split(`
`),St=+this.fontSize(),en=0,tn=this.lineHeight()*St,nn=this.attrs.width,rn=this.attrs.height,on=nn!==AUTO&&nn!==void 0,un=rn!==AUTO&&rn!==void 0,cn=this.padding(),dn=nn-cn*2,Sn=rn-cn*2,mn=0,fn=this.wrap(),vn=fn!==NONE,bn=fn!==CHAR&&vn,wn=this.ellipsis();this.textArr=[],getDummyContext().font=this._getContextFont();for(var pn=wn?this._getTextWidth(ELLIPSIS):0,yn=0,An=e.length;yn<An;++yn){var kn=e[yn],xn=this._getTextWidth(kn);if(on&&xn>dn)for(;kn.length>0;){for(var Pn=0,In=kn.length,On="",Wn=0;Pn<In;){var zn=Pn+In>>>1,Mn=kn.slice(0,zn+1),Gn=this._getTextWidth(Mn)+pn;Gn<=dn?(Pn=zn+1,On=Mn,Wn=Gn):In=zn}if(On){if(bn){var er,Qn=kn[On.length],ar=Qn===SPACE||Qn===DASH;ar&&Wn<=dn?er=On.length:er=Math.max(On.lastIndexOf(SPACE),On.lastIndexOf(DASH))+1,er>0&&(Pn=er,On=On.slice(0,Pn),Wn=this._getTextWidth(On))}On=On.trimRight(),this._addTextLine(On),en=Math.max(en,Wn),mn+=tn;var tr=this._shouldHandleEllipsis(mn);if(tr){this._tryToAddEllipsisToLastLine();break}if(kn=kn.slice(Pn),kn=kn.trimLeft(),kn.length>0&&(xn=this._getTextWidth(kn),xn<=dn)){this._addTextLine(kn),mn+=tn,en=Math.max(en,xn);break}}else break}else this._addTextLine(kn),mn+=tn,en=Math.max(en,xn),this._shouldHandleEllipsis(mn)&&yn<An-1&&this._tryToAddEllipsisToLastLine();if(un&&mn+tn>Sn)break;this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0)}this.textHeight=St,this.textWidth=en}_shouldHandleEllipsis(e){var St=+this.fontSize(),en=this.lineHeight()*St,tn=this.attrs.height,nn=tn!==AUTO&&tn!==void 0,rn=this.padding(),on=tn-rn*2,un=this.wrap(),cn=un!==NONE;return!cn||nn&&e+en>on}_tryToAddEllipsisToLastLine(){var e=this.attrs.width,St=e!==AUTO&&e!==void 0,en=this.padding(),tn=e-en*2,nn=this.ellipsis(),rn=this.textArr[this.textArr.length-1];if(!(!rn||!nn)){if(St){var on=this._getTextWidth(rn.text+ELLIPSIS)<tn;on||(rn.text=rn.text.slice(0,rn.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(rn.text+ELLIPSIS)}}getStrokeScaleEnabled(){return!0}}Text.prototype._fillFunc=_fillFunc$1;Text.prototype._strokeFunc=_strokeFunc$1;Text.prototype.className=TEXT_UPPER;Text.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];_registerNode(Text);Factory.overWriteSetter(Text,"width",getNumberOrAutoValidator());Factory.overWriteSetter(Text,"height",getNumberOrAutoValidator());Factory.addGetterSetter(Text,"fontFamily","Arial");Factory.addGetterSetter(Text,"fontSize",12,getNumberValidator());Factory.addGetterSetter(Text,"fontStyle",NORMAL$1);Factory.addGetterSetter(Text,"fontVariant",NORMAL$1);Factory.addGetterSetter(Text,"padding",0,getNumberValidator());Factory.addGetterSetter(Text,"align",LEFT);Factory.addGetterSetter(Text,"verticalAlign",TOP);Factory.addGetterSetter(Text,"lineHeight",1,getNumberValidator());Factory.addGetterSetter(Text,"wrap",WORD);Factory.addGetterSetter(Text,"ellipsis",!1,getBooleanValidator());Factory.addGetterSetter(Text,"letterSpacing",0,getNumberValidator());Factory.addGetterSetter(Text,"text","",getStringValidator());Factory.addGetterSetter(Text,"textDecoration","");var EMPTY_STRING="",NORMAL="normal";function _fillFunc(_e){_e.fillText(this.partialText,0,0)}function _strokeFunc(_e){_e.strokeText(this.partialText,0,0)}class TextPath extends Shape{constructor(e){super(e),this.dummyCanvas=Util.createCanvasElement(),this.dataArray=[],this.dataArray=Path.parsePathData(this.attrs.data),this.on("dataChange.konva",function(){this.dataArray=Path.parsePathData(this.attrs.data),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var St=this.textDecoration(),en=this.fill(),tn=this.fontSize(),nn=this.glyphInfo;St==="underline"&&e.beginPath();for(var rn=0;rn<nn.length;rn++){e.save();var on=nn[rn].p0;e.translate(on.x,on.y),e.rotate(nn[rn].rotation),this.partialText=nn[rn].text,e.fillStrokeShape(this),St==="underline"&&(rn===0&&e.moveTo(0,tn/2+1),e.lineTo(tn,tn/2+1)),e.restore()}St==="underline"&&(e.strokeStyle=en,e.lineWidth=tn/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();var St=this.glyphInfo;if(St.length>=1){var en=St[0].p0;e.moveTo(en.x,en.y)}for(var tn=0;tn<St.length;tn++){var nn=St[tn].p1;e.lineTo(nn.x,nn.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Text.prototype.setText.call(this,e)}_getContextFont(){return Text.prototype._getContextFont.call(this)}_getTextSize(e){var St=this.dummyCanvas,en=St.getContext("2d");en.save(),en.font=this._getContextFont();var tn=en.measureText(e);return en.restore(),{width:tn.width,height:parseInt(this.attrs.fontSize,10)}}_setTextData(){var e=this,St=this._getTextSize(this.attrs.text),en=this.letterSpacing(),tn=this.align(),nn=this.kerningFunc();this.textWidth=St.width,this.textHeight=St.height;var rn=Math.max(this.textWidth+((this.attrs.text||"").length-1)*en,0);this.glyphInfo=[];for(var on=0,un=0;un<e.dataArray.length;un++)e.dataArray[un].pathLength>0&&(on+=e.dataArray[un].pathLength);var cn=0;tn==="center"&&(cn=Math.max(0,on/2-rn/2)),tn==="right"&&(cn=Math.max(0,on-rn));for(var dn=stringToArray(this.text()),Sn=this.text().split(" ").length-1,mn,fn,vn,bn=-1,wn=0,pn=function(){wn=0;for(var Gn=e.dataArray,er=bn+1;er<Gn.length;er++){if(Gn[er].pathLength>0)return bn=er,Gn[er];Gn[er].command==="M"&&(mn={x:Gn[er].points[0],y:Gn[er].points[1]})}return{}},yn=function(Gn){var er=e._getTextSize(Gn).width+en;Gn===" "&&tn==="justify"&&(er+=(on-rn)/Sn);var Qn=0,ar=0;for(fn=void 0;Math.abs(er-Qn)/er>.01&&ar<20;){ar++;for(var tr=Qn;vn===void 0;)vn=pn(),vn&&tr+vn.pathLength<er&&(tr+=vn.pathLength,vn=void 0);if(Object.keys(vn).length===0||mn===void 0)return;var or=!1;switch(vn.command){case"L":Path.getLineLength(mn.x,mn.y,vn.points[0],vn.points[1])>er?fn=Path.getPointOnLine(er,mn.x,mn.y,vn.points[0],vn.points[1],mn.x,mn.y):vn=void 0;break;case"A":var Yn=vn.points[4],ur=vn.points[5],pr=vn.points[4]+ur;wn===0?wn=Yn+1e-8:er>Qn?wn+=Math.PI/180*ur/Math.abs(ur):wn-=Math.PI/360*ur/Math.abs(ur),(ur<0&&wn<pr||ur>=0&&wn>pr)&&(wn=pr,or=!0),fn=Path.getPointOnEllipticalArc(vn.points[0],vn.points[1],vn.points[2],vn.points[3],wn,vn.points[6]);break;case"C":wn===0?er>vn.pathLength?wn=1e-8:wn=er/vn.pathLength:er>Qn?wn+=(er-Qn)/vn.pathLength/2:wn=Math.max(wn-(Qn-er)/vn.pathLength/2,0),wn>1&&(wn=1,or=!0),fn=Path.getPointOnCubicBezier(wn,vn.start.x,vn.start.y,vn.points[0],vn.points[1],vn.points[2],vn.points[3],vn.points[4],vn.points[5]);break;case"Q":wn===0?wn=er/vn.pathLength:er>Qn?wn+=(er-Qn)/vn.pathLength:wn-=(Qn-er)/vn.pathLength,wn>1&&(wn=1,or=!0),fn=Path.getPointOnQuadraticBezier(wn,vn.start.x,vn.start.y,vn.points[0],vn.points[1],vn.points[2],vn.points[3]);break}fn!==void 0&&(Qn=Path.getLineLength(mn.x,mn.y,fn.x,fn.y)),or&&(or=!1,vn=void 0)}},An="C",kn=e._getTextSize(An).width+en,xn=cn/kn-1,Pn=0;Pn<xn&&(yn(An),!(mn===void 0||fn===void 0));Pn++)mn=fn;for(var In=0;In<dn.length&&(yn(dn[In]),!(mn===void 0||fn===void 0));In++){var On=Path.getLineLength(mn.x,mn.y,fn.x,fn.y),Wn=0;if(nn)try{Wn=nn(dn[In-1],dn[In])*this.fontSize()}catch{Wn=0}mn.x+=Wn,fn.x+=Wn,this.textWidth+=Wn;var zn=Path.getPointOnLine(Wn+On/2,mn.x,mn.y,fn.x,fn.y),Mn=Math.atan2(fn.y-mn.y,fn.x-mn.x);this.glyphInfo.push({transposeX:zn.x,transposeY:zn.y,text:dn[In],rotation:Mn,p0:mn,p1:fn}),mn=fn}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach(function(dn){e.push(dn.p0.x),e.push(dn.p0.y),e.push(dn.p1.x),e.push(dn.p1.y)});for(var St=e[0]||0,en=e[0]||0,tn=e[1]||0,nn=e[1]||0,rn,on,un=0;un<e.length/2;un++)rn=e[un*2],on=e[un*2+1],St=Math.min(St,rn),en=Math.max(en,rn),tn=Math.min(tn,on),nn=Math.max(nn,on);var cn=this.fontSize();return{x:St-cn/2,y:tn-cn/2,width:en-St+cn,height:nn-tn+cn}}}TextPath.prototype._fillFunc=_fillFunc;TextPath.prototype._strokeFunc=_strokeFunc;TextPath.prototype._fillFuncHit=_fillFunc;TextPath.prototype._strokeFuncHit=_strokeFunc;TextPath.prototype.className="TextPath";TextPath.prototype._attrsAffectingSize=["text","fontSize","data"];_registerNode(TextPath);Factory.addGetterSetter(TextPath,"data");Factory.addGetterSetter(TextPath,"fontFamily","Arial");Factory.addGetterSetter(TextPath,"fontSize",12,getNumberValidator());Factory.addGetterSetter(TextPath,"fontStyle",NORMAL);Factory.addGetterSetter(TextPath,"align","left");Factory.addGetterSetter(TextPath,"letterSpacing",0,getNumberValidator());Factory.addGetterSetter(TextPath,"textBaseline","middle");Factory.addGetterSetter(TextPath,"fontVariant",NORMAL);Factory.addGetterSetter(TextPath,"text",EMPTY_STRING);Factory.addGetterSetter(TextPath,"textDecoration",null);Factory.addGetterSetter(TextPath,"kerningFunc",null);var EVENTS_NAME="tr-konva",ATTR_CHANGE_LIST=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map(_e=>_e+`.${EVENTS_NAME}`).join(" "),NODES_RECT="nodesRect",TRANSFORM_CHANGE_STR=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],ANGLES={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const TOUCH_DEVICE="ontouchstart"in Konva$1._global;function getCursor(_e,e){if(_e==="rotater")return"crosshair";e+=Util.degToRad(ANGLES[_e]||0);var St=(Util.radToDeg(e)%360+360)%360;return Util._inRange(St,315+22.5,360)||Util._inRange(St,0,22.5)?"ns-resize":Util._inRange(St,45-22.5,45+22.5)?"nesw-resize":Util._inRange(St,90-22.5,90+22.5)?"ew-resize":Util._inRange(St,135-22.5,135+22.5)?"nwse-resize":Util._inRange(St,180-22.5,180+22.5)?"ns-resize":Util._inRange(St,225-22.5,225+22.5)?"nesw-resize":Util._inRange(St,270-22.5,270+22.5)?"ew-resize":Util._inRange(St,315-22.5,315+22.5)?"nwse-resize":(Util.error("Transformer has unknown angle for cursor detection: "+St),"pointer")}var ANCHORS_NAMES=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],MAX_SAFE_INTEGER=1e8;function getCenter(_e){return{x:_e.x+_e.width/2*Math.cos(_e.rotation)+_e.height/2*Math.sin(-_e.rotation),y:_e.y+_e.height/2*Math.cos(_e.rotation)+_e.width/2*Math.sin(_e.rotation)}}function rotateAroundPoint(_e,e,St){const en=St.x+(_e.x-St.x)*Math.cos(e)-(_e.y-St.y)*Math.sin(e),tn=St.y+(_e.x-St.x)*Math.sin(e)+(_e.y-St.y)*Math.cos(e);return Object.assign(Object.assign({},_e),{rotation:_e.rotation+e,x:en,y:tn})}function rotateAroundCenter(_e,e){const St=getCenter(_e);return rotateAroundPoint(_e,e,St)}function getSnap(_e,e,St){let en=e;for(let tn=0;tn<_e.length;tn++){const nn=Konva$1.getAngle(_e[tn]),rn=Math.abs(nn-e)%(Math.PI*2);Math.min(rn,Math.PI*2-rn)<St&&(en=nn)}return en}class Transformer$1 extends Group{constructor(e){super(e),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(ATTR_CHANGE_LIST,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return EVENTS_NAME+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach(),this._nodes=e,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(en=>{const tn=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},nn=en._attrsAffectingSize.map(rn=>rn+"Change."+this._getEventNamespace()).join(" ");en.on(nn,tn),en.on(TRANSFORM_CHANGE_STR.map(rn=>rn+`.${this._getEventNamespace()}`).join(" "),tn),en.on(`absoluteTransformChange.${this._getEventNamespace()}`,tn),this._proxyDrag(en)}),this._resetTransformCache();var St=!!this.findOne(".top-left");return St&&this.update(),this}_proxyDrag(e){let St;e.on(`dragstart.${this._getEventNamespace()}`,en=>{St=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(en,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,en=>{if(!St)return;const tn=e.getAbsolutePosition(),nn=tn.x-St.x,rn=tn.y-St.y;this.nodes().forEach(on=>{if(on===e||on.isDragging())return;const un=on.getAbsolutePosition();on.setAbsolutePosition({x:un.x+nn,y:un.y+rn}),on.startDrag(en)}),St=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(NODES_RECT),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(NODES_RECT,this.__getNodeRect)}__getNodeShape(e,St=this.rotation(),en){var tn=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),nn=e.getAbsoluteScale(en),rn=e.getAbsolutePosition(en),on=tn.x*nn.x-e.offsetX()*nn.x,un=tn.y*nn.y-e.offsetY()*nn.y;const cn=(Konva$1.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),dn={x:rn.x+on*Math.cos(cn)+un*Math.sin(-cn),y:rn.y+un*Math.cos(cn)+on*Math.sin(cn),width:tn.width*nn.x,height:tn.height*nn.y,rotation:cn};return rotateAroundPoint(dn,-Konva$1.getAngle(St),{x:0,y:0})}__getNodeRect(){var e=this.getNode();if(!e)return{x:-MAX_SAFE_INTEGER,y:-MAX_SAFE_INTEGER,width:0,height:0,rotation:0};const St=[];this.nodes().map(cn=>{const dn=cn.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var Sn=[{x:dn.x,y:dn.y},{x:dn.x+dn.width,y:dn.y},{x:dn.x+dn.width,y:dn.y+dn.height},{x:dn.x,y:dn.y+dn.height}],mn=cn.getAbsoluteTransform();Sn.forEach(function(fn){var vn=mn.point(fn);St.push(vn)})});const en=new Transform;en.rotate(-Konva$1.getAngle(this.rotation()));var tn,nn,rn,on;St.forEach(function(cn){var dn=en.point(cn);tn===void 0&&(tn=rn=dn.x,nn=on=dn.y),tn=Math.min(tn,dn.x),nn=Math.min(nn,dn.y),rn=Math.max(rn,dn.x),on=Math.max(on,dn.y)}),en.invert();const un=en.point({x:tn,y:nn});return{x:un.x,y:un.y,width:rn-tn,height:on-nn,rotation:Konva$1.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),ANCHORS_NAMES.forEach(function(e){this._createAnchor(e)}.bind(this)),this._createAnchor("rotater")}_createAnchor(e){var St=new Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:TOUCH_DEVICE?10:"auto"}),en=this;St.on("mousedown touchstart",function(tn){en._handleMouseDown(tn)}),St.on("dragstart",tn=>{St.stopDrag(),tn.cancelBubble=!0}),St.on("dragend",tn=>{tn.cancelBubble=!0}),St.on("mouseenter",()=>{var tn=Konva$1.getAngle(this.rotation()),nn=getCursor(e,tn);St.getStage().content&&(St.getStage().content.style.cursor=nn),this._cursorChange=!0}),St.on("mouseout",()=>{St.getStage().content&&(St.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(St)}_createBack(){var e=new Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(St){var en=this.getParent(),tn=en.padding();St.beginPath(),St.rect(-tn,-tn,this.width()+tn*2,this.height()+tn*2),St.moveTo(this.width()/2,-tn),en.rotateEnabled()&&St.lineTo(this.width()/2,-en.rotateAnchorOffset()*Util._sign(this.height())-tn),St.fillStrokeShape(this)},hitFunc:(St,en)=>{if(!!this.shouldOverdrawWholeArea()){var tn=this.padding();St.beginPath(),St.rect(-tn,-tn,en.width()+tn*2,en.height()+tn*2),St.fillStrokeShape(en)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",St=>{St.cancelBubble=!0}),e.on("dragmove",St=>{St.cancelBubble=!0}),e.on("dragend",St=>{St.cancelBubble=!0}),this.on("dragmove",St=>{this.update()})}_handleMouseDown(e){this._movingAnchorName=e.target.name().split(" ")[0];var St=this._getNodeRect(),en=St.width,tn=St.height,nn=Math.sqrt(Math.pow(en,2)+Math.pow(tn,2));this.sin=Math.abs(tn/nn),this.cos=Math.abs(en/nn),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var rn=e.target.getAbsolutePosition(),on=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:on.x-rn.x,y:on.y-rn.y},this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(un=>{un._fire("transformstart",{evt:e.evt,target:un})})}_handleMouseMove(e){var St,en,tn,nn=this.findOne("."+this._movingAnchorName),rn=nn.getStage();rn.setPointersPositions(e);const on=rn.getPointerPosition();let un={x:on.x-this._anchorDragOffset.x,y:on.y-this._anchorDragOffset.y};const cn=nn.getAbsolutePosition();this.anchorDragBoundFunc()&&(un=this.anchorDragBoundFunc()(cn,un,e)),nn.setAbsolutePosition(un);const dn=nn.getAbsolutePosition();if(!(cn.x===dn.x&&cn.y===dn.y)){if(this._movingAnchorName==="rotater"){var Sn=this._getNodeRect();St=nn.x()-Sn.width/2,en=-nn.y()+Sn.height/2;let Gn=Math.atan2(-en,St)+Math.PI/2;Sn.height<0&&(Gn-=Math.PI);var mn=Konva$1.getAngle(this.rotation());const er=mn+Gn,Qn=Konva$1.getAngle(this.rotationSnapTolerance()),tr=getSnap(this.rotationSnaps(),er,Qn)-Sn.rotation,or=rotateAroundCenter(Sn,tr);this._fitNodesInto(or,e);return}var fn=this.keepRatio()||e.shiftKey,yn=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(fn){var vn=yn?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};tn=Math.sqrt(Math.pow(vn.x-nn.x(),2)+Math.pow(vn.y-nn.y(),2));var bn=this.findOne(".top-left").x()>vn.x?-1:1,wn=this.findOne(".top-left").y()>vn.y?-1:1;St=tn*this.cos*bn,en=tn*this.sin*wn,this.findOne(".top-left").x(vn.x-St),this.findOne(".top-left").y(vn.y-en)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(nn.y());else if(this._movingAnchorName==="top-right"){if(fn){var vn=yn?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};tn=Math.sqrt(Math.pow(nn.x()-vn.x,2)+Math.pow(vn.y-nn.y(),2));var bn=this.findOne(".top-right").x()<vn.x?-1:1,wn=this.findOne(".top-right").y()>vn.y?-1:1;St=tn*this.cos*bn,en=tn*this.sin*wn,this.findOne(".top-right").x(vn.x+St),this.findOne(".top-right").y(vn.y-en)}var pn=nn.position();this.findOne(".top-left").y(pn.y),this.findOne(".bottom-right").x(pn.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(nn.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(nn.x());else if(this._movingAnchorName==="bottom-left"){if(fn){var vn=yn?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};tn=Math.sqrt(Math.pow(vn.x-nn.x(),2)+Math.pow(nn.y()-vn.y,2));var bn=vn.x<nn.x()?-1:1,wn=nn.y()<vn.y?-1:1;St=tn*this.cos*bn,en=tn*this.sin*wn,nn.x(vn.x-St),nn.y(vn.y+en)}pn=nn.position(),this.findOne(".top-left").x(pn.x),this.findOne(".bottom-right").y(pn.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(nn.y());else if(this._movingAnchorName==="bottom-right"){if(fn){var vn=yn?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};tn=Math.sqrt(Math.pow(nn.x()-vn.x,2)+Math.pow(nn.y()-vn.y,2));var bn=this.findOne(".bottom-right").x()<vn.x?-1:1,wn=this.findOne(".bottom-right").y()<vn.y?-1:1;St=tn*this.cos*bn,en=tn*this.sin*wn,this.findOne(".bottom-right").x(vn.x+St),this.findOne(".bottom-right").y(vn.y+en)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var yn=this.centeredScaling()||e.altKey;if(yn){var An=this.findOne(".top-left"),kn=this.findOne(".bottom-right"),xn=An.x(),Pn=An.y(),In=this.getWidth()-kn.x(),On=this.getHeight()-kn.y();kn.move({x:-xn,y:-Pn}),An.move({x:In,y:On})}var Wn=this.findOne(".top-left").getAbsolutePosition();St=Wn.x,en=Wn.y;var zn=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),Mn=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:St,y:en,width:zn,height:Mn,rotation:Konva$1.getAngle(this.rotation())},e)}}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var St=this.getNode();this._fire("transformend",{evt:e,target:St}),St&&this._nodes.forEach(en=>{en._fire("transformend",{evt:e,target:en})}),this._movingAnchorName=null}}_fitNodesInto(e,St){var en=this._getNodeRect();const tn=1;if(Util._inRange(e.width,-this.padding()*2-tn,tn)){this.update();return}if(Util._inRange(e.height,-this.padding()*2-tn,tn)){this.update();return}const nn=this.flipEnabled();var rn=new Transform;if(rn.rotate(Konva$1.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const Sn=rn.point({x:-this.padding()*2,y:0});if(e.x+=Sn.x,e.y+=Sn.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=Sn.x,this._anchorDragOffset.y-=Sn.y,!nn){this.update();return}}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const Sn=rn.point({x:this.padding()*2,y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=Sn.x,this._anchorDragOffset.y-=Sn.y,e.width+=this.padding()*2,!nn){this.update();return}}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const Sn=rn.point({x:0,y:-this.padding()*2});if(e.x+=Sn.x,e.y+=Sn.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=Sn.x,this._anchorDragOffset.y-=Sn.y,e.height+=this.padding()*2,!nn){this.update();return}}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const Sn=rn.point({x:0,y:this.padding()*2});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=Sn.x,this._anchorDragOffset.y-=Sn.y,e.height+=this.padding()*2,!nn){this.update();return}}if(this.boundBoxFunc()){const Sn=this.boundBoxFunc()(en,e);Sn?e=Sn:Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const on=1e7,un=new Transform;un.translate(en.x,en.y),un.rotate(en.rotation),un.scale(en.width/on,en.height/on);const cn=new Transform;cn.translate(e.x,e.y),cn.rotate(e.rotation),cn.scale(e.width/on,e.height/on);const dn=cn.multiply(un.invert());this._nodes.forEach(Sn=>{var mn;const fn=Sn.getParent().getAbsoluteTransform(),vn=Sn.getTransform().copy();vn.translate(Sn.offsetX(),Sn.offsetY());const bn=new Transform;bn.multiply(fn.copy().invert()).multiply(dn).multiply(fn).multiply(vn);const wn=bn.decompose();Sn.setAttrs(wn),this._fire("transform",{evt:St,target:Sn}),Sn._fire("transform",{evt:St,target:Sn}),(mn=Sn.getLayer())===null||mn===void 0||mn.batchDraw()}),this.rotation(Util._getRotation(e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,St){this.findOne(e).setAttrs(St)}update(){var e,St=this._getNodeRect();this.rotation(Util._getRotation(St.rotation));var en=St.width,tn=St.height,nn=this.enabledAnchors(),rn=this.resizeEnabled(),on=this.padding(),un=this.anchorSize();this.find("._anchor").forEach(cn=>{cn.setAttrs({width:un,height:un,offsetX:un/2,offsetY:un/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:un/2+on,offsetY:un/2+on,visible:rn&&nn.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:en/2,y:0,offsetY:un/2+on,visible:rn&&nn.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:en,y:0,offsetX:un/2-on,offsetY:un/2+on,visible:rn&&nn.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:tn/2,offsetX:un/2+on,visible:rn&&nn.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:en,y:tn/2,offsetX:un/2-on,visible:rn&&nn.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:tn,offsetX:un/2+on,offsetY:un/2-on,visible:rn&&nn.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:en/2,y:tn,offsetY:un/2-on,visible:rn&&nn.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:en,y:tn,offsetX:un/2-on,offsetY:un/2-on,visible:rn&&nn.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:en/2,y:-this.rotateAnchorOffset()*Util._sign(tn)-on,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:en,height:tn,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Node.prototype.toObject.call(this)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}function validateAnchors(_e){return _e instanceof Array||Util.warn("enabledAnchors value should be an array"),_e instanceof Array&&_e.forEach(function(e){ANCHORS_NAMES.indexOf(e)===-1&&Util.warn("Unknown anchor name: "+e+". Available names are: "+ANCHORS_NAMES.join(", "))}),_e||[]}Transformer$1.prototype.className="Transformer";_registerNode(Transformer$1);Factory.addGetterSetter(Transformer$1,"enabledAnchors",ANCHORS_NAMES,validateAnchors);Factory.addGetterSetter(Transformer$1,"flipEnabled",!0,getBooleanValidator());Factory.addGetterSetter(Transformer$1,"resizeEnabled",!0);Factory.addGetterSetter(Transformer$1,"anchorSize",10,getNumberValidator());Factory.addGetterSetter(Transformer$1,"rotateEnabled",!0);Factory.addGetterSetter(Transformer$1,"rotationSnaps",[]);Factory.addGetterSetter(Transformer$1,"rotateAnchorOffset",50,getNumberValidator());Factory.addGetterSetter(Transformer$1,"rotationSnapTolerance",5,getNumberValidator());Factory.addGetterSetter(Transformer$1,"borderEnabled",!0);Factory.addGetterSetter(Transformer$1,"anchorStroke","rgb(0, 161, 255)");Factory.addGetterSetter(Transformer$1,"anchorStrokeWidth",1,getNumberValidator());Factory.addGetterSetter(Transformer$1,"anchorFill","white");Factory.addGetterSetter(Transformer$1,"anchorCornerRadius",0,getNumberValidator());Factory.addGetterSetter(Transformer$1,"borderStroke","rgb(0, 161, 255)");Factory.addGetterSetter(Transformer$1,"borderStrokeWidth",1,getNumberValidator());Factory.addGetterSetter(Transformer$1,"borderDash");Factory.addGetterSetter(Transformer$1,"keepRatio",!0);Factory.addGetterSetter(Transformer$1,"centeredScaling",!1);Factory.addGetterSetter(Transformer$1,"ignoreStroke",!1);Factory.addGetterSetter(Transformer$1,"padding",0,getNumberValidator());Factory.addGetterSetter(Transformer$1,"node");Factory.addGetterSetter(Transformer$1,"nodes");Factory.addGetterSetter(Transformer$1,"boundBoxFunc");Factory.addGetterSetter(Transformer$1,"anchorDragBoundFunc");Factory.addGetterSetter(Transformer$1,"shouldOverdrawWholeArea",!1);Factory.addGetterSetter(Transformer$1,"useSingleNodeRotation",!0);Factory.backCompat(Transformer$1,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class Wedge extends Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,Konva$1.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Wedge.prototype.className="Wedge";Wedge.prototype._centroid=!0;Wedge.prototype._attrsAffectingSize=["radius"];_registerNode(Wedge);Factory.addGetterSetter(Wedge,"radius",0,getNumberValidator());Factory.addGetterSetter(Wedge,"angle",0,getNumberValidator());Factory.addGetterSetter(Wedge,"clockwise",!1);Factory.backCompat(Wedge,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function BlurStack(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var mul_table=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],shg_table=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function filterGaussBlurRGBA(_e,e){var St=_e.data,en=_e.width,tn=_e.height,nn,rn,on,un,cn,dn,Sn,mn,fn,vn,bn,wn,pn,yn,An,kn,xn,Pn,In,On,Wn,zn,Mn,Gn,er=e+e+1,Qn=en-1,ar=tn-1,tr=e+1,or=tr*(tr+1)/2,Yn=new BlurStack,ur=null,pr=Yn,Lr=null,Fn=null,Rn=mul_table[e],Tn=shg_table[e];for(on=1;on<er;on++)pr=pr.next=new BlurStack,on===tr&&(ur=pr);for(pr.next=Yn,Sn=dn=0,rn=0;rn<tn;rn++){for(kn=xn=Pn=In=mn=fn=vn=bn=0,wn=tr*(On=St[dn]),pn=tr*(Wn=St[dn+1]),yn=tr*(zn=St[dn+2]),An=tr*(Mn=St[dn+3]),mn+=or*On,fn+=or*Wn,vn+=or*zn,bn+=or*Mn,pr=Yn,on=0;on<tr;on++)pr.r=On,pr.g=Wn,pr.b=zn,pr.a=Mn,pr=pr.next;for(on=1;on<tr;on++)un=dn+((Qn<on?Qn:on)<<2),mn+=(pr.r=On=St[un])*(Gn=tr-on),fn+=(pr.g=Wn=St[un+1])*Gn,vn+=(pr.b=zn=St[un+2])*Gn,bn+=(pr.a=Mn=St[un+3])*Gn,kn+=On,xn+=Wn,Pn+=zn,In+=Mn,pr=pr.next;for(Lr=Yn,Fn=ur,nn=0;nn<en;nn++)St[dn+3]=Mn=bn*Rn>>Tn,Mn!==0?(Mn=255/Mn,St[dn]=(mn*Rn>>Tn)*Mn,St[dn+1]=(fn*Rn>>Tn)*Mn,St[dn+2]=(vn*Rn>>Tn)*Mn):St[dn]=St[dn+1]=St[dn+2]=0,mn-=wn,fn-=pn,vn-=yn,bn-=An,wn-=Lr.r,pn-=Lr.g,yn-=Lr.b,An-=Lr.a,un=Sn+((un=nn+e+1)<Qn?un:Qn)<<2,kn+=Lr.r=St[un],xn+=Lr.g=St[un+1],Pn+=Lr.b=St[un+2],In+=Lr.a=St[un+3],mn+=kn,fn+=xn,vn+=Pn,bn+=In,Lr=Lr.next,wn+=On=Fn.r,pn+=Wn=Fn.g,yn+=zn=Fn.b,An+=Mn=Fn.a,kn-=On,xn-=Wn,Pn-=zn,In-=Mn,Fn=Fn.next,dn+=4;Sn+=en}for(nn=0;nn<en;nn++){for(xn=Pn=In=kn=fn=vn=bn=mn=0,dn=nn<<2,wn=tr*(On=St[dn]),pn=tr*(Wn=St[dn+1]),yn=tr*(zn=St[dn+2]),An=tr*(Mn=St[dn+3]),mn+=or*On,fn+=or*Wn,vn+=or*zn,bn+=or*Mn,pr=Yn,on=0;on<tr;on++)pr.r=On,pr.g=Wn,pr.b=zn,pr.a=Mn,pr=pr.next;for(cn=en,on=1;on<=e;on++)dn=cn+nn<<2,mn+=(pr.r=On=St[dn])*(Gn=tr-on),fn+=(pr.g=Wn=St[dn+1])*Gn,vn+=(pr.b=zn=St[dn+2])*Gn,bn+=(pr.a=Mn=St[dn+3])*Gn,kn+=On,xn+=Wn,Pn+=zn,In+=Mn,pr=pr.next,on<ar&&(cn+=en);for(dn=nn,Lr=Yn,Fn=ur,rn=0;rn<tn;rn++)un=dn<<2,St[un+3]=Mn=bn*Rn>>Tn,Mn>0?(Mn=255/Mn,St[un]=(mn*Rn>>Tn)*Mn,St[un+1]=(fn*Rn>>Tn)*Mn,St[un+2]=(vn*Rn>>Tn)*Mn):St[un]=St[un+1]=St[un+2]=0,mn-=wn,fn-=pn,vn-=yn,bn-=An,wn-=Lr.r,pn-=Lr.g,yn-=Lr.b,An-=Lr.a,un=nn+((un=rn+tr)<ar?un:ar)*en<<2,mn+=kn+=Lr.r=St[un],fn+=xn+=Lr.g=St[un+1],vn+=Pn+=Lr.b=St[un+2],bn+=In+=Lr.a=St[un+3],Lr=Lr.next,wn+=On=Fn.r,pn+=Wn=Fn.g,yn+=zn=Fn.b,An+=Mn=Fn.a,kn-=On,xn-=Wn,Pn-=zn,In-=Mn,Fn=Fn.next,dn+=en}}const Blur=function(e){var St=Math.round(this.blurRadius());St>0&&filterGaussBlurRGBA(e,St)};Factory.addGetterSetter(Node,"blurRadius",0,getNumberValidator(),Factory.afterSetFilter);const Brighten=function(_e){var e=this.brightness()*255,St=_e.data,en=St.length,tn;for(tn=0;tn<en;tn+=4)St[tn]+=e,St[tn+1]+=e,St[tn+2]+=e};Factory.addGetterSetter(Node,"brightness",0,getNumberValidator(),Factory.afterSetFilter);const Contrast=function(_e){var e=Math.pow((this.contrast()+100)/100,2),St=_e.data,en=St.length,tn=150,nn=150,rn=150,on;for(on=0;on<en;on+=4)tn=St[on],nn=St[on+1],rn=St[on+2],tn/=255,tn-=.5,tn*=e,tn+=.5,tn*=255,nn/=255,nn-=.5,nn*=e,nn+=.5,nn*=255,rn/=255,rn-=.5,rn*=e,rn+=.5,rn*=255,tn=tn<0?0:tn>255?255:tn,nn=nn<0?0:nn>255?255:nn,rn=rn<0?0:rn>255?255:rn,St[on]=tn,St[on+1]=nn,St[on+2]=rn};Factory.addGetterSetter(Node,"contrast",0,getNumberValidator(),Factory.afterSetFilter);const Emboss=function(_e){var e=this.embossStrength()*10,St=this.embossWhiteLevel()*255,en=this.embossDirection(),tn=this.embossBlend(),nn=0,rn=0,on=_e.data,un=_e.width,cn=_e.height,dn=un*4,Sn=cn;switch(en){case"top-left":nn=-1,rn=-1;break;case"top":nn=-1,rn=0;break;case"top-right":nn=-1,rn=1;break;case"right":nn=0,rn=1;break;case"bottom-right":nn=1,rn=1;break;case"bottom":nn=1,rn=0;break;case"bottom-left":nn=1,rn=-1;break;case"left":nn=0,rn=-1;break;default:Util.error("Unknown emboss direction: "+en)}do{var mn=(Sn-1)*dn,fn=nn;Sn+fn<1&&(fn=0),Sn+fn>cn&&(fn=0);var vn=(Sn-1+fn)*un*4,bn=un;do{var wn=mn+(bn-1)*4,pn=rn;bn+pn<1&&(pn=0),bn+pn>un&&(pn=0);var yn=vn+(bn-1+pn)*4,An=on[wn]-on[yn],kn=on[wn+1]-on[yn+1],xn=on[wn+2]-on[yn+2],Pn=An,In=Pn>0?Pn:-Pn,On=kn>0?kn:-kn,Wn=xn>0?xn:-xn;if(On>In&&(Pn=kn),Wn>In&&(Pn=xn),Pn*=e,tn){var zn=on[wn]+Pn,Mn=on[wn+1]+Pn,Gn=on[wn+2]+Pn;on[wn]=zn>255?255:zn<0?0:zn,on[wn+1]=Mn>255?255:Mn<0?0:Mn,on[wn+2]=Gn>255?255:Gn<0?0:Gn}else{var er=St-Pn;er<0?er=0:er>255&&(er=255),on[wn]=on[wn+1]=on[wn+2]=er}}while(--bn)}while(--Sn)};Factory.addGetterSetter(Node,"embossStrength",.5,getNumberValidator(),Factory.afterSetFilter);Factory.addGetterSetter(Node,"embossWhiteLevel",.5,getNumberValidator(),Factory.afterSetFilter);Factory.addGetterSetter(Node,"embossDirection","top-left",null,Factory.afterSetFilter);Factory.addGetterSetter(Node,"embossBlend",!1,null,Factory.afterSetFilter);function remap(_e,e,St,en,tn){var nn=St-e,rn=tn-en,on;return nn===0?en+rn/2:rn===0?en:(on=(_e-e)/nn,on=rn*on+en,on)}const Enhance=function(_e){var e=_e.data,St=e.length,en=e[0],tn=en,nn,rn=e[1],on=rn,un,cn=e[2],dn=cn,Sn,mn,fn=this.enhance();if(fn!==0){for(mn=0;mn<St;mn+=4)nn=e[mn+0],nn<en?en=nn:nn>tn&&(tn=nn),un=e[mn+1],un<rn?rn=un:un>on&&(on=un),Sn=e[mn+2],Sn<cn?cn=Sn:Sn>dn&&(dn=Sn);tn===en&&(tn=255,en=0),on===rn&&(on=255,rn=0),dn===cn&&(dn=255,cn=0);var vn,bn,wn,pn,yn,An,kn,xn,Pn;for(fn>0?(bn=tn+fn*(255-tn),wn=en-fn*(en-0),yn=on+fn*(255-on),An=rn-fn*(rn-0),xn=dn+fn*(255-dn),Pn=cn-fn*(cn-0)):(vn=(tn+en)*.5,bn=tn+fn*(tn-vn),wn=en+fn*(en-vn),pn=(on+rn)*.5,yn=on+fn*(on-pn),An=rn+fn*(rn-pn),kn=(dn+cn)*.5,xn=dn+fn*(dn-kn),Pn=cn+fn*(cn-kn)),mn=0;mn<St;mn+=4)e[mn+0]=remap(e[mn+0],en,tn,wn,bn),e[mn+1]=remap(e[mn+1],rn,on,An,yn),e[mn+2]=remap(e[mn+2],cn,dn,Pn,xn)}};Factory.addGetterSetter(Node,"enhance",0,getNumberValidator(),Factory.afterSetFilter);const Grayscale=function(_e){var e=_e.data,St=e.length,en,tn;for(en=0;en<St;en+=4)tn=.34*e[en]+.5*e[en+1]+.16*e[en+2],e[en]=tn,e[en+1]=tn,e[en+2]=tn};Factory.addGetterSetter(Node,"hue",0,getNumberValidator(),Factory.afterSetFilter);Factory.addGetterSetter(Node,"saturation",0,getNumberValidator(),Factory.afterSetFilter);Factory.addGetterSetter(Node,"luminance",0,getNumberValidator(),Factory.afterSetFilter);const HSL=function(_e){var e=_e.data,St=e.length,en=1,tn=Math.pow(2,this.saturation()),nn=Math.abs(this.hue()+360)%360,rn=this.luminance()*127,on,un=en*tn*Math.cos(nn*Math.PI/180),cn=en*tn*Math.sin(nn*Math.PI/180),dn=.299*en+.701*un+.167*cn,Sn=.587*en-.587*un+.33*cn,mn=.114*en-.114*un-.497*cn,fn=.299*en-.299*un-.328*cn,vn=.587*en+.413*un+.035*cn,bn=.114*en-.114*un+.293*cn,wn=.299*en-.3*un+1.25*cn,pn=.587*en-.586*un-1.05*cn,yn=.114*en+.886*un-.2*cn,An,kn,xn,Pn;for(on=0;on<St;on+=4)An=e[on+0],kn=e[on+1],xn=e[on+2],Pn=e[on+3],e[on+0]=dn*An+Sn*kn+mn*xn+rn,e[on+1]=fn*An+vn*kn+bn*xn+rn,e[on+2]=wn*An+pn*kn+yn*xn+rn,e[on+3]=Pn},HSV=function(_e){var e=_e.data,St=e.length,en=Math.pow(2,this.value()),tn=Math.pow(2,this.saturation()),nn=Math.abs(this.hue()+360)%360,rn,on=en*tn*Math.cos(nn*Math.PI/180),un=en*tn*Math.sin(nn*Math.PI/180),cn=.299*en+.701*on+.167*un,dn=.587*en-.587*on+.33*un,Sn=.114*en-.114*on-.497*un,mn=.299*en-.299*on-.328*un,fn=.587*en+.413*on+.035*un,vn=.114*en-.114*on+.293*un,bn=.299*en-.3*on+1.25*un,wn=.587*en-.586*on-1.05*un,pn=.114*en+.886*on-.2*un,yn,An,kn,xn;for(rn=0;rn<St;rn+=4)yn=e[rn+0],An=e[rn+1],kn=e[rn+2],xn=e[rn+3],e[rn+0]=cn*yn+dn*An+Sn*kn,e[rn+1]=mn*yn+fn*An+vn*kn,e[rn+2]=bn*yn+wn*An+pn*kn,e[rn+3]=xn};Factory.addGetterSetter(Node,"hue",0,getNumberValidator(),Factory.afterSetFilter);Factory.addGetterSetter(Node,"saturation",0,getNumberValidator(),Factory.afterSetFilter);Factory.addGetterSetter(Node,"value",0,getNumberValidator(),Factory.afterSetFilter);const Invert=function(_e){var e=_e.data,St=e.length,en;for(en=0;en<St;en+=4)e[en]=255-e[en],e[en+1]=255-e[en+1],e[en+2]=255-e[en+2]};var ToPolar=function(_e,e,St){var en=_e.data,tn=e.data,nn=_e.width,rn=_e.height,on=St.polarCenterX||nn/2,un=St.polarCenterY||rn/2,cn,dn,Sn,mn=0,fn=0,vn=0,bn=0,wn,pn=Math.sqrt(on*on+un*un);dn=nn-on,Sn=rn-un,wn=Math.sqrt(dn*dn+Sn*Sn),pn=wn>pn?wn:pn;var yn=rn,An=nn,kn,xn,Pn=360/An*Math.PI/180,In,On;for(xn=0;xn<An;xn+=1)for(In=Math.sin(xn*Pn),On=Math.cos(xn*Pn),kn=0;kn<yn;kn+=1)dn=Math.floor(on+pn*kn/yn*On),Sn=Math.floor(un+pn*kn/yn*In),cn=(Sn*nn+dn)*4,mn=en[cn+0],fn=en[cn+1],vn=en[cn+2],bn=en[cn+3],cn=(xn+kn*nn)*4,tn[cn+0]=mn,tn[cn+1]=fn,tn[cn+2]=vn,tn[cn+3]=bn},FromPolar=function(_e,e,St){var en=_e.data,tn=e.data,nn=_e.width,rn=_e.height,on=St.polarCenterX||nn/2,un=St.polarCenterY||rn/2,cn,dn,Sn,mn,fn,vn=0,bn=0,wn=0,pn=0,yn,An=Math.sqrt(on*on+un*un);dn=nn-on,Sn=rn-un,yn=Math.sqrt(dn*dn+Sn*Sn),An=yn>An?yn:An;var kn=rn,xn=nn,Pn,In,On=St.polarRotation||0,Wn,zn;for(dn=0;dn<nn;dn+=1)for(Sn=0;Sn<rn;Sn+=1)mn=dn-on,fn=Sn-un,Pn=Math.sqrt(mn*mn+fn*fn)*kn/An,In=(Math.atan2(fn,mn)*180/Math.PI+360+On)%360,In=In*xn/360,Wn=Math.floor(In),zn=Math.floor(Pn),cn=(zn*nn+Wn)*4,vn=en[cn+0],bn=en[cn+1],wn=en[cn+2],pn=en[cn+3],cn=(Sn*nn+dn)*4,tn[cn+0]=vn,tn[cn+1]=bn,tn[cn+2]=wn,tn[cn+3]=pn};const Kaleidoscope=function(_e){var e=_e.width,St=_e.height,en,tn,nn,rn,on,un,cn,dn,Sn,mn,fn=Math.round(this.kaleidoscopePower()),vn=Math.round(this.kaleidoscopeAngle()),bn=Math.floor(e*(vn%360)/360);if(!(fn<1)){var wn=Util.createCanvasElement();wn.width=e,wn.height=St;var pn=wn.getContext("2d").getImageData(0,0,e,St);ToPolar(_e,pn,{polarCenterX:e/2,polarCenterY:St/2});for(var yn=e/Math.pow(2,fn);yn<=8;)yn=yn*2,fn-=1;yn=Math.ceil(yn);var An=yn,kn=0,xn=An,Pn=1;for(bn+yn>e&&(kn=An,xn=0,Pn=-1),tn=0;tn<St;tn+=1)for(en=kn;en!==xn;en+=Pn)nn=Math.round(en+bn)%e,Sn=(e*tn+nn)*4,on=pn.data[Sn+0],un=pn.data[Sn+1],cn=pn.data[Sn+2],dn=pn.data[Sn+3],mn=(e*tn+en)*4,pn.data[mn+0]=on,pn.data[mn+1]=un,pn.data[mn+2]=cn,pn.data[mn+3]=dn;for(tn=0;tn<St;tn+=1)for(An=Math.floor(yn),rn=0;rn<fn;rn+=1){for(en=0;en<An+1;en+=1)Sn=(e*tn+en)*4,on=pn.data[Sn+0],un=pn.data[Sn+1],cn=pn.data[Sn+2],dn=pn.data[Sn+3],mn=(e*tn+An*2-en-1)*4,pn.data[mn+0]=on,pn.data[mn+1]=un,pn.data[mn+2]=cn,pn.data[mn+3]=dn;An*=2}FromPolar(pn,_e,{polarRotation:0})}};Factory.addGetterSetter(Node,"kaleidoscopePower",2,getNumberValidator(),Factory.afterSetFilter);Factory.addGetterSetter(Node,"kaleidoscopeAngle",0,getNumberValidator(),Factory.afterSetFilter);function pixelAt(_e,e,St){var en=(St*_e.width+e)*4,tn=[];return tn.push(_e.data[en++],_e.data[en++],_e.data[en++],_e.data[en++]),tn}function rgbDistance(_e,e){return Math.sqrt(Math.pow(_e[0]-e[0],2)+Math.pow(_e[1]-e[1],2)+Math.pow(_e[2]-e[2],2))}function rgbMean(_e){for(var e=[0,0,0],St=0;St<_e.length;St++)e[0]+=_e[St][0],e[1]+=_e[St][1],e[2]+=_e[St][2];return e[0]/=_e.length,e[1]/=_e.length,e[2]/=_e.length,e}function backgroundMask(_e,e){var St=pixelAt(_e,0,0),en=pixelAt(_e,_e.width-1,0),tn=pixelAt(_e,0,_e.height-1),nn=pixelAt(_e,_e.width-1,_e.height-1),rn=e||10;if(rgbDistance(St,en)<rn&&rgbDistance(en,nn)<rn&&rgbDistance(nn,tn)<rn&&rgbDistance(tn,St)<rn){for(var on=rgbMean([en,St,nn,tn]),un=[],cn=0;cn<_e.width*_e.height;cn++){var dn=rgbDistance(on,[_e.data[cn*4],_e.data[cn*4+1],_e.data[cn*4+2]]);un[cn]=dn<rn?0:255}return un}}function applyMask(_e,e){for(var St=0;St<_e.width*_e.height;St++)_e.data[4*St+3]=e[St]}function erodeMask(_e,e,St){for(var en=[1,1,1,1,0,1,1,1,1],tn=Math.round(Math.sqrt(en.length)),nn=Math.floor(tn/2),rn=[],on=0;on<St;on++)for(var un=0;un<e;un++){for(var cn=on*e+un,dn=0,Sn=0;Sn<tn;Sn++)for(var mn=0;mn<tn;mn++){var fn=on+Sn-nn,vn=un+mn-nn;if(fn>=0&&fn<St&&vn>=0&&vn<e){var bn=fn*e+vn,wn=en[Sn*tn+mn];dn+=_e[bn]*wn}}rn[cn]=dn===255*8?255:0}return rn}function dilateMask(_e,e,St){for(var en=[1,1,1,1,1,1,1,1,1],tn=Math.round(Math.sqrt(en.length)),nn=Math.floor(tn/2),rn=[],on=0;on<St;on++)for(var un=0;un<e;un++){for(var cn=on*e+un,dn=0,Sn=0;Sn<tn;Sn++)for(var mn=0;mn<tn;mn++){var fn=on+Sn-nn,vn=un+mn-nn;if(fn>=0&&fn<St&&vn>=0&&vn<e){var bn=fn*e+vn,wn=en[Sn*tn+mn];dn+=_e[bn]*wn}}rn[cn]=dn>=255*4?255:0}return rn}function smoothEdgeMask(_e,e,St){for(var en=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],tn=Math.round(Math.sqrt(en.length)),nn=Math.floor(tn/2),rn=[],on=0;on<St;on++)for(var un=0;un<e;un++){for(var cn=on*e+un,dn=0,Sn=0;Sn<tn;Sn++)for(var mn=0;mn<tn;mn++){var fn=on+Sn-nn,vn=un+mn-nn;if(fn>=0&&fn<St&&vn>=0&&vn<e){var bn=fn*e+vn,wn=en[Sn*tn+mn];dn+=_e[bn]*wn}}rn[cn]=dn}return rn}const Mask=function(_e){var e=this.threshold(),St=backgroundMask(_e,e);return St&&(St=erodeMask(St,_e.width,_e.height),St=dilateMask(St,_e.width,_e.height),St=smoothEdgeMask(St,_e.width,_e.height),applyMask(_e,St)),_e};Factory.addGetterSetter(Node,"threshold",0,getNumberValidator(),Factory.afterSetFilter);const Noise=function(_e){var e=this.noise()*255,St=_e.data,en=St.length,tn=e/2,nn;for(nn=0;nn<en;nn+=4)St[nn+0]+=tn-2*tn*Math.random(),St[nn+1]+=tn-2*tn*Math.random(),St[nn+2]+=tn-2*tn*Math.random()};Factory.addGetterSetter(Node,"noise",.2,getNumberValidator(),Factory.afterSetFilter);const Pixelate=function(_e){var e=Math.ceil(this.pixelSize()),St=_e.width,en=_e.height,tn,nn,rn,on,un,cn,dn,Sn=Math.ceil(St/e),mn=Math.ceil(en/e),fn,vn,bn,wn,pn,yn,An,kn=_e.data;if(e<=0){Util.error("pixelSize value can not be <= 0");return}for(pn=0;pn<Sn;pn+=1)for(yn=0;yn<mn;yn+=1){for(on=0,un=0,cn=0,dn=0,fn=pn*e,vn=fn+e,bn=yn*e,wn=bn+e,An=0,tn=fn;tn<vn;tn+=1)if(!(tn>=St))for(nn=bn;nn<wn;nn+=1)nn>=en||(rn=(St*nn+tn)*4,on+=kn[rn+0],un+=kn[rn+1],cn+=kn[rn+2],dn+=kn[rn+3],An+=1);for(on=on/An,un=un/An,cn=cn/An,dn=dn/An,tn=fn;tn<vn;tn+=1)if(!(tn>=St))for(nn=bn;nn<wn;nn+=1)nn>=en||(rn=(St*nn+tn)*4,kn[rn+0]=on,kn[rn+1]=un,kn[rn+2]=cn,kn[rn+3]=dn)}};Factory.addGetterSetter(Node,"pixelSize",8,getNumberValidator(),Factory.afterSetFilter);const Posterize=function(_e){var e=Math.round(this.levels()*254)+1,St=_e.data,en=St.length,tn=255/e,nn;for(nn=0;nn<en;nn+=1)St[nn]=Math.floor(St[nn]/tn)*tn};Factory.addGetterSetter(Node,"levels",.5,getNumberValidator(),Factory.afterSetFilter);const RGB=function(_e){var e=_e.data,St=e.length,en=this.red(),tn=this.green(),nn=this.blue(),rn,on;for(rn=0;rn<St;rn+=4)on=(.34*e[rn]+.5*e[rn+1]+.16*e[rn+2])/255,e[rn]=on*en,e[rn+1]=on*tn,e[rn+2]=on*nn,e[rn+3]=e[rn+3]};Factory.addGetterSetter(Node,"red",0,function(_e){return this._filterUpToDate=!1,_e>255?255:_e<0?0:Math.round(_e)});Factory.addGetterSetter(Node,"green",0,function(_e){return this._filterUpToDate=!1,_e>255?255:_e<0?0:Math.round(_e)});Factory.addGetterSetter(Node,"blue",0,RGBComponent,Factory.afterSetFilter);const RGBA=function(_e){var e=_e.data,St=e.length,en=this.red(),tn=this.green(),nn=this.blue(),rn=this.alpha(),on,un;for(on=0;on<St;on+=4)un=1-rn,e[on]=en*rn+e[on]*un,e[on+1]=tn*rn+e[on+1]*un,e[on+2]=nn*rn+e[on+2]*un};Factory.addGetterSetter(Node,"red",0,function(_e){return this._filterUpToDate=!1,_e>255?255:_e<0?0:Math.round(_e)});Factory.addGetterSetter(Node,"green",0,function(_e){return this._filterUpToDate=!1,_e>255?255:_e<0?0:Math.round(_e)});Factory.addGetterSetter(Node,"blue",0,RGBComponent,Factory.afterSetFilter);Factory.addGetterSetter(Node,"alpha",1,function(_e){return this._filterUpToDate=!1,_e>1?1:_e<0?0:_e});const Sepia=function(_e){var e=_e.data,St=e.length,en,tn,nn,rn;for(en=0;en<St;en+=4)tn=e[en+0],nn=e[en+1],rn=e[en+2],e[en+0]=Math.min(255,tn*.393+nn*.769+rn*.189),e[en+1]=Math.min(255,tn*.349+nn*.686+rn*.168),e[en+2]=Math.min(255,tn*.272+nn*.534+rn*.131)},Solarize=function(_e){var e=_e.data,St=_e.width,en=_e.height,tn=St*4,nn=en;do{var rn=(nn-1)*tn,on=St;do{var un=rn+(on-1)*4,cn=e[un],dn=e[un+1],Sn=e[un+2];cn>127&&(cn=255-cn),dn>127&&(dn=255-dn),Sn>127&&(Sn=255-Sn),e[un]=cn,e[un+1]=dn,e[un+2]=Sn}while(--on)}while(--nn)},Threshold=function(_e){var e=this.threshold()*255,St=_e.data,en=St.length,tn;for(tn=0;tn<en;tn+=1)St[tn]=St[tn]<e?0:255};Factory.addGetterSetter(Node,"threshold",.5,getNumberValidator(),Factory.afterSetFilter);Konva.Util._assign(Konva,{Arc,Arrow,Circle,Ellipse,Image:Image$2,Label,Tag,Line:Line$1,Path,Rect,RegularPolygon,Ring,Sprite,Star,Text,TextPath,Transformer:Transformer$1,Wedge,Filters:{Blur,Brighten,Contrast,Emboss,Enhance,Grayscale,HSL,HSV,Invert,Kaleidoscope,Mask,Noise,Pixelate,Posterize,RGB,RGBA,Sepia,Solarize,Threshold}});var reactReconciler={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min=function(e){var St={},en=react.exports,tn=scheduler.exports,nn=Object.assign;function rn(sn){for(var an="https://reactjs.org/docs/error-decoder.html?invariant="+sn,gn=1;gn<arguments.length;gn++)an+="&args[]="+encodeURIComponent(arguments[gn]);return"Minified React error #"+sn+"; visit "+an+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var on=en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,un=Symbol.for("react.element"),cn=Symbol.for("react.portal"),dn=Symbol.for("react.fragment"),Sn=Symbol.for("react.strict_mode"),mn=Symbol.for("react.profiler"),fn=Symbol.for("react.provider"),vn=Symbol.for("react.context"),bn=Symbol.for("react.forward_ref"),wn=Symbol.for("react.suspense"),pn=Symbol.for("react.suspense_list"),yn=Symbol.for("react.memo"),An=Symbol.for("react.lazy"),kn=Symbol.for("react.offscreen"),xn=Symbol.iterator;function Pn(sn){return sn===null||typeof sn!="object"?null:(sn=xn&&sn[xn]||sn["@@iterator"],typeof sn=="function"?sn:null)}function In(sn){if(sn==null)return null;if(typeof sn=="function")return sn.displayName||sn.name||null;if(typeof sn=="string")return sn;switch(sn){case dn:return"Fragment";case cn:return"Portal";case mn:return"Profiler";case Sn:return"StrictMode";case wn:return"Suspense";case pn:return"SuspenseList"}if(typeof sn=="object")switch(sn.$$typeof){case vn:return(sn.displayName||"Context")+".Consumer";case fn:return(sn._context.displayName||"Context")+".Provider";case bn:var an=sn.render;return sn=sn.displayName,sn||(sn=an.displayName||an.name||"",sn=sn!==""?"ForwardRef("+sn+")":"ForwardRef"),sn;case yn:return an=sn.displayName||null,an!==null?an:In(sn.type)||"Memo";case An:an=sn._payload,sn=sn._init;try{return In(sn(an))}catch{}}return null}function On(sn){var an=sn.type;switch(sn.tag){case 24:return"Cache";case 9:return(an.displayName||"Context")+".Consumer";case 10:return(an._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return sn=an.render,sn=sn.displayName||sn.name||"",an.displayName||(sn!==""?"ForwardRef("+sn+")":"ForwardRef");case 7:return"Fragment";case 5:return an;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return In(an);case 8:return an===Sn?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof an=="function")return an.displayName||an.name||null;if(typeof an=="string")return an}return null}function Wn(sn){var an=sn,gn=sn;if(sn.alternate)for(;an.return;)an=an.return;else{sn=an;do an=sn,(an.flags&4098)!==0&&(gn=an.return),sn=an.return;while(sn)}return an.tag===3?gn:null}function zn(sn){if(Wn(sn)!==sn)throw Error(rn(188))}function Mn(sn){var an=sn.alternate;if(!an){if(an=Wn(sn),an===null)throw Error(rn(188));return an!==sn?null:sn}for(var gn=sn,Cn=an;;){var Ln=gn.return;if(Ln===null)break;var $n=Ln.alternate;if($n===null){if(Cn=Ln.return,Cn!==null){gn=Cn;continue}break}if(Ln.child===$n.child){for($n=Ln.child;$n;){if($n===gn)return zn(Ln),sn;if($n===Cn)return zn(Ln),an;$n=$n.sibling}throw Error(rn(188))}if(gn.return!==Cn.return)gn=Ln,Cn=$n;else{for(var dr=!1,Ir=Ln.child;Ir;){if(Ir===gn){dr=!0,gn=Ln,Cn=$n;break}if(Ir===Cn){dr=!0,Cn=Ln,gn=$n;break}Ir=Ir.sibling}if(!dr){for(Ir=$n.child;Ir;){if(Ir===gn){dr=!0,gn=$n,Cn=Ln;break}if(Ir===Cn){dr=!0,Cn=$n,gn=Ln;break}Ir=Ir.sibling}if(!dr)throw Error(rn(189))}}if(gn.alternate!==Cn)throw Error(rn(190))}if(gn.tag!==3)throw Error(rn(188));return gn.stateNode.current===gn?sn:an}function Gn(sn){return sn=Mn(sn),sn!==null?er(sn):null}function er(sn){if(sn.tag===5||sn.tag===6)return sn;for(sn=sn.child;sn!==null;){var an=er(sn);if(an!==null)return an;sn=sn.sibling}return null}function Qn(sn){if(sn.tag===5||sn.tag===6)return sn;for(sn=sn.child;sn!==null;){if(sn.tag!==4){var an=Qn(sn);if(an!==null)return an}sn=sn.sibling}return null}var ar=Array.isArray,tr=e.getPublicInstance,or=e.getRootHostContext,Yn=e.getChildHostContext,ur=e.prepareForCommit,pr=e.resetAfterCommit,Lr=e.createInstance,Fn=e.appendInitialChild,Rn=e.finalizeInitialChildren,Tn=e.prepareUpdate,Bn=e.shouldSetTextContent,Hn=e.createTextInstance,Kn=e.scheduleTimeout,nr=e.cancelTimeout,ir=e.noTimeout,_r=e.isPrimaryRenderer,Cr=e.supportsMutation,br=e.supportsPersistence,xr=e.supportsHydration,Un=e.getInstanceFromNode,qn=e.preparePortalMount,Dn=e.getCurrentEventPriority,lr=e.detachDeletedInstance,cr=e.supportsMicrotasks,hr=e.scheduleMicrotask,Ar=e.supportsTestSelectors,Fr=e.findFiberRoot,Pr=e.getBoundingRect,Gr=e.getTextContent,Sr=e.isHiddenSubtree,Wr=e.matchAccessibilityRole,Jr=e.setFocusIfFocusable,ns=e.setupIntersectionObserver,Er=e.appendChild,zr=e.appendChildToContainer,rs=e.commitTextUpdate,Qr=e.commitMount,ks=e.commitUpdate,ys=e.insertBefore,ws=e.insertInContainerBefore,Bs=e.removeChild,io=e.removeChildFromContainer,yr=e.resetTextContent,gr=e.hideInstance,wr=e.hideTextInstance,Kr=e.unhideInstance,ls=e.unhideTextInstance,bs=e.clearContainer,as=e.cloneInstance,ss=e.createContainerChildSet,_s=e.appendChildToContainerChildSet,Ms=e.finalizeContainerChildren,Ps=e.replaceContainerChildren,Us=e.cloneHiddenInstance,Ns=e.cloneHiddenTextInstance,ms=e.canHydrateInstance,Os=e.canHydrateTextInstance,so=e.canHydrateSuspenseInstance,Ys=e.isSuspenseInstancePending,js=e.isSuspenseInstanceFallback,Ks=e.getSuspenseInstanceFallbackErrorDetails,co=e.registerSuspenseInstanceRetry,eo=e.getNextHydratableSibling,Po=e.getFirstHydratableChild,No=e.getFirstHydratableChildWithinContainer,$o=e.getFirstHydratableChildWithinSuspenseInstance,Tl=e.hydrateInstance,xu=e.hydrateTextInstance,su=e.hydrateSuspenseInstance,Cu=e.getNextHydratableInstanceAfterSuspenseInstance,pp=e.commitHydratedContainer,Op=e.commitHydratedSuspenseInstance,Ip=e.clearSuspenseBoundary,Dp=e.clearSuspenseBoundaryFromContainer,jp=e.shouldDeleteUnhydratedTailInstances,j1=e.didNotMatchHydratedContainerTextInstance,d0=e.didNotMatchHydratedTextInstance,f1;function Eu(sn){if(f1===void 0)try{throw Error()}catch(gn){var an=gn.stack.trim().match(/\n( *(at )?)/);f1=an&&an[1]||""}return`
`+f1+sn}var Bp=!1;function p1(sn,an){if(!sn||Bp)return"";Bp=!0;var gn=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(an)if(an=function(){throw Error()},Object.defineProperty(an.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(an,[])}catch(os){var Cn=os}Reflect.construct(sn,[],an)}else{try{an.call()}catch(os){Cn=os}sn.call(an.prototype)}else{try{throw Error()}catch(os){Cn=os}sn()}}catch(os){if(os&&Cn&&typeof os.stack=="string"){for(var Ln=os.stack.split(`
`),$n=Cn.stack.split(`
`),dr=Ln.length-1,Ir=$n.length-1;1<=dr&&0<=Ir&&Ln[dr]!==$n[Ir];)Ir--;for(;1<=dr&&0<=Ir;dr--,Ir--)if(Ln[dr]!==$n[Ir]){if(dr!==1||Ir!==1)do if(dr--,Ir--,0>Ir||Ln[dr]!==$n[Ir]){var qr=`
`+Ln[dr].replace(" at new "," at ");return sn.displayName&&qr.includes("<anonymous>")&&(qr=qr.replace("<anonymous>",sn.displayName)),qr}while(1<=dr&&0<=Ir);break}}}finally{Bp=!1,Error.prepareStackTrace=gn}return(sn=sn?sn.displayName||sn.name:"")?Eu(sn):""}var g1=Object.prototype.hasOwnProperty,m1=[],$u=-1;function ku(sn){return{current:sn}}function Qs(sn){0>$u||(sn.current=m1[$u],m1[$u]=null,$u--)}function to(sn,an){$u++,m1[$u]=sn.current,sn.current=an}var no={},Mo=ku(no),zo=ku(!1),Pu=no;function Nu(sn,an){var gn=sn.type.contextTypes;if(!gn)return no;var Cn=sn.stateNode;if(Cn&&Cn.__reactInternalMemoizedUnmaskedChildContext===an)return Cn.__reactInternalMemoizedMaskedChildContext;var Ln={},$n;for($n in gn)Ln[$n]=an[$n];return Cn&&(sn=sn.stateNode,sn.__reactInternalMemoizedUnmaskedChildContext=an,sn.__reactInternalMemoizedMaskedChildContext=Ln),Ln}function Vo(sn){return sn=sn.childContextTypes,sn!=null}function Ll(){Qs(zo),Qs(Mo)}function gp(sn,an,gn){if(Mo.current!==no)throw Error(rn(168));to(Mo,an),to(zo,gn)}function _l(sn,an,gn){var Cn=sn.stateNode;if(an=an.childContextTypes,typeof Cn.getChildContext!="function")return gn;Cn=Cn.getChildContext();for(var Ln in Cn)if(!(Ln in an))throw Error(rn(108,On(sn)||"Unknown",Ln));return nn({},gn,Cn)}function _f(sn){return sn=(sn=sn.stateNode)&&sn.__reactInternalMemoizedMergedChildContext||no,Pu=Mo.current,to(Mo,sn),to(zo,zo.current),!0}function v1(sn,an,gn){var Cn=sn.stateNode;if(!Cn)throw Error(rn(169));gn?(sn=_l(sn,an,Pu),Cn.__reactInternalMemoizedMergedChildContext=sn,Qs(zo),Qs(Mo),to(Mo,sn)):Qs(zo),to(zo,gn)}var Gl=Math.clz32?Math.clz32:U1,B1=Math.log,f0=Math.LN2;function U1(sn){return sn>>>=0,sn===0?32:31-(B1(sn)/f0|0)|0}var Up=64,ep=4194304;function mp(sn){switch(sn&-sn){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return sn&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return sn&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return sn}}function $p(sn,an){var gn=sn.pendingLanes;if(gn===0)return 0;var Cn=0,Ln=sn.suspendedLanes,$n=sn.pingedLanes,dr=gn&268435455;if(dr!==0){var Ir=dr&~Ln;Ir!==0?Cn=mp(Ir):($n&=dr,$n!==0&&(Cn=mp($n)))}else dr=gn&~Ln,dr!==0?Cn=mp(dr):$n!==0&&(Cn=mp($n));if(Cn===0)return 0;if(an!==0&&an!==Cn&&(an&Ln)===0&&(Ln=Cn&-Cn,$n=an&-an,Ln>=$n||Ln===16&&($n&4194240)!==0))return an;if((Cn&4)!==0&&(Cn|=gn&16),an=sn.entangledLanes,an!==0)for(sn=sn.entanglements,an&=Cn;0<an;)gn=31-Gl(an),Ln=1<<gn,Cn|=sn[gn],an&=~Ln;return Cn}function p0(sn,an){switch(sn){case 1:case 2:case 4:return an+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return an+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zu(sn,an){for(var gn=sn.suspendedLanes,Cn=sn.pingedLanes,Ln=sn.expirationTimes,$n=sn.pendingLanes;0<$n;){var dr=31-Gl($n),Ir=1<<dr,qr=Ln[dr];qr===-1?((Ir&gn)===0||(Ir&Cn)!==0)&&(Ln[dr]=p0(Ir,an)):qr<=an&&(sn.expiredLanes|=Ir),$n&=~Ir}}function tp(sn){return sn=sn.pendingLanes&-1073741825,sn!==0?sn:sn&1073741824?1073741824:0}function vp(){var sn=Up;return Up<<=1,(Up&4194240)===0&&(Up=64),sn}function zp(sn){for(var an=[],gn=0;31>gn;gn++)an.push(sn);return an}function To(sn,an,gn){sn.pendingLanes|=an,an!==536870912&&(sn.suspendedLanes=0,sn.pingedLanes=0),sn=sn.eventTimes,an=31-Gl(an),sn[an]=gn}function g0(sn,an){var gn=sn.pendingLanes&~an;sn.pendingLanes=an,sn.suspendedLanes=0,sn.pingedLanes=0,sn.expiredLanes&=an,sn.mutableReadLanes&=an,sn.entangledLanes&=an,an=sn.entanglements;var Cn=sn.eventTimes;for(sn=sn.expirationTimes;0<gn;){var Ln=31-Gl(gn),$n=1<<Ln;an[Ln]=0,Cn[Ln]=-1,sn[Ln]=-1,gn&=~$n}}function Gp(sn,an){var gn=sn.entangledLanes|=an;for(sn=sn.entanglements;gn;){var Cn=31-Gl(gn),Ln=1<<Cn;Ln&an|sn[Cn]&an&&(sn[Cn]|=an),gn&=~Ln}}var fs=0;function $1(sn){return sn&=-sn,1<sn?4<sn?(sn&268435455)!==0?16:536870912:4:1}var y1=tn.unstable_scheduleCallback,pu=tn.unstable_cancelCallback,z1=tn.unstable_shouldYield,G1=tn.unstable_requestPaint,ho=tn.unstable_now,yp=tn.unstable_ImmediatePriority,m0=tn.unstable_UserBlockingPriority,_1=tn.unstable_NormalPriority,v0=tn.unstable_IdlePriority,np=null,Wo=null;function rp(sn){if(Wo&&typeof Wo.onCommitFiberRoot=="function")try{Wo.onCommitFiberRoot(np,sn,void 0,(sn.current.flags&128)===128)}catch{}}function y0(sn,an){return sn===an&&(sn!==0||1/sn===1/an)||sn!==sn&&an!==an}var Go=typeof Object.is=="function"?Object.is:y0,Hl=null,Gu=!1,qp=!1;function S1(sn){Hl===null?Hl=[sn]:Hl.push(sn)}function q1(sn){Gu=!0,S1(sn)}function Vl(){if(!qp&&Hl!==null){qp=!0;var sn=0,an=fs;try{var gn=Hl;for(fs=1;sn<gn.length;sn++){var Cn=gn[sn];do Cn=Cn(!0);while(Cn!==null)}Hl=null,Gu=!1}catch(Ln){throw Hl!==null&&(Hl=Hl.slice(sn+1)),y1(yp,Vl),Ln}finally{fs=an,qp=!1}}return null}var Rl=[],Wl=0,Hp=null,gu=0,yo=[],Xo=0,Xl=null,mu=1,Fl="";function qu(sn,an){Rl[Wl++]=gu,Rl[Wl++]=Hp,Hp=sn,gu=an}function Vp(sn,an,gn){yo[Xo++]=mu,yo[Xo++]=Fl,yo[Xo++]=Xl,Xl=sn;var Cn=mu;sn=Fl;var Ln=32-Gl(Cn)-1;Cn&=~(1<<Ln),gn+=1;var $n=32-Gl(an)+Ln;if(30<$n){var dr=Ln-Ln%5;$n=(Cn&(1<<dr)-1).toString(32),Cn>>=dr,Ln-=dr,mu=1<<32-Gl(an)+Ln|gn<<Ln|Cn,Fl=$n+sn}else mu=1<<$n|gn<<Ln|Cn,Fl=sn}function _p(sn){sn.return!==null&&(qu(sn,1),Vp(sn,1,0))}function Wp(sn){for(;sn===Hp;)Hp=Rl[--Wl],Rl[Wl]=null,gu=Rl[--Wl],Rl[Wl]=null;for(;sn===Xl;)Xl=yo[--Xo],yo[Xo]=null,Fl=yo[--Xo],yo[Xo]=null,mu=yo[--Xo],yo[Xo]=null}var Do=null,Yo=null,ro=!1,ip=!1,Yl=null;function Sp(sn,an){var gn=Bu(5,null,null,0);gn.elementType="DELETED",gn.stateNode=an,gn.return=sn,an=sn.deletions,an===null?(sn.deletions=[gn],sn.flags|=16):an.push(gn)}function sp(sn,an){switch(sn.tag){case 5:return an=ms(an,sn.type,sn.pendingProps),an!==null?(sn.stateNode=an,Do=sn,Yo=Po(an),!0):!1;case 6:return an=Os(an,sn.pendingProps),an!==null?(sn.stateNode=an,Do=sn,Yo=null,!0):!1;case 13:if(an=so(an),an!==null){var gn=Xl!==null?{id:mu,overflow:Fl}:null;return sn.memoizedState={dehydrated:an,treeContext:gn,retryLane:1073741824},gn=Bu(18,null,null,0),gn.stateNode=an,gn.return=sn,sn.child=gn,Do=sn,Yo=null,!0}return!1;default:return!1}}function wp(sn){return(sn.mode&1)!==0&&(sn.flags&128)===0}function Tu(sn){if(ro){var an=Yo;if(an){var gn=an;if(!sp(sn,an)){if(wp(sn))throw Error(rn(418));an=eo(gn);var Cn=Do;an&&sp(sn,an)?Sp(Cn,gn):(sn.flags=sn.flags&-4097|2,ro=!1,Do=sn)}}else{if(wp(sn))throw Error(rn(418));sn.flags=sn.flags&-4097|2,ro=!1,Do=sn}}}function Xp(sn){for(sn=sn.return;sn!==null&&sn.tag!==5&&sn.tag!==3&&sn.tag!==13;)sn=sn.return;Do=sn}function En(sn){if(!xr||sn!==Do)return!1;if(!ro)return Xp(sn),ro=!0,!1;if(sn.tag!==3&&(sn.tag!==5||jp(sn.type)&&!Bn(sn.type,sn.memoizedProps))){var an=Yo;if(an){if(wp(sn))throw Xn(),Error(rn(418));for(;an;)Sp(sn,an),an=eo(an)}}if(Xp(sn),sn.tag===13){if(!xr)throw Error(rn(316));if(sn=sn.memoizedState,sn=sn!==null?sn.dehydrated:null,!sn)throw Error(rn(317));Yo=Cu(sn)}else Yo=Do?eo(sn.stateNode):null;return!0}function Xn(){for(var sn=Yo;sn;)sn=eo(sn)}function vr(){xr&&(Yo=Do=null,ip=ro=!1)}function Nr(sn){Yl===null?Yl=[sn]:Yl.push(sn)}var Br=on.ReactCurrentBatchConfig;function Vr(sn,an){if(Go(sn,an))return!0;if(typeof sn!="object"||sn===null||typeof an!="object"||an===null)return!1;var gn=Object.keys(sn),Cn=Object.keys(an);if(gn.length!==Cn.length)return!1;for(Cn=0;Cn<gn.length;Cn++){var Ln=gn[Cn];if(!g1.call(an,Ln)||!Go(sn[Ln],an[Ln]))return!1}return!0}function is(sn){switch(sn.tag){case 5:return Eu(sn.type);case 16:return Eu("Lazy");case 13:return Eu("Suspense");case 19:return Eu("SuspenseList");case 0:case 2:case 15:return sn=p1(sn.type,!1),sn;case 11:return sn=p1(sn.type.render,!1),sn;case 1:return sn=p1(sn.type,!0),sn;default:return""}}function us(sn,an){if(sn&&sn.defaultProps){an=nn({},an),sn=sn.defaultProps;for(var gn in sn)an[gn]===void 0&&(an[gn]=sn[gn]);return an}return an}var xs=ku(null),Ls=null,Rs=null,Vs=null;function lo(){Vs=Rs=Ls=null}function fo(sn,an,gn){_r?(to(xs,an._currentValue),an._currentValue=gn):(to(xs,an._currentValue2),an._currentValue2=gn)}function _o(sn){var an=xs.current;Qs(xs),_r?sn._currentValue=an:sn._currentValue2=an}function jo(sn,an,gn){for(;sn!==null;){var Cn=sn.alternate;if((sn.childLanes&an)!==an?(sn.childLanes|=an,Cn!==null&&(Cn.childLanes|=an)):Cn!==null&&(Cn.childLanes&an)!==an&&(Cn.childLanes|=an),sn===gn)break;sn=sn.return}}function po(sn,an){Ls=sn,Vs=Rs=null,sn=sn.dependencies,sn!==null&&sn.firstContext!==null&&((sn.lanes&an)!==0&&(xl=!0),sn.firstContext=null)}function So(sn){var an=_r?sn._currentValue:sn._currentValue2;if(Vs!==sn)if(sn={context:sn,memoizedValue:an,next:null},Rs===null){if(Ls===null)throw Error(rn(308));Rs=sn,Ls.dependencies={lanes:0,firstContext:sn}}else Rs=Rs.next=sn;return an}var Oo=null;function vu(sn){Oo===null?Oo=[sn]:Oo.push(sn)}function w1(sn,an,gn,Cn){var Ln=an.interleaved;return Ln===null?(gn.next=gn,vu(an)):(gn.next=Ln.next,Ln.next=gn),an.interleaved=gn,Ml(sn,Cn)}function Ml(sn,an){sn.lanes|=an;var gn=sn.alternate;for(gn!==null&&(gn.lanes|=an),gn=sn,sn=sn.return;sn!==null;)sn.childLanes|=an,gn=sn.alternate,gn!==null&&(gn.childLanes|=an),gn=sn,sn=sn.return;return gn.tag===3?gn.stateNode:null}var au=!1;function ap(sn){sn.updateQueue={baseState:sn.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yp(sn,an){sn=sn.updateQueue,an.updateQueue===sn&&(an.updateQueue={baseState:sn.baseState,firstBaseUpdate:sn.firstBaseUpdate,lastBaseUpdate:sn.lastBaseUpdate,shared:sn.shared,effects:sn.effects})}function Kl(sn,an){return{eventTime:sn,lane:an,tag:0,payload:null,callback:null,next:null}}function Ql(sn,an,gn){var Cn=sn.updateQueue;if(Cn===null)return null;if(Cn=Cn.shared,(zs&2)!==0){var Ln=Cn.pending;return Ln===null?an.next=an:(an.next=Ln.next,Ln.next=an),Cn.pending=an,Ml(sn,gn)}return Ln=Cn.interleaved,Ln===null?(an.next=an,vu(Cn)):(an.next=Ln.next,Ln.next=an),Cn.interleaved=an,Ml(sn,gn)}function qo(sn,an,gn){if(an=an.updateQueue,an!==null&&(an=an.shared,(gn&4194240)!==0)){var Cn=an.lanes;Cn&=sn.pendingLanes,gn|=Cn,an.lanes=gn,Gp(sn,gn)}}function bp(sn,an){var gn=sn.updateQueue,Cn=sn.alternate;if(Cn!==null&&(Cn=Cn.updateQueue,gn===Cn)){var Ln=null,$n=null;if(gn=gn.firstBaseUpdate,gn!==null){do{var dr={eventTime:gn.eventTime,lane:gn.lane,tag:gn.tag,payload:gn.payload,callback:gn.callback,next:null};$n===null?Ln=$n=dr:$n=$n.next=dr,gn=gn.next}while(gn!==null);$n===null?Ln=$n=an:$n=$n.next=an}else Ln=$n=an;gn={baseState:Cn.baseState,firstBaseUpdate:Ln,lastBaseUpdate:$n,shared:Cn.shared,effects:Cn.effects},sn.updateQueue=gn;return}sn=gn.lastBaseUpdate,sn===null?gn.firstBaseUpdate=an:sn.next=an,gn.lastBaseUpdate=an}function Hu(sn,an,gn,Cn){var Ln=sn.updateQueue;au=!1;var $n=Ln.firstBaseUpdate,dr=Ln.lastBaseUpdate,Ir=Ln.shared.pending;if(Ir!==null){Ln.shared.pending=null;var qr=Ir,os=qr.next;qr.next=null,dr===null?$n=os:dr.next=os,dr=qr;var Ss=sn.alternate;Ss!==null&&(Ss=Ss.updateQueue,Ir=Ss.lastBaseUpdate,Ir!==dr&&(Ir===null?Ss.firstBaseUpdate=os:Ir.next=os,Ss.lastBaseUpdate=qr))}if($n!==null){var Is=Ln.baseState;dr=0,Ss=os=qr=null,Ir=$n;do{var gs=Ir.lane,vo=Ir.eventTime;if((Cn&gs)===gs){Ss!==null&&(Ss=Ss.next={eventTime:vo,lane:0,tag:Ir.tag,payload:Ir.payload,callback:Ir.callback,next:null});e:{var uo=sn,fu=Ir;switch(gs=an,vo=gn,fu.tag){case 1:if(uo=fu.payload,typeof uo=="function"){Is=uo.call(vo,Is,gs);break e}Is=uo;break e;case 3:uo.flags=uo.flags&-65537|128;case 0:if(uo=fu.payload,gs=typeof uo=="function"?uo.call(vo,Is,gs):uo,gs==null)break e;Is=nn({},Is,gs);break e;case 2:au=!0}}Ir.callback!==null&&Ir.lane!==0&&(sn.flags|=64,gs=Ln.effects,gs===null?Ln.effects=[Ir]:gs.push(Ir))}else vo={eventTime:vo,lane:gs,tag:Ir.tag,payload:Ir.payload,callback:Ir.callback,next:null},Ss===null?(os=Ss=vo,qr=Is):Ss=Ss.next=vo,dr|=gs;if(Ir=Ir.next,Ir===null){if(Ir=Ln.shared.pending,Ir===null)break;gs=Ir,Ir=gs.next,gs.next=null,Ln.lastBaseUpdate=gs,Ln.shared.pending=null}}while(1);if(Ss===null&&(qr=Is),Ln.baseState=qr,Ln.firstBaseUpdate=os,Ln.lastBaseUpdate=Ss,an=Ln.shared.interleaved,an!==null){Ln=an;do dr|=Ln.lane,Ln=Ln.next;while(Ln!==an)}else $n===null&&(Ln.shared.lanes=0);Tp|=dr,sn.lanes=dr,sn.memoizedState=Is}}function Ap(sn,an,gn){if(sn=an.effects,an.effects=null,sn!==null)for(an=0;an<sn.length;an++){var Cn=sn[an],Ln=Cn.callback;if(Ln!==null){if(Cn.callback=null,Cn=gn,typeof Ln!="function")throw Error(rn(191,Ln));Ln.call(Cn)}}}var Kp=new en.Component().refs;function Ko(sn,an,gn,Cn){an=sn.memoizedState,gn=gn(Cn,an),gn=gn==null?an:nn({},an,gn),sn.memoizedState=gn,sn.lanes===0&&(sn.updateQueue.baseState=gn)}var Qp={isMounted:function(sn){return(sn=sn._reactInternals)?Wn(sn)===sn:!1},enqueueSetState:function(sn,an,gn){sn=sn._reactInternals;var Cn=Ho(),Ln=Zu(sn),$n=Kl(Cn,Ln);$n.payload=an,gn!=null&&($n.callback=gn),an=Ql(sn,$n,Ln),an!==null&&(du(an,sn,Ln,Cn),qo(an,sn,Ln))},enqueueReplaceState:function(sn,an,gn){sn=sn._reactInternals;var Cn=Ho(),Ln=Zu(sn),$n=Kl(Cn,Ln);$n.tag=1,$n.payload=an,gn!=null&&($n.callback=gn),an=Ql(sn,$n,Ln),an!==null&&(du(an,sn,Ln,Cn),qo(an,sn,Ln))},enqueueForceUpdate:function(sn,an){sn=sn._reactInternals;var gn=Ho(),Cn=Zu(sn),Ln=Kl(gn,Cn);Ln.tag=2,an!=null&&(Ln.callback=an),an=Ql(sn,Ln,Cn),an!==null&&(du(an,sn,Cn,gn),qo(an,sn,Cn))}};function Jp(sn,an,gn,Cn,Ln,$n,dr){return sn=sn.stateNode,typeof sn.shouldComponentUpdate=="function"?sn.shouldComponentUpdate(Cn,$n,dr):an.prototype&&an.prototype.isPureReactComponent?!Vr(gn,Cn)||!Vr(Ln,$n):!0}function b1(sn,an,gn){var Cn=!1,Ln=no,$n=an.contextType;return typeof $n=="object"&&$n!==null?$n=So($n):(Ln=Vo(an)?Pu:Mo.current,Cn=an.contextTypes,$n=(Cn=Cn!=null)?Nu(sn,Ln):no),an=new an(gn,$n),sn.memoizedState=an.state!==null&&an.state!==void 0?an.state:null,an.updater=Qp,sn.stateNode=an,an._reactInternals=sn,Cn&&(sn=sn.stateNode,sn.__reactInternalMemoizedUnmaskedChildContext=Ln,sn.__reactInternalMemoizedMaskedChildContext=$n),an}function ou(sn,an,gn,Cn){sn=an.state,typeof an.componentWillReceiveProps=="function"&&an.componentWillReceiveProps(gn,Cn),typeof an.UNSAFE_componentWillReceiveProps=="function"&&an.UNSAFE_componentWillReceiveProps(gn,Cn),an.state!==sn&&Qp.enqueueReplaceState(an,an.state,null)}function xp(sn,an,gn,Cn){var Ln=sn.stateNode;Ln.props=gn,Ln.state=sn.memoizedState,Ln.refs=Kp,ap(sn);var $n=an.contextType;typeof $n=="object"&&$n!==null?Ln.context=So($n):($n=Vo(an)?Pu:Mo.current,Ln.context=Nu(sn,$n)),Ln.state=sn.memoizedState,$n=an.getDerivedStateFromProps,typeof $n=="function"&&(Ko(sn,an,$n,gn),Ln.state=sn.memoizedState),typeof an.getDerivedStateFromProps=="function"||typeof Ln.getSnapshotBeforeUpdate=="function"||typeof Ln.UNSAFE_componentWillMount!="function"&&typeof Ln.componentWillMount!="function"||(an=Ln.state,typeof Ln.componentWillMount=="function"&&Ln.componentWillMount(),typeof Ln.UNSAFE_componentWillMount=="function"&&Ln.UNSAFE_componentWillMount(),an!==Ln.state&&Qp.enqueueReplaceState(Ln,Ln.state,null),Hu(sn,gn,Ln,Cn),Ln.state=sn.memoizedState),typeof Ln.componentDidMount=="function"&&(sn.flags|=4194308)}function Cp(sn,an,gn){if(sn=gn.ref,sn!==null&&typeof sn!="function"&&typeof sn!="object"){if(gn._owner){if(gn=gn._owner,gn){if(gn.tag!==1)throw Error(rn(309));var Cn=gn.stateNode}if(!Cn)throw Error(rn(147,sn));var Ln=Cn,$n=""+sn;return an!==null&&an.ref!==null&&typeof an.ref=="function"&&an.ref._stringRef===$n?an.ref:(an=function(dr){var Ir=Ln.refs;Ir===Kp&&(Ir=Ln.refs={}),dr===null?delete Ir[$n]:Ir[$n]=dr},an._stringRef=$n,an)}if(typeof sn!="string")throw Error(rn(284));if(!gn._owner)throw Error(rn(290,sn))}return sn}function Zp(sn,an){throw sn=Object.prototype.toString.call(an),Error(rn(31,sn==="[object Object]"?"object with keys {"+Object.keys(an).join(", ")+"}":sn))}function Vu(sn){var an=sn._init;return an(sn._payload)}function Jl(sn){function an($r,jr){if(sn){var Yr=$r.deletions;Yr===null?($r.deletions=[jr],$r.flags|=16):Yr.push(jr)}}function gn($r,jr){if(!sn)return null;for(;jr!==null;)an($r,jr),jr=jr.sibling;return null}function Cn($r,jr){for($r=new Map;jr!==null;)jr.key!==null?$r.set(jr.key,jr):$r.set(jr.index,jr),jr=jr.sibling;return $r}function Ln($r,jr){return $r=h1($r,jr),$r.index=0,$r.sibling=null,$r}function $n($r,jr,Yr){return $r.index=Yr,sn?(Yr=$r.alternate,Yr!==null?(Yr=Yr.index,Yr<jr?($r.flags|=2,jr):Yr):($r.flags|=2,jr)):($r.flags|=1048576,jr)}function dr($r){return sn&&$r.alternate===null&&($r.flags|=2),$r}function Ir($r,jr,Yr,vs){return jr===null||jr.tag!==6?(jr=gm(Yr,$r.mode,vs),jr.return=$r,jr):(jr=Ln(jr,Yr),jr.return=$r,jr)}function qr($r,jr,Yr,vs){var Es=Yr.type;return Es===dn?Ss($r,jr,Yr.props.children,vs,Yr.key):jr!==null&&(jr.elementType===Es||typeof Es=="object"&&Es!==null&&Es.$$typeof===An&&Vu(Es)===jr.type)?(vs=Ln(jr,Yr.props),vs.ref=Cp($r,jr,Yr),vs.return=$r,vs):(vs=nm(Yr.type,Yr.key,Yr.props,null,$r.mode,vs),vs.ref=Cp($r,jr,Yr),vs.return=$r,vs)}function os($r,jr,Yr,vs){return jr===null||jr.tag!==4||jr.stateNode.containerInfo!==Yr.containerInfo||jr.stateNode.implementation!==Yr.implementation?(jr=mm(Yr,$r.mode,vs),jr.return=$r,jr):(jr=Ln(jr,Yr.children||[]),jr.return=$r,jr)}function Ss($r,jr,Yr,vs,Es){return jr===null||jr.tag!==7?(jr=D1(Yr,$r.mode,vs,Es),jr.return=$r,jr):(jr=Ln(jr,Yr),jr.return=$r,jr)}function Is($r,jr,Yr){if(typeof jr=="string"&&jr!==""||typeof jr=="number")return jr=gm(""+jr,$r.mode,Yr),jr.return=$r,jr;if(typeof jr=="object"&&jr!==null){switch(jr.$$typeof){case un:return Yr=nm(jr.type,jr.key,jr.props,null,$r.mode,Yr),Yr.ref=Cp($r,null,jr),Yr.return=$r,Yr;case cn:return jr=mm(jr,$r.mode,Yr),jr.return=$r,jr;case An:var vs=jr._init;return Is($r,vs(jr._payload),Yr)}if(ar(jr)||Pn(jr))return jr=D1(jr,$r.mode,Yr,null),jr.return=$r,jr;Zp($r,jr)}return null}function gs($r,jr,Yr,vs){var Es=jr!==null?jr.key:null;if(typeof Yr=="string"&&Yr!==""||typeof Yr=="number")return Es!==null?null:Ir($r,jr,""+Yr,vs);if(typeof Yr=="object"&&Yr!==null){switch(Yr.$$typeof){case un:return Yr.key===Es?qr($r,jr,Yr,vs):null;case cn:return Yr.key===Es?os($r,jr,Yr,vs):null;case An:return Es=Yr._init,gs($r,jr,Es(Yr._payload),vs)}if(ar(Yr)||Pn(Yr))return Es!==null?null:Ss($r,jr,Yr,vs,null);Zp($r,Yr)}return null}function vo($r,jr,Yr,vs,Es){if(typeof vs=="string"&&vs!==""||typeof vs=="number")return $r=$r.get(Yr)||null,Ir(jr,$r,""+vs,Es);if(typeof vs=="object"&&vs!==null){switch(vs.$$typeof){case un:return $r=$r.get(vs.key===null?Yr:vs.key)||null,qr(jr,$r,vs,Es);case cn:return $r=$r.get(vs.key===null?Yr:vs.key)||null,os(jr,$r,vs,Es);case An:var qs=vs._init;return vo($r,jr,Yr,qs(vs._payload),Es)}if(ar(vs)||Pn(vs))return $r=$r.get(Yr)||null,Ss(jr,$r,vs,Es,null);Zp(jr,vs)}return null}function uo($r,jr,Yr,vs){for(var Es=null,qs=null,Ds=jr,ga=jr=0,yl=null;Ds!==null&&ga<Yr.length;ga++){Ds.index>ga?(yl=Ds,Ds=null):yl=Ds.sibling;var ba=gs($r,Ds,Yr[ga],vs);if(ba===null){Ds===null&&(Ds=yl);break}sn&&Ds&&ba.alternate===null&&an($r,Ds),jr=$n(ba,jr,ga),qs===null?Es=ba:qs.sibling=ba,qs=ba,Ds=yl}if(ga===Yr.length)return gn($r,Ds),ro&&qu($r,ga),Es;if(Ds===null){for(;ga<Yr.length;ga++)Ds=Is($r,Yr[ga],vs),Ds!==null&&(jr=$n(Ds,jr,ga),qs===null?Es=Ds:qs.sibling=Ds,qs=Ds);return ro&&qu($r,ga),Es}for(Ds=Cn($r,Ds);ga<Yr.length;ga++)yl=vo(Ds,$r,ga,Yr[ga],vs),yl!==null&&(sn&&yl.alternate!==null&&Ds.delete(yl.key===null?ga:yl.key),jr=$n(yl,jr,ga),qs===null?Es=yl:qs.sibling=yl,qs=yl);return sn&&Ds.forEach(function(d1){return an($r,d1)}),ro&&qu($r,ga),Es}function fu($r,jr,Yr,vs){var Es=Pn(Yr);if(typeof Es!="function")throw Error(rn(150));if(Yr=Es.call(Yr),Yr==null)throw Error(rn(151));for(var qs=Es=null,Ds=jr,ga=jr=0,yl=null,ba=Yr.next();Ds!==null&&!ba.done;ga++,ba=Yr.next()){Ds.index>ga?(yl=Ds,Ds=null):yl=Ds.sibling;var d1=gs($r,Ds,ba.value,vs);if(d1===null){Ds===null&&(Ds=yl);break}sn&&Ds&&d1.alternate===null&&an($r,Ds),jr=$n(d1,jr,ga),qs===null?Es=d1:qs.sibling=d1,qs=d1,Ds=yl}if(ba.done)return gn($r,Ds),ro&&qu($r,ga),Es;if(Ds===null){for(;!ba.done;ga++,ba=Yr.next())ba=Is($r,ba.value,vs),ba!==null&&(jr=$n(ba,jr,ga),qs===null?Es=ba:qs.sibling=ba,qs=ba);return ro&&qu($r,ga),Es}for(Ds=Cn($r,Ds);!ba.done;ga++,ba=Yr.next())ba=vo(Ds,$r,ga,ba.value,vs),ba!==null&&(sn&&ba.alternate!==null&&Ds.delete(ba.key===null?ga:ba.key),jr=$n(ba,jr,ga),qs===null?Es=ba:qs.sibling=ba,qs=ba);return sn&&Ds.forEach(function(A2){return an($r,A2)}),ro&&qu($r,ga),Es}function Mp($r,jr,Yr,vs){if(typeof Yr=="object"&&Yr!==null&&Yr.type===dn&&Yr.key===null&&(Yr=Yr.props.children),typeof Yr=="object"&&Yr!==null){switch(Yr.$$typeof){case un:e:{for(var Es=Yr.key,qs=jr;qs!==null;){if(qs.key===Es){if(Es=Yr.type,Es===dn){if(qs.tag===7){gn($r,qs.sibling),jr=Ln(qs,Yr.props.children),jr.return=$r,$r=jr;break e}}else if(qs.elementType===Es||typeof Es=="object"&&Es!==null&&Es.$$typeof===An&&Vu(Es)===qs.type){gn($r,qs.sibling),jr=Ln(qs,Yr.props),jr.ref=Cp($r,qs,Yr),jr.return=$r,$r=jr;break e}gn($r,qs);break}else an($r,qs);qs=qs.sibling}Yr.type===dn?(jr=D1(Yr.props.children,$r.mode,vs,Yr.key),jr.return=$r,$r=jr):(vs=nm(Yr.type,Yr.key,Yr.props,null,$r.mode,vs),vs.ref=Cp($r,jr,Yr),vs.return=$r,$r=vs)}return dr($r);case cn:e:{for(qs=Yr.key;jr!==null;){if(jr.key===qs)if(jr.tag===4&&jr.stateNode.containerInfo===Yr.containerInfo&&jr.stateNode.implementation===Yr.implementation){gn($r,jr.sibling),jr=Ln(jr,Yr.children||[]),jr.return=$r,$r=jr;break e}else{gn($r,jr);break}else an($r,jr);jr=jr.sibling}jr=mm(Yr,$r.mode,vs),jr.return=$r,$r=jr}return dr($r);case An:return qs=Yr._init,Mp($r,jr,qs(Yr._payload),vs)}if(ar(Yr))return uo($r,jr,Yr,vs);if(Pn(Yr))return fu($r,jr,Yr,vs);Zp($r,Yr)}return typeof Yr=="string"&&Yr!==""||typeof Yr=="number"?(Yr=""+Yr,jr!==null&&jr.tag===6?(gn($r,jr.sibling),jr=Ln(jr,Yr),jr.return=$r,$r=jr):(gn($r,jr),jr=gm(Yr,$r.mode,vs),jr.return=$r,$r=jr),dr($r)):gn($r,jr)}return Mp}var Qo=Jl(!0),Wu=Jl(!1),Ol={},Lo=ku(Ol),Lu=ku(Ol),Jo=ku(Ol);function Sl(sn){if(sn===Ol)throw Error(rn(174));return sn}function Ep(sn,an){to(Jo,an),to(Lu,sn),to(Lo,Ol),sn=or(an),Qs(Lo),to(Lo,sn)}function Zl(){Qs(Lo),Qs(Lu),Qs(Jo)}function lu(sn){var an=Sl(Jo.current),gn=Sl(Lo.current);an=Yn(gn,sn.type,an),gn!==an&&(to(Lu,sn),to(Lo,an))}function yu(sn){Lu.current===sn&&(Qs(Lo),Qs(Lu))}var xa=ku(0);function Xu(sn){for(var an=sn;an!==null;){if(an.tag===13){var gn=an.memoizedState;if(gn!==null&&(gn=gn.dehydrated,gn===null||Ys(gn)||js(gn)))return an}else if(an.tag===19&&an.memoizedProps.revealOrder!==void 0){if((an.flags&128)!==0)return an}else if(an.child!==null){an.child.return=an,an=an.child;continue}if(an===sn)break;for(;an.sibling===null;){if(an.return===null||an.return===sn)return null;an=an.return}an.sibling.return=an.return,an=an.sibling}return null}var Yu=[];function Ru(){for(var sn=0;sn<Yu.length;sn++){var an=Yu[sn];_r?an._workInProgressVersionPrimary=null:an._workInProgressVersionSecondary=null}Yu.length=0}var op=on.ReactCurrentDispatcher,Il=on.ReactCurrentBatchConfig,Al=0,Ts=null,Fs=null,Gs=null,wo=!1,eu=!1,uu=0,e1=0;function Io(){throw Error(rn(321))}function H1(sn,an){if(an===null)return!1;for(var gn=0;gn<an.length&&gn<sn.length;gn++)if(!Go(sn[gn],an[gn]))return!1;return!0}function V1(sn,an,gn,Cn,Ln,$n){if(Al=$n,Ts=an,an.memoizedState=null,an.updateQueue=null,an.lanes=0,op.current=sn===null||sn.memoizedState===null?hm:lp,sn=gn(Cn,Ln),eu){$n=0;do{if(eu=!1,uu=0,25<=$n)throw Error(rn(301));$n+=1,Gs=Fs=null,an.updateQueue=null,op.current=Su,sn=gn(Cn,Ln)}while(eu)}if(op.current=J1,an=Fs!==null&&Fs.next!==null,Al=0,Gs=Fs=Ts=null,wo=!1,an)throw Error(rn(300));return sn}function W1(){var sn=uu!==0;return uu=0,sn}function _u(){var sn={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gs===null?Ts.memoizedState=Gs=sn:Gs=Gs.next=sn,Gs}function tu(){if(Fs===null){var sn=Ts.alternate;sn=sn!==null?sn.memoizedState:null}else sn=Fs.next;var an=Gs===null?Ts.memoizedState:Gs.next;if(an!==null)Gs=an,Fs=sn;else{if(sn===null)throw Error(rn(310));Fs=sn,sn={memoizedState:Fs.memoizedState,baseState:Fs.baseState,baseQueue:Fs.baseQueue,queue:Fs.queue,next:null},Gs===null?Ts.memoizedState=Gs=sn:Gs=Gs.next=sn}return Gs}function t1(sn,an){return typeof an=="function"?an(sn):an}function A1(sn){var an=tu(),gn=an.queue;if(gn===null)throw Error(rn(311));gn.lastRenderedReducer=sn;var Cn=Fs,Ln=Cn.baseQueue,$n=gn.pending;if($n!==null){if(Ln!==null){var dr=Ln.next;Ln.next=$n.next,$n.next=dr}Cn.baseQueue=Ln=$n,gn.pending=null}if(Ln!==null){$n=Ln.next,Cn=Cn.baseState;var Ir=dr=null,qr=null,os=$n;do{var Ss=os.lane;if((Al&Ss)===Ss)qr!==null&&(qr=qr.next={lane:0,action:os.action,hasEagerState:os.hasEagerState,eagerState:os.eagerState,next:null}),Cn=os.hasEagerState?os.eagerState:sn(Cn,os.action);else{var Is={lane:Ss,action:os.action,hasEagerState:os.hasEagerState,eagerState:os.eagerState,next:null};qr===null?(Ir=qr=Is,dr=Cn):qr=qr.next=Is,Ts.lanes|=Ss,Tp|=Ss}os=os.next}while(os!==null&&os!==$n);qr===null?dr=Cn:qr.next=Ir,Go(Cn,an.memoizedState)||(xl=!0),an.memoizedState=Cn,an.baseState=dr,an.baseQueue=qr,gn.lastRenderedState=Cn}if(sn=gn.interleaved,sn!==null){Ln=sn;do $n=Ln.lane,Ts.lanes|=$n,Tp|=$n,Ln=Ln.next;while(Ln!==sn)}else Ln===null&&(gn.lanes=0);return[an.memoizedState,gn.dispatch]}function n1(sn){var an=tu(),gn=an.queue;if(gn===null)throw Error(rn(311));gn.lastRenderedReducer=sn;var Cn=gn.dispatch,Ln=gn.pending,$n=an.memoizedState;if(Ln!==null){gn.pending=null;var dr=Ln=Ln.next;do $n=sn($n,dr.action),dr=dr.next;while(dr!==Ln);Go($n,an.memoizedState)||(xl=!0),an.memoizedState=$n,an.baseQueue===null&&(an.baseState=$n),gn.lastRenderedState=$n}return[$n,Cn]}function Dl(){}function nu(sn,an){var gn=Ts,Cn=tu(),Ln=an(),$n=!Go(Cn.memoizedState,Ln);if($n&&(Cn.memoizedState=Ln,xl=!0),Cn=Cn.queue,S0(_0.bind(null,gn,Cn,sn),[sn]),Cn.getSnapshot!==an||$n||Gs!==null&&Gs.memoizedState.tag&1){if(gn.flags|=2048,r1(9,C1.bind(null,gn,Cn,Ln,an),void 0,null),Eo===null)throw Error(rn(349));(Al&30)!==0||x1(gn,an,Ln)}return Ln}function x1(sn,an,gn){sn.flags|=16384,sn={getSnapshot:an,value:gn},an=Ts.updateQueue,an===null?(an={lastEffect:null,stores:null},Ts.updateQueue=an,an.stores=[sn]):(gn=an.stores,gn===null?an.stores=[sn]:gn.push(sn))}function C1(sn,an,gn,Cn){an.value=gn,an.getSnapshot=Cn,E1(an)&&k1(sn)}function _0(sn,an,gn){return gn(function(){E1(an)&&k1(sn)})}function E1(sn){var an=sn.getSnapshot;sn=sn.value;try{var gn=an();return!Go(sn,gn)}catch{return!0}}function k1(sn){var an=Ml(sn,1);an!==null&&du(an,sn,1,-1)}function X1(sn){var an=_u();return typeof sn=="function"&&(sn=sn()),an.memoizedState=an.baseState=sn,sn={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t1,lastRenderedState:sn},an.queue=sn,sn=sn.dispatch=cm.bind(null,Ts,sn),[an.memoizedState,sn]}function r1(sn,an,gn,Cn){return sn={tag:sn,create:an,destroy:gn,deps:Cn,next:null},an=Ts.updateQueue,an===null?(an={lastEffect:null,stores:null},Ts.updateQueue=an,an.lastEffect=sn.next=sn):(gn=an.lastEffect,gn===null?an.lastEffect=sn.next=sn:(Cn=gn.next,gn.next=sn,sn.next=Cn,an.lastEffect=sn)),sn}function Y1(){return tu().memoizedState}function i1(sn,an,gn,Cn){var Ln=_u();Ts.flags|=sn,Ln.memoizedState=r1(1|an,gn,void 0,Cn===void 0?null:Cn)}function kp(sn,an,gn,Cn){var Ln=tu();Cn=Cn===void 0?null:Cn;var $n=void 0;if(Fs!==null){var dr=Fs.memoizedState;if($n=dr.destroy,Cn!==null&&H1(Cn,dr.deps)){Ln.memoizedState=r1(an,gn,$n,Cn);return}}Ts.flags|=sn,Ln.memoizedState=r1(1|an,gn,$n,Cn)}function K1(sn,an){return i1(8390656,8,sn,an)}function S0(sn,an){return kp(2048,8,sn,an)}function B0(sn,an){return kp(4,2,sn,an)}function w0(sn,an){return kp(4,4,sn,an)}function U0(sn,an){if(typeof an=="function")return sn=sn(),an(sn),function(){an(null)};if(an!=null)return sn=sn(),an.current=sn,function(){an.current=null}}function $0(sn,an,gn){return gn=gn!=null?gn.concat([sn]):null,kp(4,4,U0.bind(null,an,sn),gn)}function b0(){}function z0(sn,an){var gn=tu();an=an===void 0?null:an;var Cn=gn.memoizedState;return Cn!==null&&an!==null&&H1(an,Cn[1])?Cn[0]:(gn.memoizedState=[sn,an],sn)}function G0(sn,an){var gn=tu();an=an===void 0?null:an;var Cn=gn.memoizedState;return Cn!==null&&an!==null&&H1(an,Cn[1])?Cn[0]:(sn=sn(),gn.memoizedState=[sn,an],sn)}function Q1(sn,an,gn){return(Al&21)===0?(sn.baseState&&(sn.baseState=!1,xl=!0),sn.memoizedState=gn):(Go(gn,an)||(gn=vp(),Ts.lanes|=gn,Tp|=gn,sn.baseState=!0),an)}function A0(sn,an){var gn=fs;fs=gn!==0&&4>gn?gn:4,sn(!0);var Cn=Il.transition;Il.transition={};try{sn(!1),an()}finally{fs=gn,Il.transition=Cn}}function s1(){return tu().memoizedState}function um(sn,an,gn){var Cn=Zu(sn);if(gn={lane:Cn,action:gn,hasEagerState:!1,eagerState:null,next:null},x0(sn))q0(an,gn);else if(gn=w1(sn,an,gn,Cn),gn!==null){var Ln=Ho();du(gn,sn,Cn,Ln),H0(gn,an,Cn)}}function cm(sn,an,gn){var Cn=Zu(sn),Ln={lane:Cn,action:gn,hasEagerState:!1,eagerState:null,next:null};if(x0(sn))q0(an,Ln);else{var $n=sn.alternate;if(sn.lanes===0&&($n===null||$n.lanes===0)&&($n=an.lastRenderedReducer,$n!==null))try{var dr=an.lastRenderedState,Ir=$n(dr,gn);if(Ln.hasEagerState=!0,Ln.eagerState=Ir,Go(Ir,dr)){var qr=an.interleaved;qr===null?(Ln.next=Ln,vu(an)):(Ln.next=qr.next,qr.next=Ln),an.interleaved=Ln;return}}catch{}finally{}gn=w1(sn,an,Ln,Cn),gn!==null&&(Ln=Ho(),du(gn,sn,Cn,Ln),H0(gn,an,Cn))}}function x0(sn){var an=sn.alternate;return sn===Ts||an!==null&&an===Ts}function q0(sn,an){eu=wo=!0;var gn=sn.pending;gn===null?an.next=an:(an.next=gn.next,gn.next=an),sn.pending=an}function H0(sn,an,gn){if((gn&4194240)!==0){var Cn=an.lanes;Cn&=sn.pendingLanes,gn|=Cn,an.lanes=gn,Gp(sn,gn)}}var J1={readContext:So,useCallback:Io,useContext:Io,useEffect:Io,useImperativeHandle:Io,useInsertionEffect:Io,useLayoutEffect:Io,useMemo:Io,useReducer:Io,useRef:Io,useState:Io,useDebugValue:Io,useDeferredValue:Io,useTransition:Io,useMutableSource:Io,useSyncExternalStore:Io,useId:Io,unstable_isNewReconciler:!1},hm={readContext:So,useCallback:function(sn,an){return _u().memoizedState=[sn,an===void 0?null:an],sn},useContext:So,useEffect:K1,useImperativeHandle:function(sn,an,gn){return gn=gn!=null?gn.concat([sn]):null,i1(4194308,4,U0.bind(null,an,sn),gn)},useLayoutEffect:function(sn,an){return i1(4194308,4,sn,an)},useInsertionEffect:function(sn,an){return i1(4,2,sn,an)},useMemo:function(sn,an){var gn=_u();return an=an===void 0?null:an,sn=sn(),gn.memoizedState=[sn,an],sn},useReducer:function(sn,an,gn){var Cn=_u();return an=gn!==void 0?gn(an):an,Cn.memoizedState=Cn.baseState=an,sn={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:an},Cn.queue=sn,sn=sn.dispatch=um.bind(null,Ts,sn),[Cn.memoizedState,sn]},useRef:function(sn){var an=_u();return sn={current:sn},an.memoizedState=sn},useState:X1,useDebugValue:b0,useDeferredValue:function(sn){return _u().memoizedState=sn},useTransition:function(){var sn=X1(!1),an=sn[0];return sn=A0.bind(null,sn[1]),_u().memoizedState=sn,[an,sn]},useMutableSource:function(){},useSyncExternalStore:function(sn,an,gn){var Cn=Ts,Ln=_u();if(ro){if(gn===void 0)throw Error(rn(407));gn=gn()}else{if(gn=an(),Eo===null)throw Error(rn(349));(Al&30)!==0||x1(Cn,an,gn)}Ln.memoizedState=gn;var $n={value:gn,getSnapshot:an};return Ln.queue=$n,K1(_0.bind(null,Cn,$n,sn),[sn]),Cn.flags|=2048,r1(9,C1.bind(null,Cn,$n,gn,an),void 0,null),gn},useId:function(){var sn=_u(),an=Eo.identifierPrefix;if(ro){var gn=Fl,Cn=mu;gn=(Cn&~(1<<32-Gl(Cn)-1)).toString(32)+gn,an=":"+an+"R"+gn,gn=uu++,0<gn&&(an+="H"+gn.toString(32)),an+=":"}else gn=e1++,an=":"+an+"r"+gn.toString(32)+":";return sn.memoizedState=an},unstable_isNewReconciler:!1},lp={readContext:So,useCallback:z0,useContext:So,useEffect:S0,useImperativeHandle:$0,useInsertionEffect:B0,useLayoutEffect:w0,useMemo:G0,useReducer:A1,useRef:Y1,useState:function(){return A1(t1)},useDebugValue:b0,useDeferredValue:function(sn){var an=tu();return Q1(an,Fs.memoizedState,sn)},useTransition:function(){var sn=A1(t1)[0],an=tu().memoizedState;return[sn,an]},useMutableSource:Dl,useSyncExternalStore:nu,useId:s1,unstable_isNewReconciler:!1},Su={readContext:So,useCallback:z0,useContext:So,useEffect:S0,useImperativeHandle:$0,useInsertionEffect:B0,useLayoutEffect:w0,useMemo:G0,useReducer:n1,useRef:Y1,useState:function(){return n1(t1)},useDebugValue:b0,useDeferredValue:function(sn){var an=tu();return Fs===null?an.memoizedState=sn:Q1(an,Fs.memoizedState,sn)},useTransition:function(){var sn=n1(t1)[0],an=tu().memoizedState;return[sn,an]},useMutableSource:Dl,useSyncExternalStore:nu,useId:s1,unstable_isNewReconciler:!1};function Bl(sn,an){try{var gn="",Cn=an;do gn+=is(Cn),Cn=Cn.return;while(Cn);var Ln=gn}catch($n){Ln=`
Error generating stack: `+$n.message+`
`+$n.stack}return{value:sn,source:an,stack:Ln,digest:null}}function C0(sn,an,gn){return{value:sn,source:null,stack:gn!=null?gn:null,digest:an!=null?an:null}}function Z1(sn,an){try{console.error(an.value)}catch(gn){setTimeout(function(){throw gn})}}var up=typeof WeakMap=="function"?WeakMap:Map;function ru(sn,an,gn){gn=Kl(-1,gn),gn.tag=3,gn.payload={element:null};var Cn=an.value;return gn.callback=function(){M1||(M1=!0,l1=Cn),Z1(sn,an)},gn}function V0(sn,an,gn){gn=Kl(-1,gn),gn.tag=3;var Cn=sn.type.getDerivedStateFromError;if(typeof Cn=="function"){var Ln=an.value;gn.payload=function(){return Cn(Ln)},gn.callback=function(){Z1(sn,an)}}var $n=sn.stateNode;return $n!==null&&typeof $n.componentDidCatch=="function"&&(gn.callback=function(){Z1(sn,an),typeof Cn!="function"&&(Ou===null?Ou=new Set([this]):Ou.add(this));var dr=an.stack;this.componentDidCatch(an.value,{componentStack:dr!==null?dr:""})}),gn}function W0(sn,an,gn){var Cn=sn.pingCache;if(Cn===null){Cn=sn.pingCache=new up;var Ln=new Set;Cn.set(an,Ln)}else Ln=Cn.get(an),Ln===void 0&&(Ln=new Set,Cn.set(an,Ln));Ln.has(gn)||(Ln.add(gn),sn=g2.bind(null,sn,an,gn),an.then(sn,sn))}function E0(sn){do{var an;if((an=sn.tag===13)&&(an=sn.memoizedState,an=an!==null?an.dehydrated!==null:!0),an)return sn;sn=sn.return}while(sn!==null);return null}function k0(sn,an,gn,Cn,Ln){return(sn.mode&1)===0?(sn===an?sn.flags|=65536:(sn.flags|=128,gn.flags|=131072,gn.flags&=-52805,gn.tag===1&&(gn.alternate===null?gn.tag=17:(an=Kl(-1,1),an.tag=2,Ql(gn,an,1))),gn.lanes|=1),sn):(sn.flags|=65536,sn.lanes=Ln,sn)}var X0=on.ReactCurrentOwner,xl=!1;function Cl(sn,an,gn,Cn){an.child=sn===null?Wu(an,null,gn,Cn):Qo(an,sn.child,gn,Cn)}function P1(sn,an,gn,Cn,Ln){gn=gn.render;var $n=an.ref;return po(an,Ln),Cn=V1(sn,an,gn,Cn,$n,Ln),gn=W1(),sn!==null&&!xl?(an.updateQueue=sn.updateQueue,an.flags&=-2053,sn.lanes&=~Ln,Nn(sn,an,Ln)):(ro&&gn&&_p(an),an.flags|=1,Cl(sn,an,Cn,Ln),an.child)}function N1(sn,an,gn,Cn,Ln){if(sn===null){var $n=gn.type;return typeof $n=="function"&&!pm($n)&&$n.defaultProps===void 0&&gn.compare===null&&gn.defaultProps===void 0?(an.tag=15,an.type=$n,a1(sn,an,$n,Cn,Ln)):(sn=nm(gn.type,null,Cn,an,an.mode,Ln),sn.ref=an.ref,sn.return=an,an.child=sn)}if($n=sn.child,(sn.lanes&Ln)===0){var dr=$n.memoizedProps;if(gn=gn.compare,gn=gn!==null?gn:Vr,gn(dr,Cn)&&sn.ref===an.ref)return Nn(sn,an,Ln)}return an.flags|=1,sn=h1($n,Cn),sn.ref=an.ref,sn.return=an,an.child=sn}function a1(sn,an,gn,Cn,Ln){if(sn!==null){var $n=sn.memoizedProps;if(Vr($n,Cn)&&sn.ref===an.ref)if(xl=!1,an.pendingProps=Cn=$n,(sn.lanes&Ln)!==0)(sn.flags&131072)!==0&&(xl=!0);else return an.lanes=sn.lanes,Nn(sn,an,Ln)}return N0(sn,an,gn,Cn,Ln)}function _g(sn,an,gn){var Cn=an.pendingProps,Ln=Cn.children,$n=sn!==null?sn.memoizedState:null;if(Cn.mode==="hidden")if((an.mode&1)===0)an.memoizedState={baseLanes:0,cachePool:null,transitions:null},to(Qu,Pl),Pl|=gn;else{if((gn&1073741824)===0)return sn=$n!==null?$n.baseLanes|gn:gn,an.lanes=an.childLanes=1073741824,an.memoizedState={baseLanes:sn,cachePool:null,transitions:null},an.updateQueue=null,to(Qu,Pl),Pl|=sn,null;an.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cn=$n!==null?$n.baseLanes:gn,to(Qu,Pl),Pl|=Cn}else $n!==null?(Cn=$n.baseLanes|gn,an.memoizedState=null):Cn=gn,to(Qu,Pl),Pl|=Cn;return Cl(sn,an,Ln,gn),an.child}function P0(sn,an){var gn=an.ref;(sn===null&&gn!==null||sn!==null&&sn.ref!==gn)&&(an.flags|=512,an.flags|=2097152)}function N0(sn,an,gn,Cn,Ln){var $n=Vo(gn)?Pu:Mo.current;return $n=Nu(an,$n),po(an,Ln),gn=V1(sn,an,gn,Cn,$n,Ln),Cn=W1(),sn!==null&&!xl?(an.updateQueue=sn.updateQueue,an.flags&=-2053,sn.lanes&=~Ln,Nn(sn,an,Ln)):(ro&&Cn&&_p(an),an.flags|=1,Cl(sn,an,gn,Ln),an.child)}function T0(sn,an,gn,Cn,Ln){if(Vo(gn)){var $n=!0;_f(an)}else $n=!1;if(po(an,Ln),an.stateNode===null)_n(sn,an),b1(an,gn,Cn),xp(an,gn,Cn,Ln),Cn=!0;else if(sn===null){var dr=an.stateNode,Ir=an.memoizedProps;dr.props=Ir;var qr=dr.context,os=gn.contextType;typeof os=="object"&&os!==null?os=So(os):(os=Vo(gn)?Pu:Mo.current,os=Nu(an,os));var Ss=gn.getDerivedStateFromProps,Is=typeof Ss=="function"||typeof dr.getSnapshotBeforeUpdate=="function";Is||typeof dr.UNSAFE_componentWillReceiveProps!="function"&&typeof dr.componentWillReceiveProps!="function"||(Ir!==Cn||qr!==os)&&ou(an,dr,Cn,os),au=!1;var gs=an.memoizedState;dr.state=gs,Hu(an,Cn,dr,Ln),qr=an.memoizedState,Ir!==Cn||gs!==qr||zo.current||au?(typeof Ss=="function"&&(Ko(an,gn,Ss,Cn),qr=an.memoizedState),(Ir=au||Jp(an,gn,Ir,Cn,gs,qr,os))?(Is||typeof dr.UNSAFE_componentWillMount!="function"&&typeof dr.componentWillMount!="function"||(typeof dr.componentWillMount=="function"&&dr.componentWillMount(),typeof dr.UNSAFE_componentWillMount=="function"&&dr.UNSAFE_componentWillMount()),typeof dr.componentDidMount=="function"&&(an.flags|=4194308)):(typeof dr.componentDidMount=="function"&&(an.flags|=4194308),an.memoizedProps=Cn,an.memoizedState=qr),dr.props=Cn,dr.state=qr,dr.context=os,Cn=Ir):(typeof dr.componentDidMount=="function"&&(an.flags|=4194308),Cn=!1)}else{dr=an.stateNode,Yp(sn,an),Ir=an.memoizedProps,os=an.type===an.elementType?Ir:us(an.type,Ir),dr.props=os,Is=an.pendingProps,gs=dr.context,qr=gn.contextType,typeof qr=="object"&&qr!==null?qr=So(qr):(qr=Vo(gn)?Pu:Mo.current,qr=Nu(an,qr));var vo=gn.getDerivedStateFromProps;(Ss=typeof vo=="function"||typeof dr.getSnapshotBeforeUpdate=="function")||typeof dr.UNSAFE_componentWillReceiveProps!="function"&&typeof dr.componentWillReceiveProps!="function"||(Ir!==Is||gs!==qr)&&ou(an,dr,Cn,qr),au=!1,gs=an.memoizedState,dr.state=gs,Hu(an,Cn,dr,Ln);var uo=an.memoizedState;Ir!==Is||gs!==uo||zo.current||au?(typeof vo=="function"&&(Ko(an,gn,vo,Cn),uo=an.memoizedState),(os=au||Jp(an,gn,os,Cn,gs,uo,qr)||!1)?(Ss||typeof dr.UNSAFE_componentWillUpdate!="function"&&typeof dr.componentWillUpdate!="function"||(typeof dr.componentWillUpdate=="function"&&dr.componentWillUpdate(Cn,uo,qr),typeof dr.UNSAFE_componentWillUpdate=="function"&&dr.UNSAFE_componentWillUpdate(Cn,uo,qr)),typeof dr.componentDidUpdate=="function"&&(an.flags|=4),typeof dr.getSnapshotBeforeUpdate=="function"&&(an.flags|=1024)):(typeof dr.componentDidUpdate!="function"||Ir===sn.memoizedProps&&gs===sn.memoizedState||(an.flags|=4),typeof dr.getSnapshotBeforeUpdate!="function"||Ir===sn.memoizedProps&&gs===sn.memoizedState||(an.flags|=1024),an.memoizedProps=Cn,an.memoizedState=uo),dr.props=Cn,dr.state=uo,dr.context=qr,Cn=os):(typeof dr.componentDidUpdate!="function"||Ir===sn.memoizedProps&&gs===sn.memoizedState||(an.flags|=4),typeof dr.getSnapshotBeforeUpdate!="function"||Ir===sn.memoizedProps&&gs===sn.memoizedState||(an.flags|=1024),Cn=!1)}return L0(sn,an,gn,Cn,$n,Ln)}function L0(sn,an,gn,Cn,Ln,$n){P0(sn,an);var dr=(an.flags&128)!==0;if(!Cn&&!dr)return Ln&&v1(an,gn,!1),Nn(sn,an,$n);Cn=an.stateNode,X0.current=an;var Ir=dr&&typeof gn.getDerivedStateFromError!="function"?null:Cn.render();return an.flags|=1,sn!==null&&dr?(an.child=Qo(an,sn.child,null,$n),an.child=Qo(an,null,Ir,$n)):Cl(sn,an,Ir,$n),an.memoizedState=Cn.state,Ln&&v1(an,gn,!0),an.child}function Y0(sn){var an=sn.stateNode;an.pendingContext?gp(sn,an.pendingContext,an.pendingContext!==an.context):an.context&&gp(sn,an.context,!1),Ep(sn,an.containerInfo)}function K0(sn,an,gn,Cn,Ln){return vr(),Nr(Ln),an.flags|=256,Cl(sn,an,gn,Cn),an.child}var R0={dehydrated:null,treeContext:null,retryLane:0};function F0(sn){return{baseLanes:sn,cachePool:null,transitions:null}}function Q0(sn,an,gn){var Cn=an.pendingProps,Ln=xa.current,$n=!1,dr=(an.flags&128)!==0,Ir;if((Ir=dr)||(Ir=sn!==null&&sn.memoizedState===null?!1:(Ln&2)!==0),Ir?($n=!0,an.flags&=-129):(sn===null||sn.memoizedState!==null)&&(Ln|=1),to(xa,Ln&1),sn===null)return Tu(an),sn=an.memoizedState,sn!==null&&(sn=sn.dehydrated,sn!==null)?((an.mode&1)===0?an.lanes=1:js(sn)?an.lanes=8:an.lanes=1073741824,null):(dr=Cn.children,sn=Cn.fallback,$n?(Cn=an.mode,$n=an.child,dr={mode:"hidden",children:dr},(Cn&1)===0&&$n!==null?($n.childLanes=0,$n.pendingProps=dr):$n=rm(dr,Cn,0,null),sn=D1(sn,Cn,gn,null),$n.return=an,sn.return=an,$n.sibling=sn,an.child=$n,an.child.memoizedState=F0(gn),an.memoizedState=R0,sn):e0(an,dr));if(Ln=sn.memoizedState,Ln!==null&&(Ir=Ln.dehydrated,Ir!==null))return dm(sn,an,dr,Cn,Ir,Ln,gn);if($n){$n=Cn.fallback,dr=an.mode,Ln=sn.child,Ir=Ln.sibling;var qr={mode:"hidden",children:Cn.children};return(dr&1)===0&&an.child!==Ln?(Cn=an.child,Cn.childLanes=0,Cn.pendingProps=qr,an.deletions=null):(Cn=h1(Ln,qr),Cn.subtreeFlags=Ln.subtreeFlags&14680064),Ir!==null?$n=h1(Ir,$n):($n=D1($n,dr,gn,null),$n.flags|=2),$n.return=an,Cn.return=an,Cn.sibling=$n,an.child=Cn,Cn=$n,$n=an.child,dr=sn.child.memoizedState,dr=dr===null?F0(gn):{baseLanes:dr.baseLanes|gn,cachePool:null,transitions:dr.transitions},$n.memoizedState=dr,$n.childLanes=sn.childLanes&~gn,an.memoizedState=R0,Cn}return $n=sn.child,sn=$n.sibling,Cn=h1($n,{mode:"visible",children:Cn.children}),(an.mode&1)===0&&(Cn.lanes=gn),Cn.return=an,Cn.sibling=null,sn!==null&&(gn=an.deletions,gn===null?(an.deletions=[sn],an.flags|=16):gn.push(sn)),an.child=Cn,an.memoizedState=null,Cn}function e0(sn,an){return an=rm({mode:"visible",children:an},sn.mode,0,null),an.return=sn,sn.child=an}function Pp(sn,an,gn,Cn){return Cn!==null&&Nr(Cn),Qo(an,sn.child,null,gn),sn=e0(an,an.pendingProps.children),sn.flags|=2,an.memoizedState=null,sn}function dm(sn,an,gn,Cn,Ln,$n,dr){if(gn)return an.flags&256?(an.flags&=-257,Cn=C0(Error(rn(422))),Pp(sn,an,dr,Cn)):an.memoizedState!==null?(an.child=sn.child,an.flags|=128,null):($n=Cn.fallback,Ln=an.mode,Cn=rm({mode:"visible",children:Cn.children},Ln,0,null),$n=D1($n,Ln,dr,null),$n.flags|=2,Cn.return=an,$n.return=an,Cn.sibling=$n,an.child=Cn,(an.mode&1)!==0&&Qo(an,sn.child,null,dr),an.child.memoizedState=F0(dr),an.memoizedState=R0,$n);if((an.mode&1)===0)return Pp(sn,an,dr,null);if(js(Ln))return Cn=Ks(Ln).digest,$n=Error(rn(419)),Cn=C0($n,Cn,void 0),Pp(sn,an,dr,Cn);if(gn=(dr&sn.childLanes)!==0,xl||gn){if(Cn=Eo,Cn!==null){switch(dr&-dr){case 4:Ln=2;break;case 16:Ln=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Ln=32;break;case 536870912:Ln=268435456;break;default:Ln=0}Ln=(Ln&(Cn.suspendedLanes|dr))!==0?0:Ln,Ln!==0&&Ln!==$n.retryLane&&($n.retryLane=Ln,Ml(sn,Ln),du(Cn,sn,Ln,-1))}return ju(),Cn=C0(Error(rn(421))),Pp(sn,an,dr,Cn)}return Ys(Ln)?(an.flags|=128,an.child=sn.child,an=m2.bind(null,sn),co(Ln,an),null):(sn=$n.treeContext,xr&&(Yo=$o(Ln),Do=an,ro=!0,Yl=null,ip=!1,sn!==null&&(yo[Xo++]=mu,yo[Xo++]=Fl,yo[Xo++]=Xl,mu=sn.id,Fl=sn.overflow,Xl=an)),an=e0(an,Cn.children),an.flags|=4096,an)}function J0(sn,an,gn){sn.lanes|=an;var Cn=sn.alternate;Cn!==null&&(Cn.lanes|=an),jo(sn.return,an,gn)}function t0(sn,an,gn,Cn,Ln){var $n=sn.memoizedState;$n===null?sn.memoizedState={isBackwards:an,rendering:null,renderingStartTime:0,last:Cn,tail:gn,tailMode:Ln}:($n.isBackwards=an,$n.rendering=null,$n.renderingStartTime=0,$n.last=Cn,$n.tail=gn,$n.tailMode=Ln)}function hn(sn,an,gn){var Cn=an.pendingProps,Ln=Cn.revealOrder,$n=Cn.tail;if(Cl(sn,an,Cn.children,gn),Cn=xa.current,(Cn&2)!==0)Cn=Cn&1|2,an.flags|=128;else{if(sn!==null&&(sn.flags&128)!==0)e:for(sn=an.child;sn!==null;){if(sn.tag===13)sn.memoizedState!==null&&J0(sn,gn,an);else if(sn.tag===19)J0(sn,gn,an);else if(sn.child!==null){sn.child.return=sn,sn=sn.child;continue}if(sn===an)break e;for(;sn.sibling===null;){if(sn.return===null||sn.return===an)break e;sn=sn.return}sn.sibling.return=sn.return,sn=sn.sibling}Cn&=1}if(to(xa,Cn),(an.mode&1)===0)an.memoizedState=null;else switch(Ln){case"forwards":for(gn=an.child,Ln=null;gn!==null;)sn=gn.alternate,sn!==null&&Xu(sn)===null&&(Ln=gn),gn=gn.sibling;gn=Ln,gn===null?(Ln=an.child,an.child=null):(Ln=gn.sibling,gn.sibling=null),t0(an,!1,Ln,gn,$n);break;case"backwards":for(gn=null,Ln=an.child,an.child=null;Ln!==null;){if(sn=Ln.alternate,sn!==null&&Xu(sn)===null){an.child=Ln;break}sn=Ln.sibling,Ln.sibling=gn,gn=Ln,Ln=sn}t0(an,!0,gn,null,$n);break;case"together":t0(an,!1,null,null,void 0);break;default:an.memoizedState=null}return an.child}function _n(sn,an){(an.mode&1)===0&&sn!==null&&(sn.alternate=null,an.alternate=null,an.flags|=2)}function Nn(sn,an,gn){if(sn!==null&&(an.dependencies=sn.dependencies),Tp|=an.lanes,(gn&an.childLanes)===0)return null;if(sn!==null&&an.child!==sn.child)throw Error(rn(153));if(an.child!==null){for(sn=an.child,gn=h1(sn,sn.pendingProps),an.child=gn,gn.return=an;sn.sibling!==null;)sn=sn.sibling,gn=gn.sibling=h1(sn,sn.pendingProps),gn.return=an;gn.sibling=null}return an.child}function jn(sn,an,gn){switch(an.tag){case 3:Y0(an),vr();break;case 5:lu(an);break;case 1:Vo(an.type)&&_f(an);break;case 4:Ep(an,an.stateNode.containerInfo);break;case 10:fo(an,an.type._context,an.memoizedProps.value);break;case 13:var Cn=an.memoizedState;if(Cn!==null)return Cn.dehydrated!==null?(to(xa,xa.current&1),an.flags|=128,null):(gn&an.child.childLanes)!==0?Q0(sn,an,gn):(to(xa,xa.current&1),sn=Nn(sn,an,gn),sn!==null?sn.sibling:null);to(xa,xa.current&1);break;case 19:if(Cn=(gn&an.childLanes)!==0,(sn.flags&128)!==0){if(Cn)return hn(sn,an,gn);an.flags|=128}var Ln=an.memoizedState;if(Ln!==null&&(Ln.rendering=null,Ln.tail=null,Ln.lastEffect=null),to(xa,xa.current),Cn)break;return null;case 22:case 23:return an.lanes=0,_g(sn,an,gn)}return Nn(sn,an,gn)}function Vn(sn){sn.flags|=4}function Jn(sn,an){if(sn!==null&&sn.child===an.child)return!0;if((an.flags&16)!==0)return!1;for(sn=an.child;sn!==null;){if((sn.flags&12854)!==0||(sn.subtreeFlags&12854)!==0)return!1;sn=sn.sibling}return!0}var Zn,rr,sr,mr;if(Cr)Zn=function(sn,an){for(var gn=an.child;gn!==null;){if(gn.tag===5||gn.tag===6)Fn(sn,gn.stateNode);else if(gn.tag!==4&&gn.child!==null){gn.child.return=gn,gn=gn.child;continue}if(gn===an)break;for(;gn.sibling===null;){if(gn.return===null||gn.return===an)return;gn=gn.return}gn.sibling.return=gn.return,gn=gn.sibling}},rr=function(){},sr=function(sn,an,gn,Cn,Ln){if(sn=sn.memoizedProps,sn!==Cn){var $n=an.stateNode,dr=Sl(Lo.current);gn=Tn($n,gn,sn,Cn,Ln,dr),(an.updateQueue=gn)&&Vn(an)}},mr=function(sn,an,gn,Cn){gn!==Cn&&Vn(an)};else if(br){Zn=function(sn,an,gn,Cn){for(var Ln=an.child;Ln!==null;){if(Ln.tag===5){var $n=Ln.stateNode;gn&&Cn&&($n=Us($n,Ln.type,Ln.memoizedProps,Ln)),Fn(sn,$n)}else if(Ln.tag===6)$n=Ln.stateNode,gn&&Cn&&($n=Ns($n,Ln.memoizedProps,Ln)),Fn(sn,$n);else if(Ln.tag!==4){if(Ln.tag===22&&Ln.memoizedState!==null)$n=Ln.child,$n!==null&&($n.return=Ln),Zn(sn,Ln,!0,!0);else if(Ln.child!==null){Ln.child.return=Ln,Ln=Ln.child;continue}}if(Ln===an)break;for(;Ln.sibling===null;){if(Ln.return===null||Ln.return===an)return;Ln=Ln.return}Ln.sibling.return=Ln.return,Ln=Ln.sibling}};var Tr=function(sn,an,gn,Cn){for(var Ln=an.child;Ln!==null;){if(Ln.tag===5){var $n=Ln.stateNode;gn&&Cn&&($n=Us($n,Ln.type,Ln.memoizedProps,Ln)),_s(sn,$n)}else if(Ln.tag===6)$n=Ln.stateNode,gn&&Cn&&($n=Ns($n,Ln.memoizedProps,Ln)),_s(sn,$n);else if(Ln.tag!==4){if(Ln.tag===22&&Ln.memoizedState!==null)$n=Ln.child,$n!==null&&($n.return=Ln),Tr(sn,Ln,!0,!0);else if(Ln.child!==null){Ln.child.return=Ln,Ln=Ln.child;continue}}if(Ln===an)break;for(;Ln.sibling===null;){if(Ln.return===null||Ln.return===an)return;Ln=Ln.return}Ln.sibling.return=Ln.return,Ln=Ln.sibling}};rr=function(sn,an){var gn=an.stateNode;if(!Jn(sn,an)){sn=gn.containerInfo;var Cn=ss(sn);Tr(Cn,an,!1,!1),gn.pendingChildren=Cn,Vn(an),Ms(sn,Cn)}},sr=function(sn,an,gn,Cn,Ln){var $n=sn.stateNode,dr=sn.memoizedProps;if((sn=Jn(sn,an))&&dr===Cn)an.stateNode=$n;else{var Ir=an.stateNode,qr=Sl(Lo.current),os=null;dr!==Cn&&(os=Tn(Ir,gn,dr,Cn,Ln,qr)),sn&&os===null?an.stateNode=$n:($n=as($n,os,gn,dr,Cn,an,sn,Ir),Rn($n,gn,Cn,Ln,qr)&&Vn(an),an.stateNode=$n,sn?Vn(an):Zn($n,an,!1,!1))}},mr=function(sn,an,gn,Cn){gn!==Cn?(sn=Sl(Jo.current),gn=Sl(Lo.current),an.stateNode=Hn(Cn,sn,gn,an),Vn(an)):an.stateNode=sn.stateNode}}else rr=function(){},sr=function(){},mr=function(){};function Ur(sn,an){if(!ro)switch(sn.tailMode){case"hidden":an=sn.tail;for(var gn=null;an!==null;)an.alternate!==null&&(gn=an),an=an.sibling;gn===null?sn.tail=null:gn.sibling=null;break;case"collapsed":gn=sn.tail;for(var Cn=null;gn!==null;)gn.alternate!==null&&(Cn=gn),gn=gn.sibling;Cn===null?an||sn.tail===null?sn.tail=null:sn.tail.sibling=null:Cn.sibling=null}}function Dr(sn){var an=sn.alternate!==null&&sn.alternate.child===sn.child,gn=0,Cn=0;if(an)for(var Ln=sn.child;Ln!==null;)gn|=Ln.lanes|Ln.childLanes,Cn|=Ln.subtreeFlags&14680064,Cn|=Ln.flags&14680064,Ln.return=sn,Ln=Ln.sibling;else for(Ln=sn.child;Ln!==null;)gn|=Ln.lanes|Ln.childLanes,Cn|=Ln.subtreeFlags,Cn|=Ln.flags,Ln.return=sn,Ln=Ln.sibling;return sn.subtreeFlags|=Cn,sn.childLanes=gn,an}function Mr(sn,an,gn){var Cn=an.pendingProps;switch(Wp(an),an.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(an),null;case 1:return Vo(an.type)&&Ll(),Dr(an),null;case 3:return gn=an.stateNode,Zl(),Qs(zo),Qs(Mo),Ru(),gn.pendingContext&&(gn.context=gn.pendingContext,gn.pendingContext=null),(sn===null||sn.child===null)&&(En(an)?Vn(an):sn===null||sn.memoizedState.isDehydrated&&(an.flags&256)===0||(an.flags|=1024,Yl!==null&&(l0(Yl),Yl=null))),rr(sn,an),Dr(an),null;case 5:yu(an),gn=Sl(Jo.current);var Ln=an.type;if(sn!==null&&an.stateNode!=null)sr(sn,an,Ln,Cn,gn),sn.ref!==an.ref&&(an.flags|=512,an.flags|=2097152);else{if(!Cn){if(an.stateNode===null)throw Error(rn(166));return Dr(an),null}if(sn=Sl(Lo.current),En(an)){if(!xr)throw Error(rn(175));sn=Tl(an.stateNode,an.type,an.memoizedProps,gn,sn,an,!ip),an.updateQueue=sn,sn!==null&&Vn(an)}else{var $n=Lr(Ln,Cn,gn,sn,an);Zn($n,an,!1,!1),an.stateNode=$n,Rn($n,Ln,Cn,gn,sn)&&Vn(an)}an.ref!==null&&(an.flags|=512,an.flags|=2097152)}return Dr(an),null;case 6:if(sn&&an.stateNode!=null)mr(sn,an,sn.memoizedProps,Cn);else{if(typeof Cn!="string"&&an.stateNode===null)throw Error(rn(166));if(sn=Sl(Jo.current),gn=Sl(Lo.current),En(an)){if(!xr)throw Error(rn(176));if(sn=an.stateNode,gn=an.memoizedProps,(Cn=xu(sn,gn,an,!ip))&&(Ln=Do,Ln!==null))switch(Ln.tag){case 3:j1(Ln.stateNode.containerInfo,sn,gn,(Ln.mode&1)!==0);break;case 5:d0(Ln.type,Ln.memoizedProps,Ln.stateNode,sn,gn,(Ln.mode&1)!==0)}Cn&&Vn(an)}else an.stateNode=Hn(Cn,sn,gn,an)}return Dr(an),null;case 13:if(Qs(xa),Cn=an.memoizedState,sn===null||sn.memoizedState!==null&&sn.memoizedState.dehydrated!==null){if(ro&&Yo!==null&&(an.mode&1)!==0&&(an.flags&128)===0)Xn(),vr(),an.flags|=98560,Ln=!1;else if(Ln=En(an),Cn!==null&&Cn.dehydrated!==null){if(sn===null){if(!Ln)throw Error(rn(318));if(!xr)throw Error(rn(344));if(Ln=an.memoizedState,Ln=Ln!==null?Ln.dehydrated:null,!Ln)throw Error(rn(317));su(Ln,an)}else vr(),(an.flags&128)===0&&(an.memoizedState=null),an.flags|=4;Dr(an),Ln=!1}else Yl!==null&&(l0(Yl),Yl=null),Ln=!0;if(!Ln)return an.flags&65536?an:null}return(an.flags&128)!==0?(an.lanes=gn,an):(gn=Cn!==null,gn!==(sn!==null&&sn.memoizedState!==null)&&gn&&(an.child.flags|=8192,(an.mode&1)!==0&&(sn===null||(xa.current&1)!==0?mo===0&&(mo=3):ju())),an.updateQueue!==null&&(an.flags|=4),Dr(an),null);case 4:return Zl(),rr(sn,an),sn===null&&qn(an.stateNode.containerInfo),Dr(an),null;case 10:return _o(an.type._context),Dr(an),null;case 17:return Vo(an.type)&&Ll(),Dr(an),null;case 19:if(Qs(xa),Ln=an.memoizedState,Ln===null)return Dr(an),null;if(Cn=(an.flags&128)!==0,$n=Ln.rendering,$n===null)if(Cn)Ur(Ln,!1);else{if(mo!==0||sn!==null&&(sn.flags&128)!==0)for(sn=an.child;sn!==null;){if($n=Xu(sn),$n!==null){for(an.flags|=128,Ur(Ln,!1),sn=$n.updateQueue,sn!==null&&(an.updateQueue=sn,an.flags|=4),an.subtreeFlags=0,sn=gn,gn=an.child;gn!==null;)Cn=gn,Ln=sn,Cn.flags&=14680066,$n=Cn.alternate,$n===null?(Cn.childLanes=0,Cn.lanes=Ln,Cn.child=null,Cn.subtreeFlags=0,Cn.memoizedProps=null,Cn.memoizedState=null,Cn.updateQueue=null,Cn.dependencies=null,Cn.stateNode=null):(Cn.childLanes=$n.childLanes,Cn.lanes=$n.lanes,Cn.child=$n.child,Cn.subtreeFlags=0,Cn.deletions=null,Cn.memoizedProps=$n.memoizedProps,Cn.memoizedState=$n.memoizedState,Cn.updateQueue=$n.updateQueue,Cn.type=$n.type,Ln=$n.dependencies,Cn.dependencies=Ln===null?null:{lanes:Ln.lanes,firstContext:Ln.firstContext}),gn=gn.sibling;return to(xa,xa.current&1|2),an.child}sn=sn.sibling}Ln.tail!==null&&ho()>s0&&(an.flags|=128,Cn=!0,Ur(Ln,!1),an.lanes=4194304)}else{if(!Cn)if(sn=Xu($n),sn!==null){if(an.flags|=128,Cn=!0,sn=sn.updateQueue,sn!==null&&(an.updateQueue=sn,an.flags|=4),Ur(Ln,!0),Ln.tail===null&&Ln.tailMode==="hidden"&&!$n.alternate&&!ro)return Dr(an),null}else 2*ho()-Ln.renderingStartTime>s0&&gn!==1073741824&&(an.flags|=128,Cn=!0,Ur(Ln,!1),an.lanes=4194304);Ln.isBackwards?($n.sibling=an.child,an.child=$n):(sn=Ln.last,sn!==null?sn.sibling=$n:an.child=$n,Ln.last=$n)}return Ln.tail!==null?(an=Ln.tail,Ln.rendering=an,Ln.tail=an.sibling,Ln.renderingStartTime=ho(),an.sibling=null,sn=xa.current,to(xa,Cn?sn&1|2:sn&1),an):(Dr(an),null);case 22:case 23:return O1(),gn=an.memoizedState!==null,sn!==null&&sn.memoizedState!==null!==gn&&(an.flags|=8192),gn&&(an.mode&1)!==0?(Pl&1073741824)!==0&&(Dr(an),Cr&&an.subtreeFlags&6&&(an.flags|=8192)):Dr(an),null;case 24:return null;case 25:return null}throw Error(rn(156,an.tag))}function _i(sn,an){switch(Wp(an),an.tag){case 1:return Vo(an.type)&&Ll(),sn=an.flags,sn&65536?(an.flags=sn&-65537|128,an):null;case 3:return Zl(),Qs(zo),Qs(Mo),Ru(),sn=an.flags,(sn&65536)!==0&&(sn&128)===0?(an.flags=sn&-65537|128,an):null;case 5:return yu(an),null;case 13:if(Qs(xa),sn=an.memoizedState,sn!==null&&sn.dehydrated!==null){if(an.alternate===null)throw Error(rn(340));vr()}return sn=an.flags,sn&65536?(an.flags=sn&-65537|128,an):null;case 19:return Qs(xa),null;case 4:return Zl(),null;case 10:return _o(an.type._context),null;case 22:case 23:return O1(),null;case 24:return null;default:return null}}var Hr=!1,kr=!1,Rr=typeof WeakSet=="function"?WeakSet:Set,Or=null;function es(sn,an){var gn=sn.ref;if(gn!==null)if(typeof gn=="function")try{gn(null)}catch(Cn){xo(sn,an,Cn)}else gn.current=null}function Zr(sn,an,gn){try{gn()}catch(Cn){xo(sn,an,Cn)}}var ps=!1;function cs(sn,an){for(ur(sn.containerInfo),Or=an;Or!==null;)if(sn=Or,an=sn.child,(sn.subtreeFlags&1028)!==0&&an!==null)an.return=sn,Or=an;else for(;Or!==null;){sn=Or;try{var gn=sn.alternate;if((sn.flags&1024)!==0)switch(sn.tag){case 0:case 11:case 15:break;case 1:if(gn!==null){var Cn=gn.memoizedProps,Ln=gn.memoizedState,$n=sn.stateNode,dr=$n.getSnapshotBeforeUpdate(sn.elementType===sn.type?Cn:us(sn.type,Cn),Ln);$n.__reactInternalSnapshotBeforeUpdate=dr}break;case 3:Cr&&bs(sn.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(rn(163))}}catch(Ir){xo(sn,sn.return,Ir)}if(an=sn.sibling,an!==null){an.return=sn.return,Or=an;break}Or=sn.return}return gn=ps,ps=!1,gn}function Cs(sn,an,gn){var Cn=an.updateQueue;if(Cn=Cn!==null?Cn.lastEffect:null,Cn!==null){var Ln=Cn=Cn.next;do{if((Ln.tag&sn)===sn){var $n=Ln.destroy;Ln.destroy=void 0,$n!==void 0&&Zr(an,gn,$n)}Ln=Ln.next}while(Ln!==Cn)}}function hs(sn,an){if(an=an.updateQueue,an=an!==null?an.lastEffect:null,an!==null){var gn=an=an.next;do{if((gn.tag&sn)===sn){var Cn=gn.create;gn.destroy=Cn()}gn=gn.next}while(gn!==an)}}function Xs(sn){var an=sn.ref;if(an!==null){var gn=sn.stateNode;switch(sn.tag){case 5:sn=tr(gn);break;default:sn=gn}typeof an=="function"?an(sn):an.current=sn}}function Js(sn){var an=sn.alternate;an!==null&&(sn.alternate=null,Js(an)),sn.child=null,sn.deletions=null,sn.sibling=null,sn.tag===5&&(an=sn.stateNode,an!==null&&lr(an)),sn.stateNode=null,sn.return=null,sn.dependencies=null,sn.memoizedProps=null,sn.memoizedState=null,sn.pendingProps=null,sn.stateNode=null,sn.updateQueue=null}function Ws(sn){return sn.tag===5||sn.tag===3||sn.tag===4}function Hs(sn){e:for(;;){for(;sn.sibling===null;){if(sn.return===null||Ws(sn.return))return null;sn=sn.return}for(sn.sibling.return=sn.return,sn=sn.sibling;sn.tag!==5&&sn.tag!==6&&sn.tag!==18;){if(sn.flags&2||sn.child===null||sn.tag===4)continue e;sn.child.return=sn,sn=sn.child}if(!(sn.flags&2))return sn.stateNode}}function $a(sn,an,gn){var Cn=sn.tag;if(Cn===5||Cn===6)sn=sn.stateNode,an?ws(gn,sn,an):zr(gn,sn);else if(Cn!==4&&(sn=sn.child,sn!==null))for($a(sn,an,gn),sn=sn.sibling;sn!==null;)$a(sn,an,gn),sn=sn.sibling}function Zs(sn,an,gn){var Cn=sn.tag;if(Cn===5||Cn===6)sn=sn.stateNode,an?ys(gn,sn,an):Er(gn,sn);else if(Cn!==4&&(sn=sn.child,sn!==null))for(Zs(sn,an,gn),sn=sn.sibling;sn!==null;)Zs(sn,an,gn),sn=sn.sibling}var As=null,na=!1;function go(sn,an,gn){for(gn=gn.child;gn!==null;)bo(sn,an,gn),gn=gn.sibling}function bo(sn,an,gn){if(Wo&&typeof Wo.onCommitFiberUnmount=="function")try{Wo.onCommitFiberUnmount(np,gn)}catch{}switch(gn.tag){case 5:kr||es(gn,an);case 6:if(Cr){var Cn=As,Ln=na;As=null,go(sn,an,gn),As=Cn,na=Ln,As!==null&&(na?io(As,gn.stateNode):Bs(As,gn.stateNode))}else go(sn,an,gn);break;case 18:Cr&&As!==null&&(na?Dp(As,gn.stateNode):Ip(As,gn.stateNode));break;case 4:Cr?(Cn=As,Ln=na,As=gn.stateNode.containerInfo,na=!0,go(sn,an,gn),As=Cn,na=Ln):(br&&(Cn=gn.stateNode.containerInfo,Ln=ss(Cn),Ps(Cn,Ln)),go(sn,an,gn));break;case 0:case 11:case 14:case 15:if(!kr&&(Cn=gn.updateQueue,Cn!==null&&(Cn=Cn.lastEffect,Cn!==null))){Ln=Cn=Cn.next;do{var $n=Ln,dr=$n.destroy;$n=$n.tag,dr!==void 0&&(($n&2)!==0||($n&4)!==0)&&Zr(gn,an,dr),Ln=Ln.next}while(Ln!==Cn)}go(sn,an,gn);break;case 1:if(!kr&&(es(gn,an),Cn=gn.stateNode,typeof Cn.componentWillUnmount=="function"))try{Cn.props=gn.memoizedProps,Cn.state=gn.memoizedState,Cn.componentWillUnmount()}catch(Ir){xo(gn,an,Ir)}go(sn,an,gn);break;case 21:go(sn,an,gn);break;case 22:gn.mode&1?(kr=(Cn=kr)||gn.memoizedState!==null,go(sn,an,gn),kr=Cn):go(sn,an,gn);break;default:go(sn,an,gn)}}function El(sn){var an=sn.updateQueue;if(an!==null){sn.updateQueue=null;var gn=sn.stateNode;gn===null&&(gn=sn.stateNode=new Rr),an.forEach(function(Cn){var Ln=v2.bind(null,sn,Cn);gn.has(Cn)||(gn.add(Cn),Cn.then(Ln,Ln))})}}function $s(sn,an){var gn=an.deletions;if(gn!==null)for(var Cn=0;Cn<gn.length;Cn++){var Ln=gn[Cn];try{var $n=sn,dr=an;if(Cr){var Ir=dr;e:for(;Ir!==null;){switch(Ir.tag){case 5:As=Ir.stateNode,na=!1;break e;case 3:As=Ir.stateNode.containerInfo,na=!0;break e;case 4:As=Ir.stateNode.containerInfo,na=!0;break e}Ir=Ir.return}if(As===null)throw Error(rn(160));bo($n,dr,Ln),As=null,na=!1}else bo($n,dr,Ln);var qr=Ln.alternate;qr!==null&&(qr.return=null),Ln.return=null}catch(os){xo(Ln,an,os)}}if(an.subtreeFlags&12854)for(an=an.child;an!==null;)Ul(an,sn),an=an.sibling}function Ul(sn,an){var gn=sn.alternate,Cn=sn.flags;switch(sn.tag){case 0:case 11:case 14:case 15:if($s(an,sn),Ao(sn),Cn&4){try{Cs(3,sn,sn.return),hs(3,sn)}catch(gs){xo(sn,sn.return,gs)}try{Cs(5,sn,sn.return)}catch(gs){xo(sn,sn.return,gs)}}break;case 1:$s(an,sn),Ao(sn),Cn&512&&gn!==null&&es(gn,gn.return);break;case 5:if($s(an,sn),Ao(sn),Cn&512&&gn!==null&&es(gn,gn.return),Cr){if(sn.flags&32){var Ln=sn.stateNode;try{yr(Ln)}catch(gs){xo(sn,sn.return,gs)}}if(Cn&4&&(Ln=sn.stateNode,Ln!=null)){var $n=sn.memoizedProps;if(gn=gn!==null?gn.memoizedProps:$n,Cn=sn.type,an=sn.updateQueue,sn.updateQueue=null,an!==null)try{ks(Ln,an,Cn,gn,$n,sn)}catch(gs){xo(sn,sn.return,gs)}}}break;case 6:if($s(an,sn),Ao(sn),Cn&4&&Cr){if(sn.stateNode===null)throw Error(rn(162));Ln=sn.stateNode,$n=sn.memoizedProps,gn=gn!==null?gn.memoizedProps:$n;try{rs(Ln,gn,$n)}catch(gs){xo(sn,sn.return,gs)}}break;case 3:if($s(an,sn),Ao(sn),Cn&4){if(Cr&&xr&&gn!==null&&gn.memoizedState.isDehydrated)try{pp(an.containerInfo)}catch(gs){xo(sn,sn.return,gs)}if(br){Ln=an.containerInfo,$n=an.pendingChildren;try{Ps(Ln,$n)}catch(gs){xo(sn,sn.return,gs)}}}break;case 4:if($s(an,sn),Ao(sn),Cn&4&&br){$n=sn.stateNode,Ln=$n.containerInfo,$n=$n.pendingChildren;try{Ps(Ln,$n)}catch(gs){xo(sn,sn.return,gs)}}break;case 13:$s(an,sn),Ao(sn),Ln=sn.child,Ln.flags&8192&&($n=Ln.memoizedState!==null,Ln.stateNode.isHidden=$n,!$n||Ln.alternate!==null&&Ln.alternate.memoizedState!==null||(M0=ho())),Cn&4&&El(sn);break;case 22:var dr=gn!==null&&gn.memoizedState!==null;if(sn.mode&1?(kr=(gn=kr)||dr,$s(an,sn),kr=gn):$s(an,sn),Ao(sn),Cn&8192){if(gn=sn.memoizedState!==null,(sn.stateNode.isHidden=gn)&&!dr&&(sn.mode&1)!==0)for(Or=sn,Cn=sn.child;Cn!==null;){for(an=Or=Cn;Or!==null;){dr=Or;var Ir=dr.child;switch(dr.tag){case 0:case 11:case 14:case 15:Cs(4,dr,dr.return);break;case 1:es(dr,dr.return);var qr=dr.stateNode;if(typeof qr.componentWillUnmount=="function"){var os=dr,Ss=dr.return;try{var Is=os;qr.props=Is.memoizedProps,qr.state=Is.memoizedState,qr.componentWillUnmount()}catch(gs){xo(os,Ss,gs)}}break;case 5:es(dr,dr.return);break;case 22:if(dr.memoizedState!==null){iu(an);continue}}Ir!==null?(Ir.return=dr,Or=Ir):iu(an)}Cn=Cn.sibling}if(Cr){e:if(Cn=null,Cr)for(an=sn;;){if(an.tag===5){if(Cn===null){Cn=an;try{Ln=an.stateNode,gn?gr(Ln):Kr(an.stateNode,an.memoizedProps)}catch(gs){xo(sn,sn.return,gs)}}}else if(an.tag===6){if(Cn===null)try{$n=an.stateNode,gn?wr($n):ls($n,an.memoizedProps)}catch(gs){xo(sn,sn.return,gs)}}else if((an.tag!==22&&an.tag!==23||an.memoizedState===null||an===sn)&&an.child!==null){an.child.return=an,an=an.child;continue}if(an===sn)break e;for(;an.sibling===null;){if(an.return===null||an.return===sn)break e;Cn===an&&(Cn=null),an=an.return}Cn===an&&(Cn=null),an.sibling.return=an.return,an=an.sibling}}}break;case 19:$s(an,sn),Ao(sn),Cn&4&&El(sn);break;case 21:break;default:$s(an,sn),Ao(sn)}}function Ao(sn){var an=sn.flags;if(an&2){try{if(Cr){e:{for(var gn=sn.return;gn!==null;){if(Ws(gn)){var Cn=gn;break e}gn=gn.return}throw Error(rn(160))}switch(Cn.tag){case 5:var Ln=Cn.stateNode;Cn.flags&32&&(yr(Ln),Cn.flags&=-33);var $n=Hs(sn);Zs(sn,$n,Ln);break;case 3:case 4:var dr=Cn.stateNode.containerInfo,Ir=Hs(sn);$a(sn,Ir,dr);break;default:throw Error(rn(161))}}}catch(qr){xo(sn,sn.return,qr)}sn.flags&=-3}an&4096&&(sn.flags&=-4097)}function Bo(sn,an,gn){Or=sn,Uo(sn)}function Uo(sn,an,gn){for(var Cn=(sn.mode&1)!==0;Or!==null;){var Ln=Or,$n=Ln.child;if(Ln.tag===22&&Cn){var dr=Ln.memoizedState!==null||Hr;if(!dr){var Ir=Ln.alternate,qr=Ir!==null&&Ir.memoizedState!==null||kr;Ir=Hr;var os=kr;if(Hr=dr,(kr=qr)&&!os)for(Or=Ln;Or!==null;)dr=Or,qr=dr.child,dr.tag===22&&dr.memoizedState!==null?wu(Ln):qr!==null?(qr.return=dr,Or=qr):wu(Ln);for(;$n!==null;)Or=$n,Uo($n),$n=$n.sibling;Or=Ln,Hr=Ir,kr=os}Zo(sn)}else(Ln.subtreeFlags&8772)!==0&&$n!==null?($n.return=Ln,Or=$n):Zo(sn)}}function Zo(sn){for(;Or!==null;){var an=Or;if((an.flags&8772)!==0){var gn=an.alternate;try{if((an.flags&8772)!==0)switch(an.tag){case 0:case 11:case 15:kr||hs(5,an);break;case 1:var Cn=an.stateNode;if(an.flags&4&&!kr)if(gn===null)Cn.componentDidMount();else{var Ln=an.elementType===an.type?gn.memoizedProps:us(an.type,gn.memoizedProps);Cn.componentDidUpdate(Ln,gn.memoizedState,Cn.__reactInternalSnapshotBeforeUpdate)}var $n=an.updateQueue;$n!==null&&Ap(an,$n,Cn);break;case 3:var dr=an.updateQueue;if(dr!==null){if(gn=null,an.child!==null)switch(an.child.tag){case 5:gn=tr(an.child.stateNode);break;case 1:gn=an.child.stateNode}Ap(an,dr,gn)}break;case 5:var Ir=an.stateNode;gn===null&&an.flags&4&&Qr(Ir,an.type,an.memoizedProps,an);break;case 6:break;case 4:break;case 12:break;case 13:if(xr&&an.memoizedState===null){var qr=an.alternate;if(qr!==null){var os=qr.memoizedState;if(os!==null){var Ss=os.dehydrated;Ss!==null&&Op(Ss)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(rn(163))}kr||an.flags&512&&Xs(an)}catch(Is){xo(an,an.return,Is)}}if(an===sn){Or=null;break}if(gn=an.sibling,gn!==null){gn.return=an.return,Or=gn;break}Or=an.return}}function iu(sn){for(;Or!==null;){var an=Or;if(an===sn){Or=null;break}var gn=an.sibling;if(gn!==null){gn.return=an.return,Or=gn;break}Or=an.return}}function wu(sn){for(;Or!==null;){var an=Or;try{switch(an.tag){case 0:case 11:case 15:var gn=an.return;try{hs(4,an)}catch(qr){xo(an,gn,qr)}break;case 1:var Cn=an.stateNode;if(typeof Cn.componentDidMount=="function"){var Ln=an.return;try{Cn.componentDidMount()}catch(qr){xo(an,Ln,qr)}}var $n=an.return;try{Xs(an)}catch(qr){xo(an,$n,qr)}break;case 5:var dr=an.return;try{Xs(an)}catch(qr){xo(an,dr,qr)}}}catch(qr){xo(an,an.return,qr)}if(an===sn){Or=null;break}var Ir=an.sibling;if(Ir!==null){Ir.return=an.return,Or=Ir;break}Or=an.return}}var Co=0,cu=1,Fu=2,Ku=3,bu=4;if(typeof Symbol=="function"&&Symbol.for){var ao=Symbol.for;Co=ao("selector.component"),cu=ao("selector.has_pseudo_class"),Fu=ao("selector.role"),Ku=ao("selector.test_id"),bu=ao("selector.text")}function T1(sn){var an=Un(sn);if(an!=null){if(typeof an.memoizedProps["data-testname"]!="string")throw Error(rn(364));return an}if(sn=Fr(sn),sn===null)throw Error(rn(362));return sn.stateNode.current}function n0(sn,an){switch(an.$$typeof){case Co:if(sn.type===an.value)return!0;break;case cu:e:{an=an.value,sn=[sn,0];for(var gn=0;gn<sn.length;){var Cn=sn[gn++],Ln=sn[gn++],$n=an[Ln];if(Cn.tag!==5||!Sr(Cn)){for(;$n!=null&&n0(Cn,$n);)Ln++,$n=an[Ln];if(Ln===an.length){an=!0;break e}else for(Cn=Cn.child;Cn!==null;)sn.push(Cn,Ln),Cn=Cn.sibling}}an=!1}return an;case Fu:if(sn.tag===5&&Wr(sn.stateNode,an.value))return!0;break;case bu:if((sn.tag===5||sn.tag===6)&&(sn=Gr(sn),sn!==null&&0<=sn.indexOf(an.value)))return!0;break;case Ku:if(sn.tag===5&&(sn=sn.memoizedProps["data-testname"],typeof sn=="string"&&sn.toLowerCase()===an.value.toLowerCase()))return!0;break;default:throw Error(rn(365))}return!1}function r0(sn){switch(sn.$$typeof){case Co:return"<"+(In(sn.value)||"Unknown")+">";case cu:return":has("+(r0(sn)||"")+")";case Fu:return'[role="'+sn.value+'"]';case bu:return'"'+sn.value+'"';case Ku:return'[data-testname="'+sn.value+'"]';default:throw Error(rn(365))}}function L1(sn,an){var gn=[];sn=[sn,0];for(var Cn=0;Cn<sn.length;){var Ln=sn[Cn++],$n=sn[Cn++],dr=an[$n];if(Ln.tag!==5||!Sr(Ln)){for(;dr!=null&&n0(Ln,dr);)$n++,dr=an[$n];if($n===an.length)gn.push(Ln);else for(Ln=Ln.child;Ln!==null;)sn.push(Ln,$n),Ln=Ln.sibling}}return gn}function Np(sn,an){if(!Ar)throw Error(rn(363));sn=T1(sn),sn=L1(sn,an),an=[],sn=Array.from(sn);for(var gn=0;gn<sn.length;){var Cn=sn[gn++];if(Cn.tag===5)Sr(Cn)||an.push(Cn.stateNode);else for(Cn=Cn.child;Cn!==null;)sn.push(Cn),Cn=Cn.sibling}return an}var i0=Math.ceil,$l=on.ReactCurrentDispatcher,cp=on.ReactCurrentOwner,oo=on.ReactCurrentBatchConfig,zs=0,Eo=null,ko=null,Ro=0,Pl=0,Qu=ku(0),mo=0,R1=null,Tp=0,o1=0,Mu=0,F1=null,zl=null,M0=0,s0=1/0,hu=null;function Lp(){s0=ho()+500}var M1=!1,l1=null,Ou=null,hp=!1,Ju=null,a0=0,dp=0,o0=null,u1=-1,Au=0;function Ho(){return(zs&6)!==0?ho():u1!==-1?u1:u1=ho()}function Zu(sn){return(sn.mode&1)===0?1:(zs&2)!==0&&Ro!==0?Ro&-Ro:Br.transition!==null?(Au===0&&(Au=vp()),Au):(sn=fs,sn!==0?sn:Dn())}function du(sn,an,gn,Cn){if(50<dp)throw dp=0,o0=null,Error(rn(185));To(sn,gn,Cn),((zs&2)===0||sn!==Eo)&&(sn===Eo&&((zs&2)===0&&(o1|=gn),mo===4&&_c(sn,Ro)),Nl(sn,Cn),gn===1&&zs===0&&(an.mode&1)===0&&(Lp(),Gu&&Vl()))}function Nl(sn,an){var gn=sn.callbackNode;zu(sn,an);var Cn=$p(sn,sn===Eo?Ro:0);if(Cn===0)gn!==null&&pu(gn),sn.callbackNode=null,sn.callbackPriority=0;else if(an=Cn&-Cn,sn.callbackPriority!==an){if(gn!=null&&pu(gn),an===1)sn.tag===0?q1(Z0.bind(null,sn)):S1(Z0.bind(null,sn)),cr?hr(function(){(zs&6)===0&&Vl()}):y1(yp,Vl),gn=null;else{switch($1(Cn)){case 1:gn=yp;break;case 4:gn=m0;break;case 16:gn=_1;break;case 536870912:gn=v0;break;default:gn=_1}gn=Um(gn,Rp.bind(null,sn))}sn.callbackPriority=an,sn.callbackNode=gn}}function Rp(sn,an){if(u1=-1,Au=0,(zs&6)!==0)throw Error(rn(327));var gn=sn.callbackNode;if(I1()&&sn.callbackNode!==gn)return null;var Cn=$p(sn,sn===Eo?Ro:0);if(Cn===0)return null;if((Cn&30)!==0||(Cn&sn.expiredLanes)!==0||an)an=Fp(sn,Cn);else{an=Cn;var Ln=zs;zs|=2;var $n=_h();(Eo!==sn||Ro!==an)&&(hu=null,Lp(),Iu(sn,an));do try{em();break}catch(Ir){Du(sn,Ir)}while(1);lo(),$l.current=$n,zs=Ln,ko!==null?an=0:(Eo=null,Ro=0,an=mo)}if(an!==0){if(an===2&&(Ln=tp(sn),Ln!==0&&(Cn=Ln,an=O0(sn,Ln))),an===1)throw gn=R1,Iu(sn,0),_c(sn,Cn),Nl(sn,ho()),gn;if(an===6)_c(sn,Cn);else{if(Ln=sn.current.alternate,(Cn&30)===0&&!fm(Ln)&&(an=Fp(sn,Cn),an===2&&($n=tp(sn),$n!==0&&(Cn=$n,an=O0(sn,$n))),an===1))throw gn=R1,Iu(sn,0),_c(sn,Cn),Nl(sn,ho()),gn;switch(sn.finishedWork=Ln,sn.finishedLanes=Cn,an){case 0:case 1:throw Error(rn(345));case 2:_d(sn,zl,hu);break;case 3:if(_c(sn,Cn),(Cn&130023424)===Cn&&(an=M0+500-ho(),10<an)){if($p(sn,0)!==0)break;if(Ln=sn.suspendedLanes,(Ln&Cn)!==Cn){Ho(),sn.pingedLanes|=sn.suspendedLanes&Ln;break}sn.timeoutHandle=Kn(_d.bind(null,sn,zl,hu),an);break}_d(sn,zl,hu);break;case 4:if(_c(sn,Cn),(Cn&4194240)===Cn)break;for(an=sn.eventTimes,Ln=-1;0<Cn;){var dr=31-Gl(Cn);$n=1<<dr,dr=an[dr],dr>Ln&&(Ln=dr),Cn&=~$n}if(Cn=Ln,Cn=ho()-Cn,Cn=(120>Cn?120:480>Cn?480:1080>Cn?1080:1920>Cn?1920:3e3>Cn?3e3:4320>Cn?4320:1960*i0(Cn/1960))-Cn,10<Cn){sn.timeoutHandle=Kn(_d.bind(null,sn,zl,hu),Cn);break}_d(sn,zl,hu);break;case 5:_d(sn,zl,hu);break;default:throw Error(rn(329))}}}return Nl(sn,ho()),sn.callbackNode===gn?Rp.bind(null,sn):null}function O0(sn,an){var gn=F1;return sn.current.memoizedState.isDehydrated&&(Iu(sn,an).flags|=256),sn=Fp(sn,an),sn!==2&&(an=zl,zl=gn,an!==null&&l0(an)),sn}function l0(sn){zl===null?zl=sn:zl.push.apply(zl,sn)}function fm(sn){for(var an=sn;;){if(an.flags&16384){var gn=an.updateQueue;if(gn!==null&&(gn=gn.stores,gn!==null))for(var Cn=0;Cn<gn.length;Cn++){var Ln=gn[Cn],$n=Ln.getSnapshot;Ln=Ln.value;try{if(!Go($n(),Ln))return!1}catch{return!1}}}if(gn=an.child,an.subtreeFlags&16384&&gn!==null)gn.return=an,an=gn;else{if(an===sn)break;for(;an.sibling===null;){if(an.return===null||an.return===sn)return!0;an=an.return}an.sibling.return=an.return,an=an.sibling}}return!0}function _c(sn,an){for(an&=~Mu,an&=~o1,sn.suspendedLanes|=an,sn.pingedLanes&=~an,sn=sn.expirationTimes;0<an;){var gn=31-Gl(an),Cn=1<<gn;sn[gn]=-1,an&=~Cn}}function Z0(sn){if((zs&6)!==0)throw Error(rn(327));I1();var an=$p(sn,0);if((an&1)===0)return Nl(sn,ho()),null;var gn=Fp(sn,an);if(sn.tag!==0&&gn===2){var Cn=tp(sn);Cn!==0&&(an=Cn,gn=O0(sn,Cn))}if(gn===1)throw gn=R1,Iu(sn,0),_c(sn,an),Nl(sn,ho()),gn;if(gn===6)throw Error(rn(345));return sn.finishedWork=sn.current.alternate,sn.finishedLanes=an,_d(sn,zl,hu),Nl(sn,ho()),null}function c1(sn){Ju!==null&&Ju.tag===0&&(zs&6)===0&&I1();var an=zs;zs|=1;var gn=oo.transition,Cn=fs;try{if(oo.transition=null,fs=1,sn)return sn()}finally{fs=Cn,oo.transition=gn,zs=an,(zs&6)===0&&Vl()}}function O1(){Pl=Qu.current,Qs(Qu)}function Iu(sn,an){sn.finishedWork=null,sn.finishedLanes=0;var gn=sn.timeoutHandle;if(gn!==ir&&(sn.timeoutHandle=ir,nr(gn)),ko!==null)for(gn=ko.return;gn!==null;){var Cn=gn;switch(Wp(Cn),Cn.tag){case 1:Cn=Cn.type.childContextTypes,Cn!=null&&Ll();break;case 3:Zl(),Qs(zo),Qs(Mo),Ru();break;case 5:yu(Cn);break;case 4:Zl();break;case 13:Qs(xa);break;case 19:Qs(xa);break;case 10:_o(Cn.type._context);break;case 22:case 23:O1()}gn=gn.return}if(Eo=sn,ko=sn=h1(sn.current,null),Ro=Pl=an,mo=0,R1=null,Mu=o1=Tp=0,zl=F1=null,Oo!==null){for(an=0;an<Oo.length;an++)if(gn=Oo[an],Cn=gn.interleaved,Cn!==null){gn.interleaved=null;var Ln=Cn.next,$n=gn.pending;if($n!==null){var dr=$n.next;$n.next=Ln,Cn.next=dr}gn.pending=Cn}Oo=null}return sn}function Du(sn,an){do{var gn=ko;try{if(lo(),op.current=J1,wo){for(var Cn=Ts.memoizedState;Cn!==null;){var Ln=Cn.queue;Ln!==null&&(Ln.pending=null),Cn=Cn.next}wo=!1}if(Al=0,Gs=Fs=Ts=null,eu=!1,uu=0,cp.current=null,gn===null||gn.return===null){mo=1,R1=an,ko=null;break}e:{var $n=sn,dr=gn.return,Ir=gn,qr=an;if(an=Ro,Ir.flags|=32768,qr!==null&&typeof qr=="object"&&typeof qr.then=="function"){var os=qr,Ss=Ir,Is=Ss.tag;if((Ss.mode&1)===0&&(Is===0||Is===11||Is===15)){var gs=Ss.alternate;gs?(Ss.updateQueue=gs.updateQueue,Ss.memoizedState=gs.memoizedState,Ss.lanes=gs.lanes):(Ss.updateQueue=null,Ss.memoizedState=null)}var vo=E0(dr);if(vo!==null){vo.flags&=-257,k0(vo,dr,Ir,$n,an),vo.mode&1&&W0($n,os,an),an=vo,qr=os;var uo=an.updateQueue;if(uo===null){var fu=new Set;fu.add(qr),an.updateQueue=fu}else uo.add(qr);break e}else{if((an&1)===0){W0($n,os,an),ju();break e}qr=Error(rn(426))}}else if(ro&&Ir.mode&1){var Mp=E0(dr);if(Mp!==null){(Mp.flags&65536)===0&&(Mp.flags|=256),k0(Mp,dr,Ir,$n,an),Nr(Bl(qr,Ir));break e}}$n=qr=Bl(qr,Ir),mo!==4&&(mo=2),F1===null?F1=[$n]:F1.push($n),$n=dr;do{switch($n.tag){case 3:$n.flags|=65536,an&=-an,$n.lanes|=an;var $r=ru($n,qr,an);bp($n,$r);break e;case 1:Ir=qr;var jr=$n.type,Yr=$n.stateNode;if(($n.flags&128)===0&&(typeof jr.getDerivedStateFromError=="function"||Yr!==null&&typeof Yr.componentDidCatch=="function"&&(Ou===null||!Ou.has(Yr)))){$n.flags|=65536,an&=-an,$n.lanes|=an;var vs=V0($n,Ir,an);bp($n,vs);break e}}$n=$n.return}while($n!==null)}u0(gn)}catch(Es){an=Es,ko===gn&&gn!==null&&(ko=gn=gn.return);continue}break}while(1)}function _h(){var sn=$l.current;return $l.current=J1,sn===null?J1:sn}function ju(){(mo===0||mo===3||mo===2)&&(mo=4),Eo===null||(Tp&268435455)===0&&(o1&268435455)===0||_c(Eo,Ro)}function Fp(sn,an){var gn=zs;zs|=2;var Cn=_h();(Eo!==sn||Ro!==an)&&(hu=null,Iu(sn,an));do try{I0();break}catch(Ln){Du(sn,Ln)}while(1);if(lo(),zs=gn,$l.current=Cn,ko!==null)throw Error(rn(261));return Eo=null,Ro=0,mo}function I0(){for(;ko!==null;)tm(ko)}function em(){for(;ko!==null&&!z1();)tm(ko)}function tm(sn){var an=Bm(sn.alternate,sn,Pl);sn.memoizedProps=sn.pendingProps,an===null?u0(sn):ko=an,cp.current=null}function u0(sn){var an=sn;do{var gn=an.alternate;if(sn=an.return,(an.flags&32768)===0){if(gn=Mr(gn,an,Pl),gn!==null){ko=gn;return}}else{if(gn=_i(gn,an),gn!==null){gn.flags&=32767,ko=gn;return}if(sn!==null)sn.flags|=32768,sn.subtreeFlags=0,sn.deletions=null;else{mo=6,ko=null;return}}if(an=an.sibling,an!==null){ko=an;return}ko=an=sn}while(an!==null);mo===0&&(mo=5)}function _d(sn,an,gn){var Cn=fs,Ln=oo.transition;try{oo.transition=null,fs=1,p2(sn,an,gn,Cn)}finally{oo.transition=Ln,fs=Cn}return null}function p2(sn,an,gn,Cn){do I1();while(Ju!==null);if((zs&6)!==0)throw Error(rn(327));gn=sn.finishedWork;var Ln=sn.finishedLanes;if(gn===null)return null;if(sn.finishedWork=null,sn.finishedLanes=0,gn===sn.current)throw Error(rn(177));sn.callbackNode=null,sn.callbackPriority=0;var $n=gn.lanes|gn.childLanes;if(g0(sn,$n),sn===Eo&&(ko=Eo=null,Ro=0),(gn.subtreeFlags&2064)===0&&(gn.flags&2064)===0||hp||(hp=!0,Um(_1,function(){return I1(),null})),$n=(gn.flags&15990)!==0,(gn.subtreeFlags&15990)!==0||$n){$n=oo.transition,oo.transition=null;var dr=fs;fs=1;var Ir=zs;zs|=4,cp.current=null,cs(sn,gn),Ul(gn,sn),pr(sn.containerInfo),sn.current=gn,Bo(gn),G1(),zs=Ir,fs=dr,oo.transition=$n}else sn.current=gn;if(hp&&(hp=!1,Ju=sn,a0=Ln),$n=sn.pendingLanes,$n===0&&(Ou=null),rp(gn.stateNode),Nl(sn,ho()),an!==null)for(Cn=sn.onRecoverableError,gn=0;gn<an.length;gn++)Ln=an[gn],Cn(Ln.value,{componentStack:Ln.stack,digest:Ln.digest});if(M1)throw M1=!1,sn=l1,l1=null,sn;return(a0&1)!==0&&sn.tag!==0&&I1(),$n=sn.pendingLanes,($n&1)!==0?sn===o0?dp++:(dp=0,o0=sn):dp=0,Vl(),null}function I1(){if(Ju!==null){var sn=$1(a0),an=oo.transition,gn=fs;try{if(oo.transition=null,fs=16>sn?16:sn,Ju===null)var Cn=!1;else{if(sn=Ju,Ju=null,a0=0,(zs&6)!==0)throw Error(rn(331));var Ln=zs;for(zs|=4,Or=sn.current;Or!==null;){var $n=Or,dr=$n.child;if((Or.flags&16)!==0){var Ir=$n.deletions;if(Ir!==null){for(var qr=0;qr<Ir.length;qr++){var os=Ir[qr];for(Or=os;Or!==null;){var Ss=Or;switch(Ss.tag){case 0:case 11:case 15:Cs(8,Ss,$n)}var Is=Ss.child;if(Is!==null)Is.return=Ss,Or=Is;else for(;Or!==null;){Ss=Or;var gs=Ss.sibling,vo=Ss.return;if(Js(Ss),Ss===os){Or=null;break}if(gs!==null){gs.return=vo,Or=gs;break}Or=vo}}}var uo=$n.alternate;if(uo!==null){var fu=uo.child;if(fu!==null){uo.child=null;do{var Mp=fu.sibling;fu.sibling=null,fu=Mp}while(fu!==null)}}Or=$n}}if(($n.subtreeFlags&2064)!==0&&dr!==null)dr.return=$n,Or=dr;else e:for(;Or!==null;){if($n=Or,($n.flags&2048)!==0)switch($n.tag){case 0:case 11:case 15:Cs(9,$n,$n.return)}var $r=$n.sibling;if($r!==null){$r.return=$n.return,Or=$r;break e}Or=$n.return}}var jr=sn.current;for(Or=jr;Or!==null;){dr=Or;var Yr=dr.child;if((dr.subtreeFlags&2064)!==0&&Yr!==null)Yr.return=dr,Or=Yr;else e:for(dr=jr;Or!==null;){if(Ir=Or,(Ir.flags&2048)!==0)try{switch(Ir.tag){case 0:case 11:case 15:hs(9,Ir)}}catch(Es){xo(Ir,Ir.return,Es)}if(Ir===dr){Or=null;break e}var vs=Ir.sibling;if(vs!==null){vs.return=Ir.return,Or=vs;break e}Or=Ir.return}}if(zs=Ln,Vl(),Wo&&typeof Wo.onPostCommitFiberRoot=="function")try{Wo.onPostCommitFiberRoot(np,sn)}catch{}Cn=!0}return Cn}finally{fs=gn,oo.transition=an}}return!1}function Dm(sn,an,gn){an=Bl(gn,an),an=ru(sn,an,1),sn=Ql(sn,an,1),an=Ho(),sn!==null&&(To(sn,1,an),Nl(sn,an))}function xo(sn,an,gn){if(sn.tag===3)Dm(sn,sn,gn);else for(;an!==null;){if(an.tag===3){Dm(an,sn,gn);break}else if(an.tag===1){var Cn=an.stateNode;if(typeof an.type.getDerivedStateFromError=="function"||typeof Cn.componentDidCatch=="function"&&(Ou===null||!Ou.has(Cn))){sn=Bl(gn,sn),sn=V0(an,sn,1),an=Ql(an,sn,1),sn=Ho(),an!==null&&(To(an,1,sn),Nl(an,sn));break}}an=an.return}}function g2(sn,an,gn){var Cn=sn.pingCache;Cn!==null&&Cn.delete(an),an=Ho(),sn.pingedLanes|=sn.suspendedLanes&gn,Eo===sn&&(Ro&gn)===gn&&(mo===4||mo===3&&(Ro&130023424)===Ro&&500>ho()-M0?Iu(sn,0):Mu|=gn),Nl(sn,an)}function jm(sn,an){an===0&&((sn.mode&1)===0?an=1:(an=ep,ep<<=1,(ep&130023424)===0&&(ep=4194304)));var gn=Ho();sn=Ml(sn,an),sn!==null&&(To(sn,an,gn),Nl(sn,gn))}function m2(sn){var an=sn.memoizedState,gn=0;an!==null&&(gn=an.retryLane),jm(sn,gn)}function v2(sn,an){var gn=0;switch(sn.tag){case 13:var Cn=sn.stateNode,Ln=sn.memoizedState;Ln!==null&&(gn=Ln.retryLane);break;case 19:Cn=sn.stateNode;break;default:throw Error(rn(314))}Cn!==null&&Cn.delete(an),jm(sn,gn)}var Bm;Bm=function(sn,an,gn){if(sn!==null)if(sn.memoizedProps!==an.pendingProps||zo.current)xl=!0;else{if((sn.lanes&gn)===0&&(an.flags&128)===0)return xl=!1,jn(sn,an,gn);xl=(sn.flags&131072)!==0}else xl=!1,ro&&(an.flags&1048576)!==0&&Vp(an,gu,an.index);switch(an.lanes=0,an.tag){case 2:var Cn=an.type;_n(sn,an),sn=an.pendingProps;var Ln=Nu(an,Mo.current);po(an,gn),Ln=V1(null,an,Cn,sn,Ln,gn);var $n=W1();return an.flags|=1,typeof Ln=="object"&&Ln!==null&&typeof Ln.render=="function"&&Ln.$$typeof===void 0?(an.tag=1,an.memoizedState=null,an.updateQueue=null,Vo(Cn)?($n=!0,_f(an)):$n=!1,an.memoizedState=Ln.state!==null&&Ln.state!==void 0?Ln.state:null,ap(an),Ln.updater=Qp,an.stateNode=Ln,Ln._reactInternals=an,xp(an,Cn,sn,gn),an=L0(null,an,Cn,!0,$n,gn)):(an.tag=0,ro&&$n&&_p(an),Cl(null,an,Ln,gn),an=an.child),an;case 16:Cn=an.elementType;e:{switch(_n(sn,an),sn=an.pendingProps,Ln=Cn._init,Cn=Ln(Cn._payload),an.type=Cn,Ln=an.tag=_2(Cn),sn=us(Cn,sn),Ln){case 0:an=N0(null,an,Cn,sn,gn);break e;case 1:an=T0(null,an,Cn,sn,gn);break e;case 11:an=P1(null,an,Cn,sn,gn);break e;case 14:an=N1(null,an,Cn,us(Cn.type,sn),gn);break e}throw Error(rn(306,Cn,""))}return an;case 0:return Cn=an.type,Ln=an.pendingProps,Ln=an.elementType===Cn?Ln:us(Cn,Ln),N0(sn,an,Cn,Ln,gn);case 1:return Cn=an.type,Ln=an.pendingProps,Ln=an.elementType===Cn?Ln:us(Cn,Ln),T0(sn,an,Cn,Ln,gn);case 3:e:{if(Y0(an),sn===null)throw Error(rn(387));Cn=an.pendingProps,$n=an.memoizedState,Ln=$n.element,Yp(sn,an),Hu(an,Cn,null,gn);var dr=an.memoizedState;if(Cn=dr.element,xr&&$n.isDehydrated)if($n={element:Cn,isDehydrated:!1,cache:dr.cache,pendingSuspenseBoundaries:dr.pendingSuspenseBoundaries,transitions:dr.transitions},an.updateQueue.baseState=$n,an.memoizedState=$n,an.flags&256){Ln=Bl(Error(rn(423)),an),an=K0(sn,an,Cn,gn,Ln);break e}else if(Cn!==Ln){Ln=Bl(Error(rn(424)),an),an=K0(sn,an,Cn,gn,Ln);break e}else for(xr&&(Yo=No(an.stateNode.containerInfo),Do=an,ro=!0,Yl=null,ip=!1),gn=Wu(an,null,Cn,gn),an.child=gn;gn;)gn.flags=gn.flags&-3|4096,gn=gn.sibling;else{if(vr(),Cn===Ln){an=Nn(sn,an,gn);break e}Cl(sn,an,Cn,gn)}an=an.child}return an;case 5:return lu(an),sn===null&&Tu(an),Cn=an.type,Ln=an.pendingProps,$n=sn!==null?sn.memoizedProps:null,dr=Ln.children,Bn(Cn,Ln)?dr=null:$n!==null&&Bn(Cn,$n)&&(an.flags|=32),P0(sn,an),Cl(sn,an,dr,gn),an.child;case 6:return sn===null&&Tu(an),null;case 13:return Q0(sn,an,gn);case 4:return Ep(an,an.stateNode.containerInfo),Cn=an.pendingProps,sn===null?an.child=Qo(an,null,Cn,gn):Cl(sn,an,Cn,gn),an.child;case 11:return Cn=an.type,Ln=an.pendingProps,Ln=an.elementType===Cn?Ln:us(Cn,Ln),P1(sn,an,Cn,Ln,gn);case 7:return Cl(sn,an,an.pendingProps,gn),an.child;case 8:return Cl(sn,an,an.pendingProps.children,gn),an.child;case 12:return Cl(sn,an,an.pendingProps.children,gn),an.child;case 10:e:{if(Cn=an.type._context,Ln=an.pendingProps,$n=an.memoizedProps,dr=Ln.value,fo(an,Cn,dr),$n!==null)if(Go($n.value,dr)){if($n.children===Ln.children&&!zo.current){an=Nn(sn,an,gn);break e}}else for($n=an.child,$n!==null&&($n.return=an);$n!==null;){var Ir=$n.dependencies;if(Ir!==null){dr=$n.child;for(var qr=Ir.firstContext;qr!==null;){if(qr.context===Cn){if($n.tag===1){qr=Kl(-1,gn&-gn),qr.tag=2;var os=$n.updateQueue;if(os!==null){os=os.shared;var Ss=os.pending;Ss===null?qr.next=qr:(qr.next=Ss.next,Ss.next=qr),os.pending=qr}}$n.lanes|=gn,qr=$n.alternate,qr!==null&&(qr.lanes|=gn),jo($n.return,gn,an),Ir.lanes|=gn;break}qr=qr.next}}else if($n.tag===10)dr=$n.type===an.type?null:$n.child;else if($n.tag===18){if(dr=$n.return,dr===null)throw Error(rn(341));dr.lanes|=gn,Ir=dr.alternate,Ir!==null&&(Ir.lanes|=gn),jo(dr,gn,an),dr=$n.sibling}else dr=$n.child;if(dr!==null)dr.return=$n;else for(dr=$n;dr!==null;){if(dr===an){dr=null;break}if($n=dr.sibling,$n!==null){$n.return=dr.return,dr=$n;break}dr=dr.return}$n=dr}Cl(sn,an,Ln.children,gn),an=an.child}return an;case 9:return Ln=an.type,Cn=an.pendingProps.children,po(an,gn),Ln=So(Ln),Cn=Cn(Ln),an.flags|=1,Cl(sn,an,Cn,gn),an.child;case 14:return Cn=an.type,Ln=us(Cn,an.pendingProps),Ln=us(Cn.type,Ln),N1(sn,an,Cn,Ln,gn);case 15:return a1(sn,an,an.type,an.pendingProps,gn);case 17:return Cn=an.type,Ln=an.pendingProps,Ln=an.elementType===Cn?Ln:us(Cn,Ln),_n(sn,an),an.tag=1,Vo(Cn)?(sn=!0,_f(an)):sn=!1,po(an,gn),b1(an,Cn,Ln),xp(an,Cn,Ln,gn),L0(null,an,Cn,!0,sn,gn);case 19:return hn(sn,an,gn);case 22:return _g(sn,an,gn)}throw Error(rn(156,an.tag))};function Um(sn,an){return y1(sn,an)}function y2(sn,an,gn,Cn){this.tag=sn,this.key=gn,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=an,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Cn,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bu(sn,an,gn,Cn){return new y2(sn,an,gn,Cn)}function pm(sn){return sn=sn.prototype,!(!sn||!sn.isReactComponent)}function _2(sn){if(typeof sn=="function")return pm(sn)?1:0;if(sn!=null){if(sn=sn.$$typeof,sn===bn)return 11;if(sn===yn)return 14}return 2}function h1(sn,an){var gn=sn.alternate;return gn===null?(gn=Bu(sn.tag,an,sn.key,sn.mode),gn.elementType=sn.elementType,gn.type=sn.type,gn.stateNode=sn.stateNode,gn.alternate=sn,sn.alternate=gn):(gn.pendingProps=an,gn.type=sn.type,gn.flags=0,gn.subtreeFlags=0,gn.deletions=null),gn.flags=sn.flags&14680064,gn.childLanes=sn.childLanes,gn.lanes=sn.lanes,gn.child=sn.child,gn.memoizedProps=sn.memoizedProps,gn.memoizedState=sn.memoizedState,gn.updateQueue=sn.updateQueue,an=sn.dependencies,gn.dependencies=an===null?null:{lanes:an.lanes,firstContext:an.firstContext},gn.sibling=sn.sibling,gn.index=sn.index,gn.ref=sn.ref,gn}function nm(sn,an,gn,Cn,Ln,$n){var dr=2;if(Cn=sn,typeof sn=="function")pm(sn)&&(dr=1);else if(typeof sn=="string")dr=5;else e:switch(sn){case dn:return D1(gn.children,Ln,$n,an);case Sn:dr=8,Ln|=8;break;case mn:return sn=Bu(12,gn,an,Ln|2),sn.elementType=mn,sn.lanes=$n,sn;case wn:return sn=Bu(13,gn,an,Ln),sn.elementType=wn,sn.lanes=$n,sn;case pn:return sn=Bu(19,gn,an,Ln),sn.elementType=pn,sn.lanes=$n,sn;case kn:return rm(gn,Ln,$n,an);default:if(typeof sn=="object"&&sn!==null)switch(sn.$$typeof){case fn:dr=10;break e;case vn:dr=9;break e;case bn:dr=11;break e;case yn:dr=14;break e;case An:dr=16,Cn=null;break e}throw Error(rn(130,sn==null?sn:typeof sn,""))}return an=Bu(dr,gn,an,Ln),an.elementType=sn,an.type=Cn,an.lanes=$n,an}function D1(sn,an,gn,Cn){return sn=Bu(7,sn,Cn,an),sn.lanes=gn,sn}function rm(sn,an,gn,Cn){return sn=Bu(22,sn,Cn,an),sn.elementType=kn,sn.lanes=gn,sn.stateNode={isHidden:!1},sn}function gm(sn,an,gn){return sn=Bu(6,sn,null,an),sn.lanes=gn,sn}function mm(sn,an,gn){return an=Bu(4,sn.children!==null?sn.children:[],sn.key,an),an.lanes=gn,an.stateNode={containerInfo:sn.containerInfo,pendingChildren:null,implementation:sn.implementation},an}function S2(sn,an,gn,Cn,Ln){this.tag=an,this.containerInfo=sn,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ir,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zp(0),this.expirationTimes=zp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zp(0),this.identifierPrefix=Cn,this.onRecoverableError=Ln,xr&&(this.mutableSourceEagerHydrationData=null)}function $m(sn,an,gn,Cn,Ln,$n,dr,Ir,qr){return sn=new S2(sn,an,gn,Ir,qr),an===1?(an=1,$n===!0&&(an|=8)):an=0,$n=Bu(3,null,null,an),sn.current=$n,$n.stateNode=sn,$n.memoizedState={element:Cn,isDehydrated:gn,cache:null,transitions:null,pendingSuspenseBoundaries:null},ap($n),sn}function zm(sn){if(!sn)return no;sn=sn._reactInternals;e:{if(Wn(sn)!==sn||sn.tag!==1)throw Error(rn(170));var an=sn;do{switch(an.tag){case 3:an=an.stateNode.context;break e;case 1:if(Vo(an.type)){an=an.stateNode.__reactInternalMemoizedMergedChildContext;break e}}an=an.return}while(an!==null);throw Error(rn(171))}if(sn.tag===1){var gn=sn.type;if(Vo(gn))return _l(sn,gn,an)}return an}function Gm(sn){var an=sn._reactInternals;if(an===void 0)throw typeof sn.render=="function"?Error(rn(188)):(sn=Object.keys(sn).join(","),Error(rn(268,sn)));return sn=Gn(an),sn===null?null:sn.stateNode}function qm(sn,an){if(sn=sn.memoizedState,sn!==null&&sn.dehydrated!==null){var gn=sn.retryLane;sn.retryLane=gn!==0&&gn<an?gn:an}}function im(sn,an){qm(sn,an),(sn=sn.alternate)&&qm(sn,an)}function w2(sn){return sn=Gn(sn),sn===null?null:sn.stateNode}function b2(){return null}return St.attemptContinuousHydration=function(sn){if(sn.tag===13){var an=Ml(sn,134217728);if(an!==null){var gn=Ho();du(an,sn,134217728,gn)}im(sn,134217728)}},St.attemptDiscreteHydration=function(sn){if(sn.tag===13){var an=Ml(sn,1);if(an!==null){var gn=Ho();du(an,sn,1,gn)}im(sn,1)}},St.attemptHydrationAtCurrentPriority=function(sn){if(sn.tag===13){var an=Zu(sn),gn=Ml(sn,an);if(gn!==null){var Cn=Ho();du(gn,sn,an,Cn)}im(sn,an)}},St.attemptSynchronousHydration=function(sn){switch(sn.tag){case 3:var an=sn.stateNode;if(an.current.memoizedState.isDehydrated){var gn=mp(an.pendingLanes);gn!==0&&(Gp(an,gn|1),Nl(an,ho()),(zs&6)===0&&(Lp(),Vl()))}break;case 13:c1(function(){var Cn=Ml(sn,1);if(Cn!==null){var Ln=Ho();du(Cn,sn,1,Ln)}}),im(sn,1)}},St.batchedUpdates=function(sn,an){var gn=zs;zs|=1;try{return sn(an)}finally{zs=gn,zs===0&&(Lp(),Gu&&Vl())}},St.createComponentSelector=function(sn){return{$$typeof:Co,value:sn}},St.createContainer=function(sn,an,gn,Cn,Ln,$n,dr){return $m(sn,an,!1,null,gn,Cn,Ln,$n,dr)},St.createHasPseudoClassSelector=function(sn){return{$$typeof:cu,value:sn}},St.createHydrationContainer=function(sn,an,gn,Cn,Ln,$n,dr,Ir,qr){return sn=$m(gn,Cn,!0,sn,Ln,$n,dr,Ir,qr),sn.context=zm(null),gn=sn.current,Cn=Ho(),Ln=Zu(gn),$n=Kl(Cn,Ln),$n.callback=an!=null?an:null,Ql(gn,$n,Ln),sn.current.lanes=Ln,To(sn,Ln,Cn),Nl(sn,Cn),sn},St.createPortal=function(sn,an,gn){var Cn=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cn,key:Cn==null?null:""+Cn,children:sn,containerInfo:an,implementation:gn}},St.createRoleSelector=function(sn){return{$$typeof:Fu,value:sn}},St.createTestNameSelector=function(sn){return{$$typeof:Ku,value:sn}},St.createTextSelector=function(sn){return{$$typeof:bu,value:sn}},St.deferredUpdates=function(sn){var an=fs,gn=oo.transition;try{return oo.transition=null,fs=16,sn()}finally{fs=an,oo.transition=gn}},St.discreteUpdates=function(sn,an,gn,Cn,Ln){var $n=fs,dr=oo.transition;try{return oo.transition=null,fs=1,sn(an,gn,Cn,Ln)}finally{fs=$n,oo.transition=dr,zs===0&&Lp()}},St.findAllNodes=Np,St.findBoundingRects=function(sn,an){if(!Ar)throw Error(rn(363));an=Np(sn,an),sn=[];for(var gn=0;gn<an.length;gn++)sn.push(Pr(an[gn]));for(an=sn.length-1;0<an;an--){gn=sn[an];for(var Cn=gn.x,Ln=Cn+gn.width,$n=gn.y,dr=$n+gn.height,Ir=an-1;0<=Ir;Ir--)if(an!==Ir){var qr=sn[Ir],os=qr.x,Ss=os+qr.width,Is=qr.y,gs=Is+qr.height;if(Cn>=os&&$n>=Is&&Ln<=Ss&&dr<=gs){sn.splice(an,1);break}else if(Cn!==os||gn.width!==qr.width||gs<$n||Is>dr){if(!($n!==Is||gn.height!==qr.height||Ss<Cn||os>Ln)){os>Cn&&(qr.width+=os-Cn,qr.x=Cn),Ss<Ln&&(qr.width=Ln-os),sn.splice(an,1);break}}else{Is>$n&&(qr.height+=Is-$n,qr.y=$n),gs<dr&&(qr.height=dr-Is),sn.splice(an,1);break}}}return sn},St.findHostInstance=Gm,St.findHostInstanceWithNoPortals=function(sn){return sn=Mn(sn),sn=sn!==null?Qn(sn):null,sn===null?null:sn.stateNode},St.findHostInstanceWithWarning=function(sn){return Gm(sn)},St.flushControlled=function(sn){var an=zs;zs|=1;var gn=oo.transition,Cn=fs;try{oo.transition=null,fs=1,sn()}finally{fs=Cn,oo.transition=gn,zs=an,zs===0&&(Lp(),Vl())}},St.flushPassiveEffects=I1,St.flushSync=c1,St.focusWithin=function(sn,an){if(!Ar)throw Error(rn(363));for(sn=T1(sn),an=L1(sn,an),an=Array.from(an),sn=0;sn<an.length;){var gn=an[sn++];if(!Sr(gn)){if(gn.tag===5&&Jr(gn.stateNode))return!0;for(gn=gn.child;gn!==null;)an.push(gn),gn=gn.sibling}}return!1},St.getCurrentUpdatePriority=function(){return fs},St.getFindAllNodesFailureDescription=function(sn,an){if(!Ar)throw Error(rn(363));var gn=0,Cn=[];sn=[T1(sn),0];for(var Ln=0;Ln<sn.length;){var $n=sn[Ln++],dr=sn[Ln++],Ir=an[dr];if(($n.tag!==5||!Sr($n))&&(n0($n,Ir)&&(Cn.push(r0(Ir)),dr++,dr>gn&&(gn=dr)),dr<an.length))for($n=$n.child;$n!==null;)sn.push($n,dr),$n=$n.sibling}if(gn<an.length){for(sn=[];gn<an.length;gn++)sn.push(r0(an[gn]));return`findAllNodes was able to match part of the selector:
  `+(Cn.join(" > ")+`

No matching component was found for:
  `)+sn.join(" > ")}return null},St.getPublicRootInstance=function(sn){if(sn=sn.current,!sn.child)return null;switch(sn.child.tag){case 5:return tr(sn.child.stateNode);default:return sn.child.stateNode}},St.injectIntoDevTools=function(sn){if(sn={bundleType:sn.bundleType,version:sn.version,rendererPackageName:sn.rendererPackageName,rendererConfig:sn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:on.ReactCurrentDispatcher,findHostInstanceByFiber:w2,findFiberByHostInstance:sn.findFiberByHostInstance||b2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")sn=!1;else{var an=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(an.isDisabled||!an.supportsFiber)sn=!0;else{try{np=an.inject(sn),Wo=an}catch{}sn=!!an.checkDCE}}return sn},St.isAlreadyRendering=function(){return!1},St.observeVisibleRects=function(sn,an,gn,Cn){if(!Ar)throw Error(rn(363));sn=Np(sn,an);var Ln=ns(sn,gn,Cn).disconnect;return{disconnect:function(){Ln()}}},St.registerMutableSourceForHydration=function(sn,an){var gn=an._getVersion;gn=gn(an._source),sn.mutableSourceEagerHydrationData==null?sn.mutableSourceEagerHydrationData=[an,gn]:sn.mutableSourceEagerHydrationData.push(an,gn)},St.runWithPriority=function(sn,an){var gn=fs;try{return fs=sn,an()}finally{fs=gn}},St.shouldError=function(){return null},St.shouldSuspend=function(){return!1},St.updateContainer=function(sn,an,gn,Cn){var Ln=an.current,$n=Ho(),dr=Zu(Ln);return gn=zm(gn),an.context===null?an.context=gn:an.pendingContext=gn,an=Kl($n,dr),an.payload={element:sn},Cn=Cn===void 0?null:Cn,Cn!==null&&(an.callback=Cn),sn=Ql(Ln,an,dr),sn!==null&&(du(sn,Ln,dr,$n),qo(sn,Ln,dr)),dr},St};(function(_e){_e.exports=reactReconciler_production_min})(reactReconciler);const ReactFiberReconciler=getDefaultExportFromCjs(reactReconciler.exports);var constants={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */reactReconcilerConstants_production_min.ConcurrentRoot=1;reactReconcilerConstants_production_min.ContinuousEventPriority=4;reactReconcilerConstants_production_min.DefaultEventPriority=16;reactReconcilerConstants_production_min.DiscreteEventPriority=1;reactReconcilerConstants_production_min.IdleEventPriority=536870912;reactReconcilerConstants_production_min.LegacyRoot=0;(function(_e){_e.exports=reactReconcilerConstants_production_min})(constants);const propsToSkip={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let zIndexWarningShowed=!1,dragWarningShowed=!1;const EVENTS_NAMESPACE=".react-konva-event",DRAGGABLE_WARNING=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,Z_INDEX_WARNING=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,EMPTY_PROPS={};function applyNodeProps(_e,e,St=EMPTY_PROPS){if(!zIndexWarningShowed&&"zIndex"in e&&(console.warn(Z_INDEX_WARNING),zIndexWarningShowed=!0),!dragWarningShowed&&e.draggable){var en=e.x!==void 0||e.y!==void 0,tn=e.onDragEnd||e.onDragMove;en&&!tn&&(console.warn(DRAGGABLE_WARNING),dragWarningShowed=!0)}for(var nn in St)if(!propsToSkip[nn]){var rn=nn.slice(0,2)==="on",on=St[nn]!==e[nn];if(rn&&on){var un=nn.substr(2).toLowerCase();un.substr(0,7)==="content"&&(un="content"+un.substr(7,1).toUpperCase()+un.substr(8)),_e.off(un,St[nn])}var cn=!e.hasOwnProperty(nn);cn&&_e.setAttr(nn,void 0)}var dn=e._useStrictMode,Sn={},mn=!1;const fn={};for(var nn in e)if(!propsToSkip[nn]){var rn=nn.slice(0,2)==="on",vn=St[nn]!==e[nn];if(rn&&vn){var un=nn.substr(2).toLowerCase();un.substr(0,7)==="content"&&(un="content"+un.substr(7,1).toUpperCase()+un.substr(8)),e[nn]&&(fn[un]=e[nn])}!rn&&(e[nn]!==St[nn]||dn&&e[nn]!==_e.getAttr(nn))&&(mn=!0,Sn[nn]=e[nn])}mn&&(_e.setAttrs(Sn),updatePicture(_e));for(var un in fn)_e.on(un+EVENTS_NAMESPACE,fn[un])}function updatePicture(_e){if(!Konva$1.autoDrawEnabled){var e=_e.getLayer()||_e.getStage();e&&e.batchDraw()}}const NO_CONTEXT={},UPDATE_SIGNAL={};Konva.Node.prototype._applyProps=applyNodeProps;function appendInitialChild(_e,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}_e.add(e),updatePicture(_e)}function createInstance(_e,e,St){let en=Konva[_e];en||(console.error(`Konva has no node with the type ${_e}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${_e}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),en=Konva.Group);const tn={},nn={};for(var rn in e){var on=rn.slice(0,2)==="on";on?nn[rn]=e[rn]:tn[rn]=e[rn]}const un=new en(tn);return applyNodeProps(un,nn),un}function createTextInstance(_e,e,St){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${_e}"`)}function finalizeInitialChildren(_e,e,St){return!1}function getPublicInstance(_e){return _e}function prepareForCommit(){return null}function preparePortalMount(){return null}function prepareUpdate(_e,e,St,en){return UPDATE_SIGNAL}function resetAfterCommit(){}function resetTextContent(_e){}function shouldDeprioritizeSubtree(_e,e){return!1}function getRootHostContext(){return NO_CONTEXT}function getChildHostContext(){return NO_CONTEXT}const scheduleTimeout=setTimeout,cancelTimeout=clearTimeout,noTimeout=-1;function shouldSetTextContent(_e,e){return!1}const isPrimaryRenderer=!1,warnsIfNotActing=!0,supportsMutation=!0;function appendChild(_e,e){e.parent===_e?e.moveToTop():_e.add(e),updatePicture(_e)}function appendChildToContainer(_e,e){e.parent===_e?e.moveToTop():_e.add(e),updatePicture(_e)}function insertBefore(_e,e,St){e._remove(),_e.add(e),e.setZIndex(St.getZIndex()),updatePicture(_e)}function insertInContainerBefore(_e,e,St){insertBefore(_e,e,St)}function removeChild(_e,e){e.destroy(),e.off(EVENTS_NAMESPACE),updatePicture(_e)}function removeChildFromContainer(_e,e){e.destroy(),e.off(EVENTS_NAMESPACE),updatePicture(_e)}function commitTextUpdate(_e,e,St){console.error(`Text components are not yet supported in ReactKonva. You text is: "${St}"`)}function commitMount(_e,e,St){}function commitUpdate(_e,e,St,en,tn){applyNodeProps(_e,tn,en)}function hideInstance(_e){_e.hide(),updatePicture(_e)}function hideTextInstance(_e){}function unhideInstance(_e,e){(e.visible==null||e.visible)&&_e.show()}function unhideTextInstance(_e,e){}function clearContainer(_e){}function detachDeletedInstance(){}const getCurrentEventPriority=()=>constants.exports.DefaultEventPriority,HostConfig=Object.freeze(Object.defineProperty({__proto__:null,appendInitialChild,createInstance,createTextInstance,finalizeInitialChildren,getPublicInstance,prepareForCommit,preparePortalMount,prepareUpdate,resetAfterCommit,resetTextContent,shouldDeprioritizeSubtree,getRootHostContext,getChildHostContext,scheduleTimeout,cancelTimeout,noTimeout,shouldSetTextContent,isPrimaryRenderer,warnsIfNotActing,supportsMutation,appendChild,appendChildToContainer,insertBefore,insertInContainerBefore,removeChild,removeChildFromContainer,commitTextUpdate,commitMount,commitUpdate,hideInstance,hideTextInstance,unhideInstance,unhideTextInstance,clearContainer,detachDeletedInstance,getCurrentEventPriority,now:scheduler.exports.unstable_now,idlePriority:scheduler.exports.unstable_IdlePriority,run:scheduler.exports.unstable_runWithPriority},Symbol.toStringTag,{value:"Module"}));var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=react.exports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n$1=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q$1(_e,e,St){var en,tn={},nn=null,rn=null;St!==void 0&&(nn=""+St),e.key!==void 0&&(nn=""+e.key),e.ref!==void 0&&(rn=e.ref);for(en in e)m$1.call(e,en)&&!p$1.hasOwnProperty(en)&&(tn[en]=e[en]);if(_e&&_e.defaultProps)for(en in e=_e.defaultProps,e)tn[en]===void 0&&(tn[en]=e[en]);return{$$typeof:k$1,type:_e,key:nn,ref:rn,props:tn,_owner:n$1.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;(function(_e){_e.exports=reactJsxRuntime_production_min})(jsxRuntime);const Fragment=jsxRuntime.exports.Fragment,jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs;var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(_e,e,St)=>e in _e?__defProp(_e,e,{enumerable:!0,configurable:!0,writable:!0,value:St}):_e[e]=St,__spreadValues=(_e,e)=>{for(var St in e||(e={}))__hasOwnProp.call(e,St)&&__defNormalProp(_e,St,e[St]);if(__getOwnPropSymbols)for(var St of __getOwnPropSymbols(e))__propIsEnum.call(e,St)&&__defNormalProp(_e,St,e[St]);return _e},__spreadProps=(_e,e)=>__defProps(_e,__getOwnPropDescs(e));function traverseFiber(_e,e,St){if(!_e)return;if(St(_e)===!0)return _e;let en=e?_e.return:_e.child;for(;en;){const tn=traverseFiber(en,e,St);if(tn)return tn;en=e?null:en.sibling}}function wrapContext(_e){try{return Object.defineProperties(_e,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return _e}}const FiberContext=wrapContext(react.exports.createContext(null));class FiberProvider extends react.exports.Component{render(){return jsx(FiberContext.Provider,{value:this._reactInternals,children:this.props.children})}}const{ReactCurrentOwner,ReactCurrentDispatcher}=react.exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function useFiber(){const _e=react.exports.useContext(FiberContext);if(!_e)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=react.exports.useId();return react.exports.useMemo(()=>{var en;return(en=ReactCurrentOwner.current)!=null?en:traverseFiber(_e,!1,tn=>{let nn=tn.memoizedState;for(;nn;){if(nn.memoizedState===e)return!0;nn=nn.next}})},[_e,e])}const contexts=[],values=new WeakMap;function useContextBridge(){var _e;const e=useFiber();contexts.splice(0,contexts.length),traverseFiber(e,!0,St=>{var en;const tn=(en=St.type)==null?void 0:en._context;tn&&tn!==FiberContext&&contexts.push(wrapContext(tn))});for(const St of contexts){const en=(_e=ReactCurrentDispatcher.current)==null?void 0:_e.readContext(St);values.set(St,en)}return react.exports.useMemo(()=>contexts.reduce((St,en)=>tn=>react.exports.createElement(St,null,react.exports.createElement(en.Provider,__spreadProps(__spreadValues({},tn),{value:values.get(en)}))),St=>jsx(FiberProvider,{...__spreadValues({},St)})),[])}function usePrevious(_e){const e=React.useRef();return React.useLayoutEffect(()=>{e.current=_e}),e.current}const StageWrap=_e=>{const e=React.useRef(),St=React.useRef(),en=React.useRef(),tn=usePrevious(_e),nn=useContextBridge(),rn=on=>{const{forwardedRef:un}=_e;!un||(typeof un=="function"?un(on):un.current=on)};return React.useLayoutEffect(()=>(St.current=new Konva.Stage({width:_e.width,height:_e.height,container:e.current}),rn(St.current),en.current=KonvaRenderer.createContainer(St.current,constants.exports.LegacyRoot,!1,null),KonvaRenderer.updateContainer(jsx(nn,{children:_e.children}),en.current),()=>{!Konva.isBrowser||(rn(null),KonvaRenderer.updateContainer(null,en.current,null),St.current.destroy())}),[]),React.useLayoutEffect(()=>{rn(St.current),applyNodeProps(St.current,_e,tn),KonvaRenderer.updateContainer(jsx(nn,{children:_e.children}),en.current,null)}),jsx("div",{ref:e,accessKey:_e.accessKey,className:_e.className,role:_e.role,style:_e.style,tabIndex:_e.tabIndex,title:_e.title})},Layer="Layer",Line="Line",Image$1="Image",Transformer="Transformer",KonvaRenderer=ReactFiberReconciler(HostConfig);KonvaRenderer.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:React.version,rendererPackageName:"react-konva"});const Stage=React.forwardRef((_e,e)=>jsx(FiberProvider,{children:jsx(StageWrap,{..._e,forwardedRef:e})})),scriptRel="modulepreload",assetsURL=function(_e){return"/"+_e},seen={},__vitePreload=function(e,St,en){if(!St||St.length===0)return e();const tn=document.getElementsByTagName("link");return Promise.all(St.map(nn=>{if(nn=assetsURL(nn),nn in seen)return;seen[nn]=!0;const rn=nn.endsWith(".css"),on=rn?'[rel="stylesheet"]':"";if(!!en)for(let dn=tn.length-1;dn>=0;dn--){const Sn=tn[dn];if(Sn.href===nn&&(!rn||Sn.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${nn}"]${on}`))return;const cn=document.createElement("link");if(cn.rel=rn?"stylesheet":scriptRel,rn||(cn.as="script",cn.crossOrigin=""),cn.href=nn,document.head.appendChild(cn),rn)return new Promise((dn,Sn)=>{cn.addEventListener("load",dn),cn.addEventListener("error",()=>Sn(new Error(`Unable to preload CSS for ${nn}`)))})})).then(()=>e())};function _typeof(_e){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(_e)}var u8=Uint8Array,u16=Uint16Array,u32=Uint32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(_e,e){for(var St=new u16(31),en=0;en<31;++en)St[en]=e+=1<<_e[en-1];for(var tn=new u32(St[30]),en=1;en<30;++en)for(var nn=St[en];nn<St[en+1];++nn)tn[nn]=nn-St[en]<<5|en;return[St,tn]},_a=freb(fleb,2),fl=_a[0],revfl=_a[1];fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b[0],revfd=_b[1],rev=new u16(32768);for(var i$1=0;i$1<32768;++i$1){var x$1=(i$1&43690)>>>1|(i$1&21845)<<1;x$1=(x$1&52428)>>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>>4|(x$1&3855)<<4,rev[i$1]=((x$1&65280)>>>8|(x$1&255)<<8)>>>1}var hMap=function(_e,e,St){for(var en=_e.length,tn=0,nn=new u16(e);tn<en;++tn)++nn[_e[tn]-1];var rn=new u16(e);for(tn=0;tn<e;++tn)rn[tn]=rn[tn-1]+nn[tn-1]<<1;var on;if(St){on=new u16(1<<e);var un=15-e;for(tn=0;tn<en;++tn)if(_e[tn])for(var cn=tn<<4|_e[tn],dn=e-_e[tn],Sn=rn[_e[tn]-1]++<<dn,mn=Sn|(1<<dn)-1;Sn<=mn;++Sn)on[rev[Sn]>>>un]=cn}else for(on=new u16(en),tn=0;tn<en;++tn)on[tn]=rev[rn[_e[tn]-1]++]>>>15-_e[tn];return on},flt=new u8(288);for(var i$1=0;i$1<144;++i$1)flt[i$1]=8;for(var i$1=144;i$1<256;++i$1)flt[i$1]=9;for(var i$1=256;i$1<280;++i$1)flt[i$1]=7;for(var i$1=280;i$1<288;++i$1)flt[i$1]=8;var fdt=new u8(32);for(var i$1=0;i$1<32;++i$1)fdt[i$1]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(_e){for(var e=_e[0],St=1;St<_e.length;++St)_e[St]>e&&(e=_e[St]);return e},bits=function(_e,e,St){var en=e/8>>0;return(_e[en]|_e[en+1]<<8)>>>(e&7)&St},bits16=function(_e,e){var St=e/8>>0;return(_e[St]|_e[St+1]<<8|_e[St+2]<<16)>>>(e&7)},shft=function(_e){return(_e/8>>0)+(_e&7&&1)},slc=function(_e,e,St){(e==null||e<0)&&(e=0),(St==null||St>_e.length)&&(St=_e.length);var en=new(_e instanceof u16?u16:_e instanceof u32?u32:u8)(St-e);return en.set(_e.subarray(e,St)),en},inflt=function(_e,e,St){var en=_e.length,tn=!e||St,nn=!St||St.i;St||(St={}),e||(e=new u8(en*3));var rn=function(Hn){var Kn=e.length;if(Hn>Kn){var nr=new u8(Math.max(Kn*2,Hn));nr.set(e),e=nr}},on=St.f||0,un=St.p||0,cn=St.b||0,dn=St.l,Sn=St.d,mn=St.m,fn=St.n,vn=en*8;do{if(!dn){St.f=on=bits(_e,un,1);var bn=bits(_e,un+1,3);if(un+=3,bn)if(bn==1)dn=flrm,Sn=fdrm,mn=9,fn=5;else if(bn==2){var An=bits(_e,un,31)+257,kn=bits(_e,un+10,15)+4,xn=An+bits(_e,un+5,31)+1;un+=14;for(var Pn=new u8(xn),In=new u8(19),On=0;On<kn;++On)In[clim[On]]=bits(_e,un+On*3,7);un+=kn*3;var Wn=max(In),zn=(1<<Wn)-1;if(!nn&&un+xn*(Wn+7)>vn)break;for(var Mn=hMap(In,Wn,1),On=0;On<xn;){var Gn=Mn[bits(_e,un,zn)];un+=Gn&15;var wn=Gn>>>4;if(wn<16)Pn[On++]=wn;else{var er=0,Qn=0;for(wn==16?(Qn=3+bits(_e,un,3),un+=2,er=Pn[On-1]):wn==17?(Qn=3+bits(_e,un,7),un+=3):wn==18&&(Qn=11+bits(_e,un,127),un+=7);Qn--;)Pn[On++]=er}}var ar=Pn.subarray(0,An),tr=Pn.subarray(An);mn=max(ar),fn=max(tr),dn=hMap(ar,mn,1),Sn=hMap(tr,fn,1)}else throw"invalid block type";else{var wn=shft(un)+4,pn=_e[wn-4]|_e[wn-3]<<8,yn=wn+pn;if(yn>en){if(nn)throw"unexpected EOF";break}tn&&rn(cn+pn),e.set(_e.subarray(wn,yn),cn),St.b=cn+=pn,St.p=un=yn*8;continue}if(un>vn)throw"unexpected EOF"}tn&&rn(cn+131072);for(var or=(1<<mn)-1,Yn=(1<<fn)-1,ur=mn+fn+18;nn||un+ur<vn;){var er=dn[bits16(_e,un)&or],pr=er>>>4;if(un+=er&15,un>vn)throw"unexpected EOF";if(!er)throw"invalid length/literal";if(pr<256)e[cn++]=pr;else if(pr==256){dn=null;break}else{var Lr=pr-254;if(pr>264){var On=pr-257,Fn=fleb[On];Lr=bits(_e,un,(1<<Fn)-1)+fl[On],un+=Fn}var Rn=Sn[bits16(_e,un)&Yn],Tn=Rn>>>4;if(!Rn)throw"invalid distance";un+=Rn&15;var tr=fd[Tn];if(Tn>3){var Fn=fdeb[Tn];tr+=bits16(_e,un)&(1<<Fn)-1,un+=Fn}if(un>vn)throw"unexpected EOF";tn&&rn(cn+131072);for(var Bn=cn+Lr;cn<Bn;cn+=4)e[cn]=e[cn-tr],e[cn+1]=e[cn+1-tr],e[cn+2]=e[cn+2-tr],e[cn+3]=e[cn+3-tr];cn=Bn}}St.l=dn,St.p=un,St.b=cn,dn&&(on=1,St.m=mn,St.d=Sn,St.n=fn)}while(!on);return cn==e.length?e:slc(e,0,cn)},wbits=function(_e,e,St){St<<=e&7;var en=e/8>>0;_e[en]|=St,_e[en+1]|=St>>>8},wbits16=function(_e,e,St){St<<=e&7;var en=e/8>>0;_e[en]|=St,_e[en+1]|=St>>>8,_e[en+2]|=St>>>16},hTree=function(_e,e){for(var St=[],en=0;en<_e.length;++en)_e[en]&&St.push({s:en,f:_e[en]});var tn=St.length,nn=St.slice();if(!tn)return[new u8(0),0];if(tn==1){var rn=new u8(St[0].s+1);return rn[St[0].s]=1,[rn,1]}St.sort(function(xn,Pn){return xn.f-Pn.f}),St.push({s:-1,f:25001});var on=St[0],un=St[1],cn=0,dn=1,Sn=2;for(St[0]={s:-1,f:on.f+un.f,l:on,r:un};dn!=tn-1;)on=St[St[cn].f<St[Sn].f?cn++:Sn++],un=St[cn!=dn&&St[cn].f<St[Sn].f?cn++:Sn++],St[dn++]={s:-1,f:on.f+un.f,l:on,r:un};for(var mn=nn[0].s,en=1;en<tn;++en)nn[en].s>mn&&(mn=nn[en].s);var fn=new u16(mn+1),vn=ln(St[dn-1],fn,0);if(vn>e){var en=0,bn=0,wn=vn-e,pn=1<<wn;for(nn.sort(function(Pn,In){return fn[In.s]-fn[Pn.s]||Pn.f-In.f});en<tn;++en){var yn=nn[en].s;if(fn[yn]>e)bn+=pn-(1<<vn-fn[yn]),fn[yn]=e;else break}for(bn>>>=wn;bn>0;){var An=nn[en].s;fn[An]<e?bn-=1<<e-fn[An]++-1:++en}for(;en>=0&&bn;--en){var kn=nn[en].s;fn[kn]==e&&(--fn[kn],++bn)}vn=e}return[new u8(fn),vn]},ln=function(_e,e,St){return _e.s==-1?Math.max(ln(_e.l,e,St+1),ln(_e.r,e,St+1)):e[_e.s]=St},lc=function(_e){for(var e=_e.length;e&&!_e[--e];);for(var St=new u16(++e),en=0,tn=_e[0],nn=1,rn=function(un){St[en++]=un},on=1;on<=e;++on)if(_e[on]==tn&&on!=e)++nn;else{if(!tn&&nn>2){for(;nn>138;nn-=138)rn(32754);nn>2&&(rn(nn>10?nn-11<<5|28690:nn-3<<5|12305),nn=0)}else if(nn>3){for(rn(tn),--nn;nn>6;nn-=6)rn(8304);nn>2&&(rn(nn-3<<5|8208),nn=0)}for(;nn--;)rn(tn);nn=1,tn=_e[on]}return[St.subarray(0,en),e]},clen=function(_e,e){for(var St=0,en=0;en<e.length;++en)St+=_e[en]*e[en];return St},wfblk=function(_e,e,St){var en=St.length,tn=shft(e+2);_e[tn]=en&255,_e[tn+1]=en>>>8,_e[tn+2]=_e[tn]^255,_e[tn+3]=_e[tn+1]^255;for(var nn=0;nn<en;++nn)_e[tn+nn+4]=St[nn];return(tn+4+en)*8},wblk=function(_e,e,St,en,tn,nn,rn,on,un,cn,dn){wbits(e,dn++,St),++tn[256];for(var Sn=hTree(tn,15),mn=Sn[0],fn=Sn[1],vn=hTree(nn,15),bn=vn[0],wn=vn[1],pn=lc(mn),yn=pn[0],An=pn[1],kn=lc(bn),xn=kn[0],Pn=kn[1],In=new u16(19),On=0;On<yn.length;++On)In[yn[On]&31]++;for(var On=0;On<xn.length;++On)In[xn[On]&31]++;for(var Wn=hTree(In,7),zn=Wn[0],Mn=Wn[1],Gn=19;Gn>4&&!zn[clim[Gn-1]];--Gn);var er=cn+5<<3,Qn=clen(tn,flt)+clen(nn,fdt)+rn,ar=clen(tn,mn)+clen(nn,bn)+rn+14+3*Gn+clen(In,zn)+(2*In[16]+3*In[17]+7*In[18]);if(er<=Qn&&er<=ar)return wfblk(e,dn,_e.subarray(un,un+cn));var tr,or,Yn,ur;if(wbits(e,dn,1+(ar<Qn)),dn+=2,ar<Qn){tr=hMap(mn,fn,0),or=mn,Yn=hMap(bn,wn,0),ur=bn;var pr=hMap(zn,Mn,0);wbits(e,dn,An-257),wbits(e,dn+5,Pn-1),wbits(e,dn+10,Gn-4),dn+=14;for(var On=0;On<Gn;++On)wbits(e,dn+3*On,zn[clim[On]]);dn+=3*Gn;for(var Lr=[yn,xn],Fn=0;Fn<2;++Fn)for(var Rn=Lr[Fn],On=0;On<Rn.length;++On){var Tn=Rn[On]&31;wbits(e,dn,pr[Tn]),dn+=zn[Tn],Tn>15&&(wbits(e,dn,Rn[On]>>>5&127),dn+=Rn[On]>>>12)}}else tr=flm,or=flt,Yn=fdm,ur=fdt;for(var On=0;On<on;++On)if(en[On]>255){var Tn=en[On]>>>18&31;wbits16(e,dn,tr[Tn+257]),dn+=or[Tn+257],Tn>7&&(wbits(e,dn,en[On]>>>23&31),dn+=fleb[Tn]);var Bn=en[On]&31;wbits16(e,dn,Yn[Bn]),dn+=ur[Bn],Bn>3&&(wbits16(e,dn,en[On]>>>5&8191),dn+=fdeb[Bn])}else wbits16(e,dn,tr[en[On]]),dn+=or[en[On]];return wbits16(e,dn,tr[256]),dn+or[256]},deo=new u32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(_e,e,St,en,tn,nn){var rn=_e.length,on=new u8(en+rn+5*(1+Math.floor(rn/7e3))+tn),un=on.subarray(en,on.length-tn),cn=0;if(!e||rn<8)for(var dn=0;dn<=rn;dn+=65535){var Sn=dn+65535;Sn<rn?cn=wfblk(un,cn,_e.subarray(dn,Sn)):(un[dn]=nn,cn=wfblk(un,cn,_e.subarray(dn,rn)))}else{for(var mn=deo[e-1],fn=mn>>>13,vn=mn&8191,bn=(1<<St)-1,wn=new u16(32768),pn=new u16(bn+1),yn=Math.ceil(St/3),An=2*yn,kn=function(Un){return(_e[Un]^_e[Un+1]<<yn^_e[Un+2]<<An)&bn},xn=new u32(25e3),Pn=new u16(288),In=new u16(32),On=0,Wn=0,dn=0,zn=0,Mn=0,Gn=0;dn<rn;++dn){var er=kn(dn),Qn=dn&32767,ar=pn[er];if(wn[Qn]=ar,pn[er]=Qn,Mn<=dn){var tr=rn-dn;if((On>7e3||zn>24576)&&tr>423){cn=wblk(_e,un,0,xn,Pn,In,Wn,zn,Gn,dn-Gn,cn),zn=On=Wn=0,Gn=dn;for(var or=0;or<286;++or)Pn[or]=0;for(var or=0;or<30;++or)In[or]=0}var Yn=2,ur=0,pr=vn,Lr=Qn-ar&32767;if(tr>2&&er==kn(dn-Lr))for(var Fn=Math.min(fn,tr)-1,Rn=Math.min(32767,dn),Tn=Math.min(258,tr);Lr<=Rn&&--pr&&Qn!=ar;){if(_e[dn+Yn]==_e[dn+Yn-Lr]){for(var Bn=0;Bn<Tn&&_e[dn+Bn]==_e[dn+Bn-Lr];++Bn);if(Bn>Yn){if(Yn=Bn,ur=Lr,Bn>Fn)break;for(var Hn=Math.min(Lr,Bn-2),Kn=0,or=0;or<Hn;++or){var nr=dn-Lr+or+32768&32767,ir=wn[nr],_r=nr-ir+32768&32767;_r>Kn&&(Kn=_r,ar=nr)}}}Qn=ar,ar=wn[Qn],Lr+=Qn-ar+32768&32767}if(ur){xn[zn++]=268435456|revfl[Yn]<<18|revfd[ur];var Cr=revfl[Yn]&31,br=revfd[ur]&31;Wn+=fleb[Cr]+fdeb[br],++Pn[257+Cr],++In[br],Mn=dn+Yn,++On}else xn[zn++]=_e[dn],++Pn[_e[dn]]}}cn=wblk(_e,un,nn,xn,Pn,In,Wn,zn,Gn,dn-Gn,cn),nn||(cn=wfblk(un,cn,et$1))}return slc(on,0,en+shft(cn)+tn)},adler=function(){var _e=1,e=0;return{p:function(St){for(var en=_e,tn=e,nn=St.length,rn=0;rn!=nn;){for(var on=Math.min(rn+5552,nn);rn<on;++rn)en+=St[rn],tn+=en;en%=65521,tn%=65521}_e=en,e=tn},d:function(){return(_e>>>8<<16|(e&255)<<8|e>>>8)+((_e&255)<<23)*2}}},dopt=function(_e,e,St,en,tn){return dflt(_e,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(_e.length)))*1.5):12+e.mem,St,en,!tn)},wbytes=function(_e,e,St){for(;St;++e)_e[e]=St,St>>>=8},zlh=function(_e,e){var St=e.level,en=St==0?0:St<6?1:St==9?3:2;_e[0]=120,_e[1]=en<<6|(en?32-2*en:1)},zlv=function(_e){if((_e[0]&15)!=8||_e[0]>>>4>7||(_e[0]<<8|_e[1])%31)throw"invalid zlib data";if(_e[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function zlibSync(_e,e){e===void 0&&(e={});var St=adler();St.p(_e);var en=dopt(_e,e,2,4);return zlh(en,e),wbytes(en,en.length-4,St.d()),en}function unzlibSync(_e,e){return inflt((zlv(_e),_e.subarray(2,-4)),e)}var n=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i(){n.console&&typeof n.console.log=="function"&&n.console.log.apply(n.console,arguments)}var a={log:i,warn:function(_e){n.console&&(typeof n.console.warn=="function"?n.console.warn.apply(n.console,arguments):i.call(null,arguments))},error:function(_e){n.console&&(typeof n.console.error=="function"?n.console.error.apply(n.console,arguments):i(_e))}};function o(_e,e,St){var en=new XMLHttpRequest;en.open("GET",_e),en.responseType="blob",en.onload=function(){l(en.response,e,St)},en.onerror=function(){a.error("could not download file")},en.send()}function s(_e){var e=new XMLHttpRequest;e.open("HEAD",_e,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function c(_e){try{_e.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),_e.dispatchEvent(e)}}var u,h,l=n.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==n?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(_e,e,St){var en=n.URL||n.webkitURL,tn=document.createElement("a");e=e||_e.name||"download",tn.download=e,tn.rel="noopener",typeof _e=="string"?(tn.href=_e,tn.origin!==location.origin?s(tn.href)?o(_e,e,St):c(tn,tn.target="_blank"):c(tn)):(tn.href=en.createObjectURL(_e),setTimeout(function(){en.revokeObjectURL(tn.href)},4e4),setTimeout(function(){c(tn)},0))}:"msSaveOrOpenBlob"in navigator?function(_e,e,St){if(e=e||_e.name||"download",typeof _e=="string")if(s(_e))o(_e,e,St);else{var en=document.createElement("a");en.href=_e,en.target="_blank",setTimeout(function(){c(en)})}else navigator.msSaveOrOpenBlob(function(tn,nn){return nn===void 0?nn={autoBom:!1}:_typeof(nn)!=="object"&&(a.warn("Deprecated: Expected third argument to be a object"),nn={autoBom:!nn}),nn.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(tn.type)?new Blob([String.fromCharCode(65279),tn],{type:tn.type}):tn}(_e,St),e)}:function(_e,e,St,en){if((en=en||open("","_blank"))&&(en.document.title=en.document.body.innerText="downloading..."),typeof _e=="string")return o(_e,e,St);var tn=_e.type==="application/octet-stream",nn=/constructor/i.test(n.HTMLElement)||n.safari,rn=/CriOS\/[\d]+/.test(navigator.userAgent);if((rn||tn&&nn)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var on=new FileReader;on.onloadend=function(){var dn=on.result;dn=rn?dn:dn.replace(/^data:[^;]*;/,"data:attachment/file;"),en?en.location.href=dn:location=dn,en=null},on.readAsDataURL(_e)}else{var un=n.URL||n.webkitURL,cn=un.createObjectURL(_e);en?en.location=cn:location.href=cn,en=null,setTimeout(function(){un.revokeObjectURL(cn)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f(_e){var e;_e=_e||"",this.ok=!1,_e.charAt(0)=="#"&&(_e=_e.substr(1,6)),_e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[_e=(_e=_e.replace(/ /g,"")).toLowerCase()]||_e;for(var St=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(on){return[parseInt(on[1]),parseInt(on[2]),parseInt(on[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(on){return[parseInt(on[1],16),parseInt(on[2],16),parseInt(on[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(on){return[parseInt(on[1]+on[1],16),parseInt(on[2]+on[2],16),parseInt(on[3]+on[3],16)]}}],en=0;en<St.length;en++){var tn=St[en].re,nn=St[en].process,rn=tn.exec(_e);rn&&(e=nn(rn),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var on=this.r.toString(16),un=this.g.toString(16),cn=this.b.toString(16);return on.length==1&&(on="0"+on),un.length==1&&(un="0"+un),cn.length==1&&(cn="0"+cn),"#"+on+un+cn}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d(_e,e){var St=_e[0],en=_e[1],tn=_e[2],nn=_e[3];St=g(St,en,tn,nn,e[0],7,-680876936),nn=g(nn,St,en,tn,e[1],12,-389564586),tn=g(tn,nn,St,en,e[2],17,606105819),en=g(en,tn,nn,St,e[3],22,-1044525330),St=g(St,en,tn,nn,e[4],7,-176418897),nn=g(nn,St,en,tn,e[5],12,1200080426),tn=g(tn,nn,St,en,e[6],17,-1473231341),en=g(en,tn,nn,St,e[7],22,-45705983),St=g(St,en,tn,nn,e[8],7,1770035416),nn=g(nn,St,en,tn,e[9],12,-1958414417),tn=g(tn,nn,St,en,e[10],17,-42063),en=g(en,tn,nn,St,e[11],22,-1990404162),St=g(St,en,tn,nn,e[12],7,1804603682),nn=g(nn,St,en,tn,e[13],12,-40341101),tn=g(tn,nn,St,en,e[14],17,-1502002290),St=m(St,en=g(en,tn,nn,St,e[15],22,1236535329),tn,nn,e[1],5,-165796510),nn=m(nn,St,en,tn,e[6],9,-1069501632),tn=m(tn,nn,St,en,e[11],14,643717713),en=m(en,tn,nn,St,e[0],20,-373897302),St=m(St,en,tn,nn,e[5],5,-701558691),nn=m(nn,St,en,tn,e[10],9,38016083),tn=m(tn,nn,St,en,e[15],14,-660478335),en=m(en,tn,nn,St,e[4],20,-405537848),St=m(St,en,tn,nn,e[9],5,568446438),nn=m(nn,St,en,tn,e[14],9,-1019803690),tn=m(tn,nn,St,en,e[3],14,-187363961),en=m(en,tn,nn,St,e[8],20,1163531501),St=m(St,en,tn,nn,e[13],5,-1444681467),nn=m(nn,St,en,tn,e[2],9,-51403784),tn=m(tn,nn,St,en,e[7],14,1735328473),St=v(St,en=m(en,tn,nn,St,e[12],20,-1926607734),tn,nn,e[5],4,-378558),nn=v(nn,St,en,tn,e[8],11,-2022574463),tn=v(tn,nn,St,en,e[11],16,1839030562),en=v(en,tn,nn,St,e[14],23,-35309556),St=v(St,en,tn,nn,e[1],4,-1530992060),nn=v(nn,St,en,tn,e[4],11,1272893353),tn=v(tn,nn,St,en,e[7],16,-155497632),en=v(en,tn,nn,St,e[10],23,-1094730640),St=v(St,en,tn,nn,e[13],4,681279174),nn=v(nn,St,en,tn,e[0],11,-358537222),tn=v(tn,nn,St,en,e[3],16,-722521979),en=v(en,tn,nn,St,e[6],23,76029189),St=v(St,en,tn,nn,e[9],4,-640364487),nn=v(nn,St,en,tn,e[12],11,-421815835),tn=v(tn,nn,St,en,e[15],16,530742520),St=b(St,en=v(en,tn,nn,St,e[2],23,-995338651),tn,nn,e[0],6,-198630844),nn=b(nn,St,en,tn,e[7],10,1126891415),tn=b(tn,nn,St,en,e[14],15,-1416354905),en=b(en,tn,nn,St,e[5],21,-57434055),St=b(St,en,tn,nn,e[12],6,1700485571),nn=b(nn,St,en,tn,e[3],10,-1894986606),tn=b(tn,nn,St,en,e[10],15,-1051523),en=b(en,tn,nn,St,e[1],21,-2054922799),St=b(St,en,tn,nn,e[8],6,1873313359),nn=b(nn,St,en,tn,e[15],10,-30611744),tn=b(tn,nn,St,en,e[6],15,-1560198380),en=b(en,tn,nn,St,e[13],21,1309151649),St=b(St,en,tn,nn,e[4],6,-145523070),nn=b(nn,St,en,tn,e[11],10,-1120210379),tn=b(tn,nn,St,en,e[2],15,718787259),en=b(en,tn,nn,St,e[9],21,-343485551),_e[0]=_(St,_e[0]),_e[1]=_(en,_e[1]),_e[2]=_(tn,_e[2]),_e[3]=_(nn,_e[3])}function p(_e,e,St,en,tn,nn){return e=_(_(e,_e),_(en,nn)),_(e<<tn|e>>>32-tn,St)}function g(_e,e,St,en,tn,nn,rn){return p(e&St|~e&en,_e,e,tn,nn,rn)}function m(_e,e,St,en,tn,nn,rn){return p(e&en|St&~en,_e,e,tn,nn,rn)}function v(_e,e,St,en,tn,nn,rn){return p(e^St^en,_e,e,tn,nn,rn)}function b(_e,e,St,en,tn,nn,rn){return p(St^(e|~en),_e,e,tn,nn,rn)}function y(_e){var e,St=_e.length,en=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=_e.length;e+=64)d(en,w(_e.substring(e-64,e)));_e=_e.substring(e-64);var tn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<_e.length;e++)tn[e>>2]|=_e.charCodeAt(e)<<(e%4<<3);if(tn[e>>2]|=128<<(e%4<<3),e>55)for(d(en,tn),e=0;e<16;e++)tn[e]=0;return tn[14]=8*St,d(en,tn),en}function w(_e){var e,St=[];for(e=0;e<64;e+=4)St[e>>2]=_e.charCodeAt(e)+(_e.charCodeAt(e+1)<<8)+(_e.charCodeAt(e+2)<<16)+(_e.charCodeAt(e+3)<<24);return St}u=n.atob.bind(n),h=n.btoa.bind(n);var N="0123456789abcdef".split("");function L(_e){for(var e="",St=0;St<4;St++)e+=N[_e>>8*St+4&15]+N[_e>>8*St&15];return e}function A(_e){return String.fromCharCode((255&_e)>>0,(65280&_e)>>8,(16711680&_e)>>16,(4278190080&_e)>>24)}function x(_e){return y(_e).map(A).join("")}var S=function(_e){for(var e=0;e<_e.length;e++)_e[e]=L(_e[e]);return _e.join("")}(y("hello"))!="5d41402abc4b2a76b9719d911017c592";function _(_e,e){if(S){var St=(65535&_e)+(65535&e);return(_e>>16)+(e>>16)+(St>>16)<<16|65535&St}return _e+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P(_e,e){var St,en,tn,nn;if(_e!==St){for(var rn=(tn=_e,nn=1+(256/_e.length>>0),new Array(nn+1).join(tn)),on=[],un=0;un<256;un++)on[un]=un;var cn=0;for(un=0;un<256;un++){var dn=on[un];cn=(cn+dn+rn.charCodeAt(un))%256,on[un]=on[cn],on[cn]=dn}St=_e,en=on}else on=en;var Sn=e.length,mn=0,fn=0,vn="";for(un=0;un<Sn;un++)fn=(fn+(dn=on[mn=(mn+1)%256]))%256,on[mn]=on[fn],on[fn]=dn,rn=on[(on[mn]+on[fn])%256],vn+=String.fromCharCode(e.charCodeAt(un)^rn);return vn}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k={print:4,modify:8,copy:16,"annot-forms":32};function I(_e,e,St,en){this.v=1,this.r=2;var tn=192;_e.forEach(function(on){if(k.perm!==void 0)throw new Error("Invalid permission: "+on);tn+=k[on]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var nn=(e+this.padding).substr(0,32),rn=(St+this.padding).substr(0,32);this.O=this.processOwnerPassword(nn,rn),this.P=-(1+(255^tn)),this.encryptionKey=x(nn+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(en)).substr(0,5),this.U=P(this.encryptionKey,this.padding)}function F(_e){if(/[^\u0000-\u00ff]/.test(_e))throw new Error("Invalid PDF Name Object: "+_e+", Only accept ASCII characters.");for(var e="",St=_e.length,en=0;en<St;en++){var tn=_e.charCodeAt(en);tn<33||tn===35||tn===37||tn===40||tn===41||tn===47||tn===60||tn===62||tn===91||tn===93||tn===123||tn===125||tn>126?e+="#"+("0"+tn.toString(16)).slice(-2):e+=_e[en]}return e}function C(_e){if(_typeof(_e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(St,en,tn){if(tn=tn||!1,typeof St!="string"||typeof en!="function"||typeof tn!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(St)||(e[St]={});var nn=Math.random().toString(35);return e[St][nn]=[en,!!tn],nn},this.unsubscribe=function(St){for(var en in e)if(e[en][St])return delete e[en][St],Object.keys(e[en]).length===0&&delete e[en],!0;return!1},this.publish=function(St){if(e.hasOwnProperty(St)){var en=Array.prototype.slice.call(arguments,1),tn=[];for(var nn in e[St]){var rn=e[St][nn];try{rn[0].apply(_e,en)}catch(on){n.console&&a.error("jsPDF PubSub Error",on.message,on)}rn[1]&&tn.push(nn)}tn.length&&tn.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function j(_e){if(!(this instanceof j))return new j(_e);var e="opacity,stroke-opacity".split(",");for(var St in _e)_e.hasOwnProperty(St)&&e.indexOf(St)>=0&&(this[St]=_e[St]);this.id="",this.objectNumber=-1}function O(_e,e){this.gState=_e,this.matrix=e,this.id="",this.objectNumber=-1}function B(_e,e,St,en,tn){if(!(this instanceof B))return new B(_e,e,St,en,tn);this.type=_e==="axial"?2:3,this.coords=e,this.colors=St,O.call(this,en,tn)}function M(_e,e,St,en,tn){if(!(this instanceof M))return new M(_e,e,St,en,tn);this.boundingBox=_e,this.xStep=e,this.yStep=St,this.stream="",this.cloneIndex=0,O.call(this,en,tn)}function E(_e){var e,St=typeof arguments[0]=="string"?arguments[0]:"p",en=arguments[1],tn=arguments[2],nn=arguments[3],rn=[],on=1,un=16,cn="S",dn=null;_typeof(_e=_e||{})==="object"&&(St=_e.orientation,en=_e.unit||en,tn=_e.format||tn,nn=_e.compress||_e.compressPdf||nn,(dn=_e.encryption||null)!==null&&(dn.userPassword=dn.userPassword||"",dn.ownerPassword=dn.ownerPassword||"",dn.userPermissions=dn.userPermissions||[]),on=typeof _e.userUnit=="number"?Math.abs(_e.userUnit):1,_e.precision!==void 0&&(e=_e.precision),_e.floatPrecision!==void 0&&(un=_e.floatPrecision),cn=_e.defaultPathOperation||"S"),rn=_e.filters||(nn===!0?["FlateEncode"]:rn),en=en||"mm",St=(""+(St||"P")).toLowerCase();var Sn=_e.putOnlyUsedFonts||!1,mn={},fn={internal:{},__private__:{}};fn.__private__.PubSub=C;var vn="1.3",bn=fn.__private__.getPdfVersion=function(){return vn};fn.__private__.setPdfVersion=function(En){vn=En};var wn={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};fn.__private__.getPageFormats=function(){return wn};var pn=fn.__private__.getPageFormat=function(En){return wn[En]};tn=tn||"a4";var yn={COMPAT:"compat",ADVANCED:"advanced"},An=yn.COMPAT;function kn(){this.saveGraphicsState(),Dn(new ms(Qr,0,0,-Qr,0,Tu()*Qr).toString()+" cm"),this.setFontSize(this.getFontSize()/Qr),cn="n",An=yn.ADVANCED}function xn(){this.restoreGraphicsState(),cn="S",An=yn.COMPAT}var Pn=fn.__private__.combineFontStyleAndFontWeight=function(En,Xn){if(En=="bold"&&Xn=="normal"||En=="bold"&&Xn==400||En=="normal"&&Xn=="italic"||En=="bold"&&Xn=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Xn&&(En=Xn==400||Xn==="normal"?En==="italic"?"italic":"normal":Xn!=700&&Xn!=="bold"||En!=="normal"?(Xn==700?"bold":Xn)+""+En:"bold"),En};fn.advancedAPI=function(En){var Xn=An===yn.COMPAT;return Xn&&kn.call(this),typeof En!="function"||(En(this),Xn&&xn.call(this)),this},fn.compatAPI=function(En){var Xn=An===yn.ADVANCED;return Xn&&xn.call(this),typeof En!="function"||(En(this),Xn&&kn.call(this)),this},fn.isAdvancedAPI=function(){return An===yn.ADVANCED};var In,On=function(En){if(An!==yn.ADVANCED)throw new Error(En+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Wn=fn.roundToPrecision=fn.__private__.roundToPrecision=function(En,Xn){var vr=e||Xn;if(isNaN(En)||isNaN(vr))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return En.toFixed(vr).replace(/0+$/,"")};In=fn.hpf=fn.__private__.hpf=typeof un=="number"?function(En){if(isNaN(En))throw new Error("Invalid argument passed to jsPDF.hpf");return Wn(En,un)}:un==="smart"?function(En){if(isNaN(En))throw new Error("Invalid argument passed to jsPDF.hpf");return Wn(En,En>-1&&En<1?16:5)}:function(En){if(isNaN(En))throw new Error("Invalid argument passed to jsPDF.hpf");return Wn(En,16)};var zn=fn.f2=fn.__private__.f2=function(En){if(isNaN(En))throw new Error("Invalid argument passed to jsPDF.f2");return Wn(En,2)},Mn=fn.__private__.f3=function(En){if(isNaN(En))throw new Error("Invalid argument passed to jsPDF.f3");return Wn(En,3)},Gn=fn.scale=fn.__private__.scale=function(En){if(isNaN(En))throw new Error("Invalid argument passed to jsPDF.scale");return An===yn.COMPAT?En*Qr:An===yn.ADVANCED?En:void 0},er=function(En){return An===yn.COMPAT?Tu()-En:An===yn.ADVANCED?En:void 0},Qn=function(En){return Gn(er(En))};fn.__private__.setPrecision=fn.setPrecision=function(En){typeof parseInt(En,10)=="number"&&(e=parseInt(En,10))};var ar,tr="00000000000000000000000000000000",or=fn.__private__.getFileId=function(){return tr},Yn=fn.__private__.setFileId=function(En){return tr=En!==void 0&&/^[a-fA-F0-9]{32}$/.test(En)?En.toUpperCase():tr.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),dn!==null&&(To=new I(dn.userPermissions,dn.userPassword,dn.ownerPassword,tr)),tr};fn.setFileId=function(En){return Yn(En),this},fn.getFileId=function(){return or()};var ur=fn.__private__.convertDateToPDFDate=function(En){var Xn=En.getTimezoneOffset(),vr=Xn<0?"+":"-",Nr=Math.floor(Math.abs(Xn/60)),Br=Math.abs(Xn%60),Vr=[vr,Tn(Nr),"'",Tn(Br),"'"].join("");return["D:",En.getFullYear(),Tn(En.getMonth()+1),Tn(En.getDate()),Tn(En.getHours()),Tn(En.getMinutes()),Tn(En.getSeconds()),Vr].join("")},pr=fn.__private__.convertPDFDateToDate=function(En){var Xn=parseInt(En.substr(2,4),10),vr=parseInt(En.substr(6,2),10)-1,Nr=parseInt(En.substr(8,2),10),Br=parseInt(En.substr(10,2),10),Vr=parseInt(En.substr(12,2),10),is=parseInt(En.substr(14,2),10);return new Date(Xn,vr,Nr,Br,Vr,is,0)},Lr=fn.__private__.setCreationDate=function(En){var Xn;if(En===void 0&&(En=new Date),En instanceof Date)Xn=ur(En);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(En))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Xn=En}return ar=Xn},Fn=fn.__private__.getCreationDate=function(En){var Xn=ar;return En==="jsDate"&&(Xn=pr(ar)),Xn};fn.setCreationDate=function(En){return Lr(En),this},fn.getCreationDate=function(En){return Fn(En)};var Rn,Tn=fn.__private__.padd2=function(En){return("0"+parseInt(En)).slice(-2)},Bn=fn.__private__.padd2Hex=function(En){return("00"+(En=En.toString())).substr(En.length)},Hn=0,Kn=[],nr=[],ir=0,_r=[],Cr=[],br=!1,xr=nr,Un=function(){Hn=0,ir=0,nr=[],Kn=[],_r=[],Po=Ks(),No=Ks()};fn.__private__.setCustomOutputDestination=function(En){br=!0,xr=En};var qn=function(En){br||(xr=En)};fn.__private__.resetCustomOutputDestination=function(){br=!1,xr=nr};var Dn=fn.__private__.out=function(En){return En=En.toString(),ir+=En.length+1,xr.push(En),xr},lr=fn.__private__.write=function(En){return Dn(arguments.length===1?En.toString():Array.prototype.join.call(arguments," "))},cr=fn.__private__.getArrayBuffer=function(En){for(var Xn=En.length,vr=new ArrayBuffer(Xn),Nr=new Uint8Array(vr);Xn--;)Nr[Xn]=En.charCodeAt(Xn);return vr},hr=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];fn.__private__.getStandardFonts=function(){return hr};var Ar=_e.fontSize||16;fn.__private__.setFontSize=fn.setFontSize=function(En){return Ar=An===yn.ADVANCED?En/Qr:En,this};var Fr,Pr=fn.__private__.getFontSize=fn.getFontSize=function(){return An===yn.COMPAT?Ar:Ar*Qr},Gr=_e.R2L||!1;fn.__private__.setR2L=fn.setR2L=function(En){return Gr=En,this},fn.__private__.getR2L=fn.getR2L=function(){return Gr};var Sr,Wr=fn.__private__.setZoomMode=function(En){var Xn=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(En))Fr=En;else if(isNaN(En)){if(Xn.indexOf(En)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+En+'" is not recognized.');Fr=En}else Fr=parseInt(En,10)};fn.__private__.getZoomMode=function(){return Fr};var Jr,ns=fn.__private__.setPageMode=function(En){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(En)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+En+'" is not recognized.');Sr=En};fn.__private__.getPageMode=function(){return Sr};var Er=fn.__private__.setLayoutMode=function(En){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(En)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+En+'" is not recognized.');Jr=En};fn.__private__.getLayoutMode=function(){return Jr},fn.__private__.setDisplayMode=fn.setDisplayMode=function(En,Xn,vr){return Wr(En),Er(Xn),ns(vr),this};var zr={title:"",subject:"",author:"",keywords:"",creator:""};fn.__private__.getDocumentProperty=function(En){if(Object.keys(zr).indexOf(En)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return zr[En]},fn.__private__.getDocumentProperties=function(){return zr},fn.__private__.setDocumentProperties=fn.setProperties=fn.setDocumentProperties=function(En){for(var Xn in zr)zr.hasOwnProperty(Xn)&&En[Xn]&&(zr[Xn]=En[Xn]);return this},fn.__private__.setDocumentProperty=function(En,Xn){if(Object.keys(zr).indexOf(En)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return zr[En]=Xn};var rs,Qr,ks,ys,ws,Bs={},io={},yr=[],gr={},wr={},Kr={},ls={},bs=null,as=0,ss=[],_s=new C(fn),Ms=_e.hotfixes||[],Ps={},Us={},Ns=[],ms=function En(Xn,vr,Nr,Br,Vr,is){if(!(this instanceof En))return new En(Xn,vr,Nr,Br,Vr,is);isNaN(Xn)&&(Xn=1),isNaN(vr)&&(vr=0),isNaN(Nr)&&(Nr=0),isNaN(Br)&&(Br=1),isNaN(Vr)&&(Vr=0),isNaN(is)&&(is=0),this._matrix=[Xn,vr,Nr,Br,Vr,is]};Object.defineProperty(ms.prototype,"sx",{get:function(){return this._matrix[0]},set:function(En){this._matrix[0]=En}}),Object.defineProperty(ms.prototype,"shy",{get:function(){return this._matrix[1]},set:function(En){this._matrix[1]=En}}),Object.defineProperty(ms.prototype,"shx",{get:function(){return this._matrix[2]},set:function(En){this._matrix[2]=En}}),Object.defineProperty(ms.prototype,"sy",{get:function(){return this._matrix[3]},set:function(En){this._matrix[3]=En}}),Object.defineProperty(ms.prototype,"tx",{get:function(){return this._matrix[4]},set:function(En){this._matrix[4]=En}}),Object.defineProperty(ms.prototype,"ty",{get:function(){return this._matrix[5]},set:function(En){this._matrix[5]=En}}),Object.defineProperty(ms.prototype,"a",{get:function(){return this._matrix[0]},set:function(En){this._matrix[0]=En}}),Object.defineProperty(ms.prototype,"b",{get:function(){return this._matrix[1]},set:function(En){this._matrix[1]=En}}),Object.defineProperty(ms.prototype,"c",{get:function(){return this._matrix[2]},set:function(En){this._matrix[2]=En}}),Object.defineProperty(ms.prototype,"d",{get:function(){return this._matrix[3]},set:function(En){this._matrix[3]=En}}),Object.defineProperty(ms.prototype,"e",{get:function(){return this._matrix[4]},set:function(En){this._matrix[4]=En}}),Object.defineProperty(ms.prototype,"f",{get:function(){return this._matrix[5]},set:function(En){this._matrix[5]=En}}),Object.defineProperty(ms.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ms.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ms.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ms.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ms.prototype.join=function(En){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(In).join(En)},ms.prototype.multiply=function(En){var Xn=En.sx*this.sx+En.shy*this.shx,vr=En.sx*this.shy+En.shy*this.sy,Nr=En.shx*this.sx+En.sy*this.shx,Br=En.shx*this.shy+En.sy*this.sy,Vr=En.tx*this.sx+En.ty*this.shx+this.tx,is=En.tx*this.shy+En.ty*this.sy+this.ty;return new ms(Xn,vr,Nr,Br,Vr,is)},ms.prototype.decompose=function(){var En=this.sx,Xn=this.shy,vr=this.shx,Nr=this.sy,Br=this.tx,Vr=this.ty,is=Math.sqrt(En*En+Xn*Xn),us=(En/=is)*vr+(Xn/=is)*Nr;vr-=En*us,Nr-=Xn*us;var xs=Math.sqrt(vr*vr+Nr*Nr);return us/=xs,En*(Nr/=xs)<Xn*(vr/=xs)&&(En=-En,Xn=-Xn,us=-us,is=-is),{scale:new ms(is,0,0,xs,0,0),translate:new ms(1,0,0,1,Br,Vr),rotate:new ms(En,Xn,-Xn,En,0,0),skew:new ms(1,0,us,1,0,0)}},ms.prototype.toString=function(En){return this.join(" ")},ms.prototype.inversed=function(){var En=this.sx,Xn=this.shy,vr=this.shx,Nr=this.sy,Br=this.tx,Vr=this.ty,is=1/(En*Nr-Xn*vr),us=Nr*is,xs=-Xn*is,Ls=-vr*is,Rs=En*is;return new ms(us,xs,Ls,Rs,-us*Br-Ls*Vr,-xs*Br-Rs*Vr)},ms.prototype.applyToPoint=function(En){var Xn=En.x*this.sx+En.y*this.shx+this.tx,vr=En.x*this.shy+En.y*this.sy+this.ty;return new Do(Xn,vr)},ms.prototype.applyToRectangle=function(En){var Xn=this.applyToPoint(En),vr=this.applyToPoint(new Do(En.x+En.w,En.y+En.h));return new Yo(Xn.x,Xn.y,vr.x-Xn.x,vr.y-Xn.y)},ms.prototype.clone=function(){var En=this.sx,Xn=this.shy,vr=this.shx,Nr=this.sy,Br=this.tx,Vr=this.ty;return new ms(En,Xn,vr,Nr,Br,Vr)},fn.Matrix=ms;var Os=fn.matrixMult=function(En,Xn){return Xn.multiply(En)},so=new ms(1,0,0,1,0,0);fn.unitMatrix=fn.identityMatrix=so;var Ys=function(En,Xn){if(!wr[En]){var vr=(Xn instanceof B?"Sh":"P")+(Object.keys(gr).length+1).toString(10);Xn.id=vr,wr[En]=vr,gr[vr]=Xn,_s.publish("addPattern",Xn)}};fn.ShadingPattern=B,fn.TilingPattern=M,fn.addShadingPattern=function(En,Xn){return On("addShadingPattern()"),Ys(En,Xn),this},fn.beginTilingPattern=function(En){On("beginTilingPattern()"),ip(En.boundingBox[0],En.boundingBox[1],En.boundingBox[2]-En.boundingBox[0],En.boundingBox[3]-En.boundingBox[1],En.matrix)},fn.endTilingPattern=function(En,Xn){On("endTilingPattern()"),Xn.stream=Cr[Rn].join(`
`),Ys(En,Xn),_s.publish("endTilingPattern",Xn),Ns.pop().restore()};var js=fn.__private__.newObject=function(){var En=Ks();return co(En,!0),En},Ks=fn.__private__.newObjectDeferred=function(){return Hn++,Kn[Hn]=function(){return ir},Hn},co=function(En,Xn){return Xn=typeof Xn=="boolean"&&Xn,Kn[En]=ir,Xn&&Dn(En+" 0 obj"),En},eo=fn.__private__.newAdditionalObject=function(){var En={objId:Ks(),content:""};return _r.push(En),En},Po=Ks(),No=Ks(),$o=fn.__private__.decodeColorString=function(En){var Xn=En.split(" ");if(Xn.length!==2||Xn[1]!=="g"&&Xn[1]!=="G")Xn.length===5&&(Xn[4]==="k"||Xn[4]==="K")&&(Xn=[(1-Xn[0])*(1-Xn[3]),(1-Xn[1])*(1-Xn[3]),(1-Xn[2])*(1-Xn[3]),"r"]);else{var vr=parseFloat(Xn[0]);Xn=[vr,vr,vr,"r"]}for(var Nr="#",Br=0;Br<3;Br++)Nr+=("0"+Math.floor(255*parseFloat(Xn[Br])).toString(16)).slice(-2);return Nr},Tl=fn.__private__.encodeColorString=function(En){var Xn;typeof En=="string"&&(En={ch1:En});var vr=En.ch1,Nr=En.ch2,Br=En.ch3,Vr=En.ch4,is=En.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof vr=="string"&&vr.charAt(0)!=="#"){var us=new f(vr);if(us.ok)vr=us.toHex();else if(!/^\d*\.?\d*$/.test(vr))throw new Error('Invalid color "'+vr+'" passed to jsPDF.encodeColorString.')}if(typeof vr=="string"&&/^#[0-9A-Fa-f]{3}$/.test(vr)&&(vr="#"+vr[1]+vr[1]+vr[2]+vr[2]+vr[3]+vr[3]),typeof vr=="string"&&/^#[0-9A-Fa-f]{6}$/.test(vr)){var xs=parseInt(vr.substr(1),16);vr=xs>>16&255,Nr=xs>>8&255,Br=255&xs}if(Nr===void 0||Vr===void 0&&vr===Nr&&Nr===Br)if(typeof vr=="string")Xn=vr+" "+is[0];else switch(En.precision){case 2:Xn=zn(vr/255)+" "+is[0];break;case 3:default:Xn=Mn(vr/255)+" "+is[0]}else if(Vr===void 0||_typeof(Vr)==="object"){if(Vr&&!isNaN(Vr.a)&&Vr.a===0)return Xn=["1.","1.","1.",is[1]].join(" ");if(typeof vr=="string")Xn=[vr,Nr,Br,is[1]].join(" ");else switch(En.precision){case 2:Xn=[zn(vr/255),zn(Nr/255),zn(Br/255),is[1]].join(" ");break;default:case 3:Xn=[Mn(vr/255),Mn(Nr/255),Mn(Br/255),is[1]].join(" ")}}else if(typeof vr=="string")Xn=[vr,Nr,Br,Vr,is[2]].join(" ");else switch(En.precision){case 2:Xn=[zn(vr),zn(Nr),zn(Br),zn(Vr),is[2]].join(" ");break;case 3:default:Xn=[Mn(vr),Mn(Nr),Mn(Br),Mn(Vr),is[2]].join(" ")}return Xn},xu=fn.__private__.getFilters=function(){return rn},su=fn.__private__.putStream=function(En){var Xn=(En=En||{}).data||"",vr=En.filters||xu(),Nr=En.alreadyAppliedFilters||[],Br=En.addLength1||!1,Vr=Xn.length,is=En.objectId,us=function(jo){return jo};if(dn!==null&&is===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");dn!==null&&(us=To.encryptor(is,0));var xs={};vr===!0&&(vr=["FlateEncode"]);var Ls=En.additionalKeyValues||[],Rs=(xs=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(Xn,vr):{data:Xn,reverseChain:[]}).reverseChain+(Array.isArray(Nr)?Nr.join(" "):Nr.toString());if(xs.data.length!==0&&(Ls.push({key:"Length",value:xs.data.length}),Br===!0&&Ls.push({key:"Length1",value:Vr})),Rs.length!=0)if(Rs.split("/").length-1==1)Ls.push({key:"Filter",value:Rs});else{Ls.push({key:"Filter",value:"["+Rs+"]"});for(var Vs=0;Vs<Ls.length;Vs+=1)if(Ls[Vs].key==="DecodeParms"){for(var lo=[],fo=0;fo<xs.reverseChain.split("/").length-1;fo+=1)lo.push("null");lo.push(Ls[Vs].value),Ls[Vs].value="["+lo.join(" ")+"]"}}Dn("<<");for(var _o=0;_o<Ls.length;_o++)Dn("/"+Ls[_o].key+" "+Ls[_o].value);Dn(">>"),xs.data.length!==0&&(Dn("stream"),Dn(us(xs.data)),Dn("endstream"))},Cu=fn.__private__.putPage=function(En){var Xn=En.number,vr=En.data,Nr=En.objId,Br=En.contentsObjId;co(Nr,!0),Dn("<</Type /Page"),Dn("/Parent "+En.rootDictionaryObjId+" 0 R"),Dn("/Resources "+En.resourceDictionaryObjId+" 0 R"),Dn("/MediaBox ["+parseFloat(In(En.mediaBox.bottomLeftX))+" "+parseFloat(In(En.mediaBox.bottomLeftY))+" "+In(En.mediaBox.topRightX)+" "+In(En.mediaBox.topRightY)+"]"),En.cropBox!==null&&Dn("/CropBox ["+In(En.cropBox.bottomLeftX)+" "+In(En.cropBox.bottomLeftY)+" "+In(En.cropBox.topRightX)+" "+In(En.cropBox.topRightY)+"]"),En.bleedBox!==null&&Dn("/BleedBox ["+In(En.bleedBox.bottomLeftX)+" "+In(En.bleedBox.bottomLeftY)+" "+In(En.bleedBox.topRightX)+" "+In(En.bleedBox.topRightY)+"]"),En.trimBox!==null&&Dn("/TrimBox ["+In(En.trimBox.bottomLeftX)+" "+In(En.trimBox.bottomLeftY)+" "+In(En.trimBox.topRightX)+" "+In(En.trimBox.topRightY)+"]"),En.artBox!==null&&Dn("/ArtBox ["+In(En.artBox.bottomLeftX)+" "+In(En.artBox.bottomLeftY)+" "+In(En.artBox.topRightX)+" "+In(En.artBox.topRightY)+"]"),typeof En.userUnit=="number"&&En.userUnit!==1&&Dn("/UserUnit "+En.userUnit),_s.publish("putPage",{objId:Nr,pageContext:ss[Xn],pageNumber:Xn,page:vr}),Dn("/Contents "+Br+" 0 R"),Dn(">>"),Dn("endobj");var Vr=vr.join(`
`);return An===yn.ADVANCED&&(Vr+=`
Q`),co(Br,!0),su({data:Vr,filters:xu(),objectId:Br}),Dn("endobj"),Nr},pp=fn.__private__.putPages=function(){var En,Xn,vr=[];for(En=1;En<=as;En++)ss[En].objId=Ks(),ss[En].contentsObjId=Ks();for(En=1;En<=as;En++)vr.push(Cu({number:En,data:Cr[En],objId:ss[En].objId,contentsObjId:ss[En].contentsObjId,mediaBox:ss[En].mediaBox,cropBox:ss[En].cropBox,bleedBox:ss[En].bleedBox,trimBox:ss[En].trimBox,artBox:ss[En].artBox,userUnit:ss[En].userUnit,rootDictionaryObjId:Po,resourceDictionaryObjId:No}));co(Po,!0),Dn("<</Type /Pages");var Nr="/Kids [";for(Xn=0;Xn<as;Xn++)Nr+=vr[Xn]+" 0 R ";Dn(Nr+"]"),Dn("/Count "+as),Dn(">>"),Dn("endobj"),_s.publish("postPutPages")},Op=function(En){_s.publish("putFont",{font:En,out:Dn,newObject:js,putStream:su}),En.isAlreadyPutted!==!0&&(En.objectNumber=js(),Dn("<<"),Dn("/Type /Font"),Dn("/BaseFont /"+F(En.postScriptName)),Dn("/Subtype /Type1"),typeof En.encoding=="string"&&Dn("/Encoding /"+En.encoding),Dn("/FirstChar 32"),Dn("/LastChar 255"),Dn(">>"),Dn("endobj"))},Ip=function(){for(var En in Bs)Bs.hasOwnProperty(En)&&(Sn===!1||Sn===!0&&mn.hasOwnProperty(En))&&Op(Bs[En])},Dp=function(En){En.objectNumber=js();var Xn=[];Xn.push({key:"Type",value:"/XObject"}),Xn.push({key:"Subtype",value:"/Form"}),Xn.push({key:"BBox",value:"["+[In(En.x),In(En.y),In(En.x+En.width),In(En.y+En.height)].join(" ")+"]"}),Xn.push({key:"Matrix",value:"["+En.matrix.toString()+"]"});var vr=En.pages[1].join(`
`);su({data:vr,additionalKeyValues:Xn,objectId:En.objectNumber}),Dn("endobj")},jp=function(){for(var En in Ps)Ps.hasOwnProperty(En)&&Dp(Ps[En])},j1=function(En,Xn){var vr,Nr=[],Br=1/(Xn-1);for(vr=0;vr<1;vr+=Br)Nr.push(vr);if(Nr.push(1),En[0].offset!=0){var Vr={offset:0,color:En[0].color};En.unshift(Vr)}if(En[En.length-1].offset!=1){var is={offset:1,color:En[En.length-1].color};En.push(is)}for(var us="",xs=0,Ls=0;Ls<Nr.length;Ls++){for(vr=Nr[Ls];vr>En[xs+1].offset;)xs++;var Rs=En[xs].offset,Vs=(vr-Rs)/(En[xs+1].offset-Rs),lo=En[xs].color,fo=En[xs+1].color;us+=Bn(Math.round((1-Vs)*lo[0]+Vs*fo[0]).toString(16))+Bn(Math.round((1-Vs)*lo[1]+Vs*fo[1]).toString(16))+Bn(Math.round((1-Vs)*lo[2]+Vs*fo[2]).toString(16))}return us.trim()},d0=function(En,Xn){Xn||(Xn=21);var vr=js(),Nr=j1(En.colors,Xn),Br=[];Br.push({key:"FunctionType",value:"0"}),Br.push({key:"Domain",value:"[0.0 1.0]"}),Br.push({key:"Size",value:"["+Xn+"]"}),Br.push({key:"BitsPerSample",value:"8"}),Br.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Br.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),su({data:Nr,additionalKeyValues:Br,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:vr}),Dn("endobj"),En.objectNumber=js(),Dn("<< /ShadingType "+En.type),Dn("/ColorSpace /DeviceRGB");var Vr="/Coords ["+In(parseFloat(En.coords[0]))+" "+In(parseFloat(En.coords[1]))+" ";En.type===2?Vr+=In(parseFloat(En.coords[2]))+" "+In(parseFloat(En.coords[3])):Vr+=In(parseFloat(En.coords[2]))+" "+In(parseFloat(En.coords[3]))+" "+In(parseFloat(En.coords[4]))+" "+In(parseFloat(En.coords[5])),Dn(Vr+="]"),En.matrix&&Dn("/Matrix ["+En.matrix.toString()+"]"),Dn("/Function "+vr+" 0 R"),Dn("/Extend [true true]"),Dn(">>"),Dn("endobj")},f1=function(En,Xn){var vr=Ks(),Nr=js();Xn.push({resourcesOid:vr,objectOid:Nr}),En.objectNumber=Nr;var Br=[];Br.push({key:"Type",value:"/Pattern"}),Br.push({key:"PatternType",value:"1"}),Br.push({key:"PaintType",value:"1"}),Br.push({key:"TilingType",value:"1"}),Br.push({key:"BBox",value:"["+En.boundingBox.map(In).join(" ")+"]"}),Br.push({key:"XStep",value:In(En.xStep)}),Br.push({key:"YStep",value:In(En.yStep)}),Br.push({key:"Resources",value:vr+" 0 R"}),En.matrix&&Br.push({key:"Matrix",value:"["+En.matrix.toString()+"]"}),su({data:En.stream,additionalKeyValues:Br,objectId:En.objectNumber}),Dn("endobj")},Eu=function(En){var Xn;for(Xn in gr)gr.hasOwnProperty(Xn)&&(gr[Xn]instanceof B?d0(gr[Xn]):gr[Xn]instanceof M&&f1(gr[Xn],En))},Bp=function(En){for(var Xn in En.objectNumber=js(),Dn("<<"),En)switch(Xn){case"opacity":Dn("/ca "+zn(En[Xn]));break;case"stroke-opacity":Dn("/CA "+zn(En[Xn]))}Dn(">>"),Dn("endobj")},p1=function(){var En;for(En in Kr)Kr.hasOwnProperty(En)&&Bp(Kr[En])},g1=function(){for(var En in Dn("/XObject <<"),Ps)Ps.hasOwnProperty(En)&&Ps[En].objectNumber>=0&&Dn("/"+En+" "+Ps[En].objectNumber+" 0 R");_s.publish("putXobjectDict"),Dn(">>")},m1=function(){To.oid=js(),Dn("<<"),Dn("/Filter /Standard"),Dn("/V "+To.v),Dn("/R "+To.r),Dn("/U <"+To.toHexString(To.U)+">"),Dn("/O <"+To.toHexString(To.O)+">"),Dn("/P "+To.P),Dn(">>"),Dn("endobj")},$u=function(){for(var En in Dn("/Font <<"),Bs)Bs.hasOwnProperty(En)&&(Sn===!1||Sn===!0&&mn.hasOwnProperty(En))&&Dn("/"+En+" "+Bs[En].objectNumber+" 0 R");Dn(">>")},ku=function(){if(Object.keys(gr).length>0){for(var En in Dn("/Shading <<"),gr)gr.hasOwnProperty(En)&&gr[En]instanceof B&&gr[En].objectNumber>=0&&Dn("/"+En+" "+gr[En].objectNumber+" 0 R");_s.publish("putShadingPatternDict"),Dn(">>")}},Qs=function(En){if(Object.keys(gr).length>0){for(var Xn in Dn("/Pattern <<"),gr)gr.hasOwnProperty(Xn)&&gr[Xn]instanceof fn.TilingPattern&&gr[Xn].objectNumber>=0&&gr[Xn].objectNumber<En&&Dn("/"+Xn+" "+gr[Xn].objectNumber+" 0 R");_s.publish("putTilingPatternDict"),Dn(">>")}},to=function(){if(Object.keys(Kr).length>0){var En;for(En in Dn("/ExtGState <<"),Kr)Kr.hasOwnProperty(En)&&Kr[En].objectNumber>=0&&Dn("/"+En+" "+Kr[En].objectNumber+" 0 R");_s.publish("putGStateDict"),Dn(">>")}},no=function(En){co(En.resourcesOid,!0),Dn("<<"),Dn("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),$u(),ku(),Qs(En.objectOid),to(),g1(),Dn(">>"),Dn("endobj")},Mo=function(){var En=[];Ip(),p1(),jp(),Eu(En),_s.publish("putResources"),En.forEach(no),no({resourcesOid:No,objectOid:Number.MAX_SAFE_INTEGER}),_s.publish("postPutResources")},zo=function(){_s.publish("putAdditionalObjects");for(var En=0;En<_r.length;En++){var Xn=_r[En];co(Xn.objId,!0),Dn(Xn.content),Dn("endobj")}_s.publish("postPutAdditionalObjects")},Pu=function(En){io[En.fontName]=io[En.fontName]||{},io[En.fontName][En.fontStyle]=En.id},Nu=function(En,Xn,vr,Nr,Br){var Vr={id:"F"+(Object.keys(Bs).length+1).toString(10),postScriptName:En,fontName:Xn,fontStyle:vr,encoding:Nr,isStandardFont:Br||!1,metadata:{}};return _s.publish("addFont",{font:Vr,instance:this}),Bs[Vr.id]=Vr,Pu(Vr),Vr.id},Vo=function(En){for(var Xn=0,vr=hr.length;Xn<vr;Xn++){var Nr=Nu.call(this,En[Xn][0],En[Xn][1],En[Xn][2],hr[Xn][3],!0);Sn===!1&&(mn[Nr]=!0);var Br=En[Xn][0].split("-");Pu({id:Nr,fontName:Br[0],fontStyle:Br[1]||""})}_s.publish("addFonts",{fonts:Bs,dictionary:io})},Ll=function(En){return En.foo=function(){try{return En.apply(this,arguments)}catch(Nr){var Xn=Nr.stack||"";~Xn.indexOf(" at ")&&(Xn=Xn.split(" at ")[1]);var vr="Error in function "+Xn.split(`
`)[0].split("<")[0]+": "+Nr.message;if(!n.console)throw new Error(vr);n.console.error(vr,Nr),n.alert&&alert(vr)}},En.foo.bar=En,En.foo},gp=function(En,Xn){var vr,Nr,Br,Vr,is,us,xs,Ls,Rs;if(Br=(Xn=Xn||{}).sourceEncoding||"Unicode",is=Xn.outputEncoding,(Xn.autoencode||is)&&Bs[rs].metadata&&Bs[rs].metadata[Br]&&Bs[rs].metadata[Br].encoding&&(Vr=Bs[rs].metadata[Br].encoding,!is&&Bs[rs].encoding&&(is=Bs[rs].encoding),!is&&Vr.codePages&&(is=Vr.codePages[0]),typeof is=="string"&&(is=Vr[is]),is)){for(xs=!1,us=[],vr=0,Nr=En.length;vr<Nr;vr++)(Ls=is[En.charCodeAt(vr)])?us.push(String.fromCharCode(Ls)):us.push(En[vr]),us[vr].charCodeAt(0)>>8&&(xs=!0);En=us.join("")}for(vr=En.length;xs===void 0&&vr!==0;)En.charCodeAt(vr-1)>>8&&(xs=!0),vr--;if(!xs)return En;for(us=Xn.noBOM?[]:[254,255],vr=0,Nr=En.length;vr<Nr;vr++){if((Rs=(Ls=En.charCodeAt(vr))>>8)>>8)throw new Error("Character at position "+vr+" of string '"+En+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");us.push(Rs),us.push(Ls-(Rs<<8))}return String.fromCharCode.apply(void 0,us)},_l=fn.__private__.pdfEscape=fn.pdfEscape=function(En,Xn){return gp(En,Xn).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_f=fn.__private__.beginPage=function(En){Cr[++as]=[],ss[as]={objId:0,contentsObjId:0,userUnit:Number(on),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(En[0]),topRightY:Number(En[1])}},B1(as),qn(Cr[Rn])},v1=function(En,Xn){var vr,Nr,Br;switch(St=Xn||St,typeof En=="string"&&(vr=pn(En.toLowerCase()),Array.isArray(vr)&&(Nr=vr[0],Br=vr[1])),Array.isArray(En)&&(Nr=En[0]*Qr,Br=En[1]*Qr),isNaN(Nr)&&(Nr=tn[0],Br=tn[1]),(Nr>14400||Br>14400)&&(a.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Nr=Math.min(14400,Nr),Br=Math.min(14400,Br)),tn=[Nr,Br],St.substr(0,1)){case"l":Br>Nr&&(tn=[Br,Nr]);break;case"p":Nr>Br&&(tn=[Br,Nr])}_f(tn),qp(Hl),Dn(yo),Vp!==0&&Dn(Vp+" J"),_p!==0&&Dn(_p+" j"),_s.publish("addPage",{pageNumber:as})},Gl=function(En){En>0&&En<=as&&(Cr.splice(En,1),ss.splice(En,1),as--,Rn>as&&(Rn=as),this.setPage(Rn))},B1=function(En){En>0&&En<=as&&(Rn=En)},f0=fn.__private__.getNumberOfPages=fn.getNumberOfPages=function(){return Cr.length-1},U1=function(En,Xn,vr){var Nr,Br=void 0;return vr=vr||{},En=En!==void 0?En:Bs[rs].fontName,Xn=Xn!==void 0?Xn:Bs[rs].fontStyle,Nr=En.toLowerCase(),io[Nr]!==void 0&&io[Nr][Xn]!==void 0?Br=io[Nr][Xn]:io[En]!==void 0&&io[En][Xn]!==void 0?Br=io[En][Xn]:vr.disableWarning===!1&&a.warn("Unable to look up font label for font '"+En+"', '"+Xn+"'. Refer to getFontList() for available fonts."),Br||vr.noFallback||(Br=io.times[Xn])==null&&(Br=io.times.normal),Br},Up=fn.__private__.putInfo=function(){var En=js(),Xn=function(Nr){return Nr};for(var vr in dn!==null&&(Xn=To.encryptor(En,0)),Dn("<<"),Dn("/Producer ("+_l(Xn("jsPDF "+E.version))+")"),zr)zr.hasOwnProperty(vr)&&zr[vr]&&Dn("/"+vr.substr(0,1).toUpperCase()+vr.substr(1)+" ("+_l(Xn(zr[vr]))+")");Dn("/CreationDate ("+_l(Xn(ar))+")"),Dn(">>"),Dn("endobj")},ep=fn.__private__.putCatalog=function(En){var Xn=(En=En||{}).rootDictionaryObjId||Po;switch(js(),Dn("<<"),Dn("/Type /Catalog"),Dn("/Pages "+Xn+" 0 R"),Fr||(Fr="fullwidth"),Fr){case"fullwidth":Dn("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Dn("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Dn("/OpenAction [3 0 R /Fit]");break;case"original":Dn("/OpenAction [3 0 R /XYZ null null 1]");break;default:var vr=""+Fr;vr.substr(vr.length-1)==="%"&&(Fr=parseInt(Fr)/100),typeof Fr=="number"&&Dn("/OpenAction [3 0 R /XYZ null null "+zn(Fr)+"]")}switch(Jr||(Jr="continuous"),Jr){case"continuous":Dn("/PageLayout /OneColumn");break;case"single":Dn("/PageLayout /SinglePage");break;case"two":case"twoleft":Dn("/PageLayout /TwoColumnLeft");break;case"tworight":Dn("/PageLayout /TwoColumnRight")}Sr&&Dn("/PageMode /"+Sr),_s.publish("putCatalog"),Dn(">>"),Dn("endobj")},mp=fn.__private__.putTrailer=function(){Dn("trailer"),Dn("<<"),Dn("/Size "+(Hn+1)),Dn("/Root "+Hn+" 0 R"),Dn("/Info "+(Hn-1)+" 0 R"),dn!==null&&Dn("/Encrypt "+To.oid+" 0 R"),Dn("/ID [ <"+tr+"> <"+tr+"> ]"),Dn(">>")},$p=fn.__private__.putHeader=function(){Dn("%PDF-"+vn),Dn("%\xBA\xDF\xAC\xE0")},p0=fn.__private__.putXRef=function(){var En="0000000000";Dn("xref"),Dn("0 "+(Hn+1)),Dn("0000000000 65535 f ");for(var Xn=1;Xn<=Hn;Xn++)typeof Kn[Xn]=="function"?Dn((En+Kn[Xn]()).slice(-10)+" 00000 n "):Kn[Xn]!==void 0?Dn((En+Kn[Xn]).slice(-10)+" 00000 n "):Dn("0000000000 00000 n ")},zu=fn.__private__.buildDocument=function(){Un(),qn(nr),_s.publish("buildDocument"),$p(),pp(),zo(),Mo(),dn!==null&&m1(),Up(),ep();var En=ir;return p0(),mp(),Dn("startxref"),Dn(""+En),Dn("%%EOF"),qn(Cr[Rn]),nr.join(`
`)},tp=fn.__private__.getBlob=function(En){return new Blob([cr(En)],{type:"application/pdf"})},vp=fn.output=fn.__private__.output=Ll(function(En,Xn){switch(typeof(Xn=Xn||{})=="string"?Xn={filename:Xn}:Xn.filename=Xn.filename||"generated.pdf",En){case void 0:return zu();case"save":fn.save(Xn.filename);break;case"arraybuffer":return cr(zu());case"blob":return tp(zu());case"bloburi":case"bloburl":if(n.URL!==void 0&&typeof n.URL.createObjectURL=="function")return n.URL&&n.URL.createObjectURL(tp(zu()))||void 0;a.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var vr="",Nr=zu();try{vr=h(Nr)}catch{vr=h(unescape(encodeURIComponent(Nr)))}return"data:application/pdf;filename="+Xn.filename+";base64,"+vr;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var Br="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Vr=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Xn.pdfObjectUrl&&(Br=Xn.pdfObjectUrl,Vr="");var is='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Br+'"'+Vr+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Xn)+");<\/script></body></html>",us=n.open();return us!==null&&us.document.write(is),us}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n)==="[object Window]"){var xs='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Xn.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Xn.filename+'" width="500px" height="400px" /></body></html>',Ls=n.open();if(Ls!==null){Ls.document.write(xs);var Rs=this;Ls.document.documentElement.querySelector("#pdfViewer").onload=function(){Ls.document.title=Xn.filename,Ls.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Rs.output("bloburl"))}}return Ls}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Vs='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Xn)+'"></iframe></body></html>',lo=n.open();if(lo!==null&&(lo.document.write(Vs),lo.document.title=Xn.filename),lo||typeof safari>"u")return lo;break;case"datauri":case"dataurl":return n.document.location.href=this.output("datauristring",Xn);default:return null}}),zp=function(En){return Array.isArray(Ms)===!0&&Ms.indexOf(En)>-1};switch(en){case"pt":Qr=1;break;case"mm":Qr=72/25.4;break;case"cm":Qr=72/2.54;break;case"in":Qr=72;break;case"px":Qr=zp("px_scaling")==1?.75:96/72;break;case"pc":case"em":Qr=12;break;case"ex":Qr=6;break;default:if(typeof en!="number")throw new Error("Invalid unit: "+en);Qr=en}var To=null;Lr(),Yn();var g0=function(En){return dn!==null?To.encryptor(En,0):function(Xn){return Xn}},Gp=fn.__private__.getPageInfo=fn.getPageInfo=function(En){if(isNaN(En)||En%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ss[En].objId,pageNumber:En,pageContext:ss[En]}},fs=fn.__private__.getPageInfoByObjId=function(En){if(isNaN(En)||En%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Xn in ss)if(ss[Xn].objId===En)break;return Gp(Xn)},$1=fn.__private__.getCurrentPageInfo=fn.getCurrentPageInfo=function(){return{objId:ss[Rn].objId,pageNumber:Rn,pageContext:ss[Rn]}};fn.addPage=function(){return v1.apply(this,arguments),this},fn.setPage=function(){return B1.apply(this,arguments),qn.call(this,Cr[Rn]),this},fn.insertPage=function(En){return this.addPage(),this.movePage(Rn,En),this},fn.movePage=function(En,Xn){var vr,Nr;if(En>Xn){vr=Cr[En],Nr=ss[En];for(var Br=En;Br>Xn;Br--)Cr[Br]=Cr[Br-1],ss[Br]=ss[Br-1];Cr[Xn]=vr,ss[Xn]=Nr,this.setPage(Xn)}else if(En<Xn){vr=Cr[En],Nr=ss[En];for(var Vr=En;Vr<Xn;Vr++)Cr[Vr]=Cr[Vr+1],ss[Vr]=ss[Vr+1];Cr[Xn]=vr,ss[Xn]=Nr,this.setPage(Xn)}return this},fn.deletePage=function(){return Gl.apply(this,arguments),this},fn.__private__.text=fn.text=function(En,Xn,vr,Nr,Br){var Vr,is,us,xs,Ls,Rs,Vs,lo,fo,_o=(Nr=Nr||{}).scope||this;if(typeof En=="number"&&typeof Xn=="number"&&(typeof vr=="string"||Array.isArray(vr))){var jo=vr;vr=Xn,Xn=En,En=jo}if(arguments[3]instanceof ms?(On("The transform parameter of text() with a Matrix value"),fo=Br):(us=arguments[4],xs=arguments[5],_typeof(Vs=arguments[3])==="object"&&Vs!==null||(typeof us=="string"&&(xs=us,us=null),typeof Vs=="string"&&(xs=Vs,Vs=null),typeof Vs=="number"&&(us=Vs,Vs=null),Nr={flags:Vs,angle:us,align:xs})),isNaN(Xn)||isNaN(vr)||En==null)throw new Error("Invalid arguments passed to jsPDF.text");if(En.length===0)return _o;var po="",So=!1,Oo=typeof Nr.lineHeightFactor=="number"?Nr.lineHeightFactor:Go,vu=_o.internal.scaleFactor;function w1(Ts){return Ts=Ts.split("	").join(Array(Nr.TabLen||9).join(" ")),_l(Ts,Vs)}function Ml(Ts){for(var Fs,Gs=Ts.concat(),wo=[],eu=Gs.length;eu--;)typeof(Fs=Gs.shift())=="string"?wo.push(Fs):Array.isArray(Ts)&&(Fs.length===1||Fs[1]===void 0&&Fs[2]===void 0)?wo.push(Fs[0]):wo.push([Fs[0],Fs[1],Fs[2]]);return wo}function au(Ts,Fs){var Gs;if(typeof Ts=="string")Gs=Fs(Ts)[0];else if(Array.isArray(Ts)){for(var wo,eu,uu=Ts.concat(),e1=[],Io=uu.length;Io--;)typeof(wo=uu.shift())=="string"?e1.push(Fs(wo)[0]):Array.isArray(wo)&&typeof wo[0]=="string"&&(eu=Fs(wo[0],wo[1],wo[2]),e1.push([eu[0],eu[1],eu[2]]));Gs=e1}return Gs}var ap=!1,Yp=!0;if(typeof En=="string")ap=!0;else if(Array.isArray(En)){var Kl=En.concat();is=[];for(var Ql,qo=Kl.length;qo--;)(typeof(Ql=Kl.shift())!="string"||Array.isArray(Ql)&&typeof Ql[0]!="string")&&(Yp=!1);ap=Yp}if(ap===!1)throw new Error('Type of text must be string or Array. "'+En+'" is not recognized.');typeof En=="string"&&(En=En.match(/[\r?\n]/)?En.split(/\r\n|\r|\n/g):[En]);var bp=Ar/_o.internal.scaleFactor,Hu=bp*(Oo-1);switch(Nr.baseline){case"bottom":vr-=Hu;break;case"top":vr+=bp-Hu;break;case"hanging":vr+=bp-2*Hu;break;case"middle":vr+=bp/2-Hu}if((Rs=Nr.maxWidth||0)>0&&(typeof En=="string"?En=_o.splitTextToSize(En,Rs):Object.prototype.toString.call(En)==="[object Array]"&&(En=En.reduce(function(Ts,Fs){return Ts.concat(_o.splitTextToSize(Fs,Rs))},[]))),Vr={text:En,x:Xn,y:vr,options:Nr,mutex:{pdfEscape:_l,activeFontKey:rs,fonts:Bs,activeFontSize:Ar}},_s.publish("preProcessText",Vr),En=Vr.text,us=(Nr=Vr.options).angle,!(fo instanceof ms)&&us&&typeof us=="number"){us*=Math.PI/180,Nr.rotationDirection===0&&(us=-us),An===yn.ADVANCED&&(us=-us);var Ap=Math.cos(us),Kp=Math.sin(us);fo=new ms(Ap,Kp,-Kp,Ap,0,0)}else us&&us instanceof ms&&(fo=us);An!==yn.ADVANCED||fo||(fo=so),(Ls=Nr.charSpace||Fl)!==void 0&&(po+=In(Gn(Ls))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(lo=Nr.horizontalScale)!==void 0&&(po+=In(100*lo)+` Tz
`),Nr.lang;var Ko=-1,Qp=Nr.renderingMode!==void 0?Nr.renderingMode:Nr.stroke,Jp=_o.internal.getCurrentPageInfo().pageContext;switch(Qp){case 0:case!1:case"fill":Ko=0;break;case 1:case!0:case"stroke":Ko=1;break;case 2:case"fillThenStroke":Ko=2;break;case 3:case"invisible":Ko=3;break;case 4:case"fillAndAddForClipping":Ko=4;break;case 5:case"strokeAndAddPathForClipping":Ko=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ko=6;break;case 7:case"addToPathForClipping":Ko=7}var b1=Jp.usedRenderingMode!==void 0?Jp.usedRenderingMode:-1;Ko!==-1?po+=Ko+` Tr
`:b1!==-1&&(po+=`0 Tr
`),Ko!==-1&&(Jp.usedRenderingMode=Ko),xs=Nr.align||"left";var ou,xp=Ar*Oo,Cp=_o.internal.pageSize.getWidth(),Zp=Bs[rs];Ls=Nr.charSpace||Fl,Rs=Nr.maxWidth||0,Vs=Object.assign({autoencode:!0,noBOM:!0},Nr.flags);var Vu=[];if(Object.prototype.toString.call(En)==="[object Array]"){var Jl;is=Ml(En),xs!=="left"&&(ou=is.map(function(Ts){return _o.getStringUnitWidth(Ts,{font:Zp,charSpace:Ls,fontSize:Ar,doKerning:!1})*Ar/vu}));var Qo,Wu=0;if(xs==="right"){Xn-=ou[0],En=[],qo=is.length;for(var Ol=0;Ol<qo;Ol++)Ol===0?(Qo=Rl(Xn),Jl=Wl(vr)):(Qo=Gn(Wu-ou[Ol]),Jl=-xp),En.push([is[Ol],Qo,Jl]),Wu=ou[Ol]}else if(xs==="center"){Xn-=ou[0]/2,En=[],qo=is.length;for(var Lo=0;Lo<qo;Lo++)Lo===0?(Qo=Rl(Xn),Jl=Wl(vr)):(Qo=Gn((Wu-ou[Lo])/2),Jl=-xp),En.push([is[Lo],Qo,Jl]),Wu=ou[Lo]}else if(xs==="left"){En=[],qo=is.length;for(var Lu=0;Lu<qo;Lu++)En.push(is[Lu])}else{if(xs!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');En=[],qo=is.length,Rs=Rs!==0?Rs:Cp;for(var Jo=0;Jo<qo;Jo++)Jl=Jo===0?Wl(vr):-xp,Qo=Jo===0?Rl(Xn):0,Jo<qo-1?Vu.push(In(Gn((Rs-ou[Jo])/(is[Jo].split(" ").length-1)))):Vu.push(0),En.push([is[Jo],Qo,Jl])}}var Sl=typeof Nr.R2L=="boolean"?Nr.R2L:Gr;Sl===!0&&(En=au(En,function(Ts,Fs,Gs){return[Ts.split("").reverse().join(""),Fs,Gs]})),Vr={text:En,x:Xn,y:vr,options:Nr,mutex:{pdfEscape:_l,activeFontKey:rs,fonts:Bs,activeFontSize:Ar}},_s.publish("postProcessText",Vr),En=Vr.text,So=Vr.mutex.isHex||!1;var Ep=Bs[rs].encoding;Ep!=="WinAnsiEncoding"&&Ep!=="StandardEncoding"||(En=au(En,function(Ts,Fs,Gs){return[w1(Ts),Fs,Gs]})),is=Ml(En),En=[];for(var Zl,lu,yu,xa=0,Xu=1,Yu=Array.isArray(is[0])?Xu:xa,Ru="",op=function(Ts,Fs,Gs){var wo="";return Gs instanceof ms?(Gs=typeof Nr.angle=="number"?Os(Gs,new ms(1,0,0,1,Ts,Fs)):Os(new ms(1,0,0,1,Ts,Fs),Gs),An===yn.ADVANCED&&(Gs=Os(new ms(1,0,0,-1,0,0),Gs)),wo=Gs.join(" ")+` Tm
`):wo=In(Ts)+" "+In(Fs)+` Td
`,wo},Il=0;Il<is.length;Il++){switch(Ru="",Yu){case Xu:yu=(So?"<":"(")+is[Il][0]+(So?">":")"),Zl=parseFloat(is[Il][1]),lu=parseFloat(is[Il][2]);break;case xa:yu=(So?"<":"(")+is[Il]+(So?">":")"),Zl=Rl(Xn),lu=Wl(vr)}Vu!==void 0&&Vu[Il]!==void 0&&(Ru=Vu[Il]+` Tw
`),Il===0?En.push(Ru+op(Zl,lu,fo)+yu):Yu===xa?En.push(Ru+yu):Yu===Xu&&En.push(Ru+op(Zl,lu,fo)+yu)}En=Yu===xa?En.join(` Tj
T* `):En.join(` Tj
`),En+=` Tj
`;var Al=`BT
/`;return Al+=rs+" "+Ar+` Tf
`,Al+=In(Ar*Oo)+` TL
`,Al+=Xl+`
`,Al+=po,Al+=En,Dn(Al+="ET"),mn[rs]=!0,_o};var y1=fn.__private__.clip=fn.clip=function(En){return Dn(En==="evenodd"?"W*":"W"),this};fn.clipEvenOdd=function(){return y1("evenodd")},fn.__private__.discardPath=fn.discardPath=function(){return Dn("n"),this};var pu=fn.__private__.isValidStyle=function(En){var Xn=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(En)!==-1&&(Xn=!0),Xn};fn.__private__.setDefaultPathOperation=fn.setDefaultPathOperation=function(En){return pu(En)&&(cn=En),this};var z1=fn.__private__.getStyle=fn.getStyle=function(En){var Xn=cn;switch(En){case"D":case"S":Xn="S";break;case"F":Xn="f";break;case"FD":case"DF":Xn="B";break;case"f":case"f*":case"B":case"B*":Xn=En}return Xn},G1=fn.close=function(){return Dn("h"),this};fn.stroke=function(){return Dn("S"),this},fn.fill=function(En){return ho("f",En),this},fn.fillEvenOdd=function(En){return ho("f*",En),this},fn.fillStroke=function(En){return ho("B",En),this},fn.fillStrokeEvenOdd=function(En){return ho("B*",En),this};var ho=function(En,Xn){_typeof(Xn)==="object"?_1(Xn,En):Dn(En)},yp=function(En){En===null||An===yn.ADVANCED&&En===void 0||(En=z1(En),Dn(En))};function m0(En,Xn,vr,Nr,Br){var Vr=new M(Xn||this.boundingBox,vr||this.xStep,Nr||this.yStep,this.gState,Br||this.matrix);Vr.stream=this.stream;var is=En+"$$"+this.cloneIndex+++"$$";return Ys(is,Vr),Vr}var _1=function(En,Xn){var vr=wr[En.key],Nr=gr[vr];if(Nr instanceof B)Dn("q"),Dn(v0(Xn)),Nr.gState&&fn.setGState(Nr.gState),Dn(En.matrix.toString()+" cm"),Dn("/"+vr+" sh"),Dn("Q");else if(Nr instanceof M){var Br=new ms(1,0,0,-1,0,Tu());En.matrix&&(Br=Br.multiply(En.matrix||so),vr=m0.call(Nr,En.key,En.boundingBox,En.xStep,En.yStep,Br).id),Dn("q"),Dn("/Pattern cs"),Dn("/"+vr+" scn"),Nr.gState&&fn.setGState(Nr.gState),Dn(Xn),Dn("Q")}},v0=function(En){switch(En){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},np=fn.moveTo=function(En,Xn){return Dn(In(Gn(En))+" "+In(Qn(Xn))+" m"),this},Wo=fn.lineTo=function(En,Xn){return Dn(In(Gn(En))+" "+In(Qn(Xn))+" l"),this},rp=fn.curveTo=function(En,Xn,vr,Nr,Br,Vr){return Dn([In(Gn(En)),In(Qn(Xn)),In(Gn(vr)),In(Qn(Nr)),In(Gn(Br)),In(Qn(Vr)),"c"].join(" ")),this};fn.__private__.line=fn.line=function(En,Xn,vr,Nr,Br){if(isNaN(En)||isNaN(Xn)||isNaN(vr)||isNaN(Nr)||!pu(Br))throw new Error("Invalid arguments passed to jsPDF.line");return An===yn.COMPAT?this.lines([[vr-En,Nr-Xn]],En,Xn,[1,1],Br||"S"):this.lines([[vr-En,Nr-Xn]],En,Xn,[1,1]).stroke()},fn.__private__.lines=fn.lines=function(En,Xn,vr,Nr,Br,Vr){var is,us,xs,Ls,Rs,Vs,lo,fo,_o,jo,po,So;if(typeof En=="number"&&(So=vr,vr=Xn,Xn=En,En=So),Nr=Nr||[1,1],Vr=Vr||!1,isNaN(Xn)||isNaN(vr)||!Array.isArray(En)||!Array.isArray(Nr)||!pu(Br)||typeof Vr!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(np(Xn,vr),is=Nr[0],us=Nr[1],Ls=En.length,jo=Xn,po=vr,xs=0;xs<Ls;xs++)(Rs=En[xs]).length===2?(jo=Rs[0]*is+jo,po=Rs[1]*us+po,Wo(jo,po)):(Vs=Rs[0]*is+jo,lo=Rs[1]*us+po,fo=Rs[2]*is+jo,_o=Rs[3]*us+po,jo=Rs[4]*is+jo,po=Rs[5]*us+po,rp(Vs,lo,fo,_o,jo,po));return Vr&&G1(),yp(Br),this},fn.path=function(En){for(var Xn=0;Xn<En.length;Xn++){var vr=En[Xn],Nr=vr.c;switch(vr.op){case"m":np(Nr[0],Nr[1]);break;case"l":Wo(Nr[0],Nr[1]);break;case"c":rp.apply(this,Nr);break;case"h":G1()}}return this},fn.__private__.rect=fn.rect=function(En,Xn,vr,Nr,Br){if(isNaN(En)||isNaN(Xn)||isNaN(vr)||isNaN(Nr)||!pu(Br))throw new Error("Invalid arguments passed to jsPDF.rect");return An===yn.COMPAT&&(Nr=-Nr),Dn([In(Gn(En)),In(Qn(Xn)),In(Gn(vr)),In(Gn(Nr)),"re"].join(" ")),yp(Br),this},fn.__private__.triangle=fn.triangle=function(En,Xn,vr,Nr,Br,Vr,is){if(isNaN(En)||isNaN(Xn)||isNaN(vr)||isNaN(Nr)||isNaN(Br)||isNaN(Vr)||!pu(is))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[vr-En,Nr-Xn],[Br-vr,Vr-Nr],[En-Br,Xn-Vr]],En,Xn,[1,1],is,!0),this},fn.__private__.roundedRect=fn.roundedRect=function(En,Xn,vr,Nr,Br,Vr,is){if(isNaN(En)||isNaN(Xn)||isNaN(vr)||isNaN(Nr)||isNaN(Br)||isNaN(Vr)||!pu(is))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var us=4/3*(Math.SQRT2-1);return Br=Math.min(Br,.5*vr),Vr=Math.min(Vr,.5*Nr),this.lines([[vr-2*Br,0],[Br*us,0,Br,Vr-Vr*us,Br,Vr],[0,Nr-2*Vr],[0,Vr*us,-Br*us,Vr,-Br,Vr],[2*Br-vr,0],[-Br*us,0,-Br,-Vr*us,-Br,-Vr],[0,2*Vr-Nr],[0,-Vr*us,Br*us,-Vr,Br,-Vr]],En+Br,Xn,[1,1],is,!0),this},fn.__private__.ellipse=fn.ellipse=function(En,Xn,vr,Nr,Br){if(isNaN(En)||isNaN(Xn)||isNaN(vr)||isNaN(Nr)||!pu(Br))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Vr=4/3*(Math.SQRT2-1)*vr,is=4/3*(Math.SQRT2-1)*Nr;return np(En+vr,Xn),rp(En+vr,Xn-is,En+Vr,Xn-Nr,En,Xn-Nr),rp(En-Vr,Xn-Nr,En-vr,Xn-is,En-vr,Xn),rp(En-vr,Xn+is,En-Vr,Xn+Nr,En,Xn+Nr),rp(En+Vr,Xn+Nr,En+vr,Xn+is,En+vr,Xn),yp(Br),this},fn.__private__.circle=fn.circle=function(En,Xn,vr,Nr){if(isNaN(En)||isNaN(Xn)||isNaN(vr)||!pu(Nr))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(En,Xn,vr,vr,Nr)},fn.setFont=function(En,Xn,vr){return vr&&(Xn=Pn(Xn,vr)),rs=U1(En,Xn,{disableWarning:!1}),this};var y0=fn.__private__.getFont=fn.getFont=function(){return Bs[U1.apply(fn,arguments)]};fn.__private__.getFontList=fn.getFontList=function(){var En,Xn,vr={};for(En in io)if(io.hasOwnProperty(En))for(Xn in vr[En]=[],io[En])io[En].hasOwnProperty(Xn)&&vr[En].push(Xn);return vr},fn.addFont=function(En,Xn,vr,Nr,Br){var Vr=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Vr.indexOf(arguments[3])!==-1?Br=arguments[3]:arguments[3]&&Vr.indexOf(arguments[3])==-1&&(vr=Pn(vr,Nr)),Br=Br||"Identity-H",Nu.call(this,En,Xn,vr,Br)};var Go,Hl=_e.lineWidth||.200025,Gu=fn.__private__.getLineWidth=fn.getLineWidth=function(){return Hl},qp=fn.__private__.setLineWidth=fn.setLineWidth=function(En){return Hl=En,Dn(In(Gn(En))+" w"),this};fn.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(En,Xn){if(En=En||[],Xn=Xn||0,isNaN(Xn)||!Array.isArray(En))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return En=En.map(function(vr){return In(Gn(vr))}).join(" "),Xn=In(Gn(Xn)),Dn("["+En+"] "+Xn+" d"),this};var S1=fn.__private__.getLineHeight=fn.getLineHeight=function(){return Ar*Go};fn.__private__.getLineHeight=fn.getLineHeight=function(){return Ar*Go};var q1=fn.__private__.setLineHeightFactor=fn.setLineHeightFactor=function(En){return typeof(En=En||1.15)=="number"&&(Go=En),this},Vl=fn.__private__.getLineHeightFactor=fn.getLineHeightFactor=function(){return Go};q1(_e.lineHeight);var Rl=fn.__private__.getHorizontalCoordinate=function(En){return Gn(En)},Wl=fn.__private__.getVerticalCoordinate=function(En){return An===yn.ADVANCED?En:ss[Rn].mediaBox.topRightY-ss[Rn].mediaBox.bottomLeftY-Gn(En)},Hp=fn.__private__.getHorizontalCoordinateString=fn.getHorizontalCoordinateString=function(En){return In(Rl(En))},gu=fn.__private__.getVerticalCoordinateString=fn.getVerticalCoordinateString=function(En){return In(Wl(En))},yo=_e.strokeColor||"0 G";fn.__private__.getStrokeColor=fn.getDrawColor=function(){return $o(yo)},fn.__private__.setStrokeColor=fn.setDrawColor=function(En,Xn,vr,Nr){return yo=Tl({ch1:En,ch2:Xn,ch3:vr,ch4:Nr,pdfColorType:"draw",precision:2}),Dn(yo),this};var Xo=_e.fillColor||"0 g";fn.__private__.getFillColor=fn.getFillColor=function(){return $o(Xo)},fn.__private__.setFillColor=fn.setFillColor=function(En,Xn,vr,Nr){return Xo=Tl({ch1:En,ch2:Xn,ch3:vr,ch4:Nr,pdfColorType:"fill",precision:2}),Dn(Xo),this};var Xl=_e.textColor||"0 g",mu=fn.__private__.getTextColor=fn.getTextColor=function(){return $o(Xl)};fn.__private__.setTextColor=fn.setTextColor=function(En,Xn,vr,Nr){return Xl=Tl({ch1:En,ch2:Xn,ch3:vr,ch4:Nr,pdfColorType:"text",precision:3}),this};var Fl=_e.charSpace,qu=fn.__private__.getCharSpace=fn.getCharSpace=function(){return parseFloat(Fl||0)};fn.__private__.setCharSpace=fn.setCharSpace=function(En){if(isNaN(En))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Fl=En,this};var Vp=0;fn.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},fn.__private__.setLineCap=fn.setLineCap=function(En){var Xn=fn.CapJoinStyles[En];if(Xn===void 0)throw new Error("Line cap style of '"+En+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vp=Xn,Dn(Xn+" J"),this};var _p=0;fn.__private__.setLineJoin=fn.setLineJoin=function(En){var Xn=fn.CapJoinStyles[En];if(Xn===void 0)throw new Error("Line join style of '"+En+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _p=Xn,Dn(Xn+" j"),this},fn.__private__.setLineMiterLimit=fn.__private__.setMiterLimit=fn.setLineMiterLimit=fn.setMiterLimit=function(En){if(En=En||0,isNaN(En))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Dn(In(Gn(En))+" M"),this},fn.GState=j,fn.setGState=function(En){(En=typeof En=="string"?Kr[ls[En]]:Wp(null,En)).equals(bs)||(Dn("/"+En.id+" gs"),bs=En)};var Wp=function(En,Xn){if(!En||!ls[En]){var vr=!1;for(var Nr in Kr)if(Kr.hasOwnProperty(Nr)&&Kr[Nr].equals(Xn)){vr=!0;break}if(vr)Xn=Kr[Nr];else{var Br="GS"+(Object.keys(Kr).length+1).toString(10);Kr[Br]=Xn,Xn.id=Br}return En&&(ls[En]=Xn.id),_s.publish("addGState",Xn),Xn}};fn.addGState=function(En,Xn){return Wp(En,Xn),this},fn.saveGraphicsState=function(){return Dn("q"),yr.push({key:rs,size:Ar,color:Xl}),this},fn.restoreGraphicsState=function(){Dn("Q");var En=yr.pop();return rs=En.key,Ar=En.size,Xl=En.color,bs=null,this},fn.setCurrentTransformationMatrix=function(En){return Dn(En.toString()+" cm"),this},fn.comment=function(En){return Dn("#"+En),this};var Do=function(En,Xn){var vr=En||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return vr},set:function(Vr){isNaN(Vr)||(vr=parseFloat(Vr))}});var Nr=Xn||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Nr},set:function(Vr){isNaN(Vr)||(Nr=parseFloat(Vr))}});var Br="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Br},set:function(Vr){Br=Vr.toString()}}),this},Yo=function(En,Xn,vr,Nr){Do.call(this,En,Xn),this.type="rect";var Br=vr||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Br},set:function(is){isNaN(is)||(Br=parseFloat(is))}});var Vr=Nr||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Vr},set:function(is){isNaN(is)||(Vr=parseFloat(is))}}),this},ro=function(){this.page=as,this.currentPage=Rn,this.pages=Cr.slice(0),this.pagesContext=ss.slice(0),this.x=ks,this.y=ys,this.matrix=ws,this.width=sp(Rn),this.height=Tu(Rn),this.outputDestination=xr,this.id="",this.objectNumber=-1};ro.prototype.restore=function(){as=this.page,Rn=this.currentPage,ss=this.pagesContext,Cr=this.pages,ks=this.x,ys=this.y,ws=this.matrix,wp(Rn,this.width),Xp(Rn,this.height),xr=this.outputDestination};var ip=function(En,Xn,vr,Nr,Br){Ns.push(new ro),as=Rn=0,Cr=[],ks=En,ys=Xn,ws=Br,_f([vr,Nr])},Yl=function(En){if(Us[En])Ns.pop().restore();else{var Xn=new ro,vr="Xo"+(Object.keys(Ps).length+1).toString(10);Xn.id=vr,Us[En]=vr,Ps[vr]=Xn,_s.publish("addFormObject",Xn),Ns.pop().restore()}};for(var Sp in fn.beginFormObject=function(En,Xn,vr,Nr,Br){return ip(En,Xn,vr,Nr,Br),this},fn.endFormObject=function(En){return Yl(En),this},fn.doFormObject=function(En,Xn){var vr=Ps[Us[En]];return Dn("q"),Dn(Xn.toString()+" cm"),Dn("/"+vr.id+" Do"),Dn("Q"),this},fn.getFormObject=function(En){var Xn=Ps[Us[En]];return{x:Xn.x,y:Xn.y,width:Xn.width,height:Xn.height,matrix:Xn.matrix}},fn.save=function(En,Xn){return En=En||"generated.pdf",(Xn=Xn||{}).returnPromise=Xn.returnPromise||!1,Xn.returnPromise===!1?(l(tp(zu()),En),typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),this):new Promise(function(vr,Nr){try{var Br=l(tp(zu()),En);typeof l.unload=="function"&&n.setTimeout&&setTimeout(l.unload,911),vr(Br)}catch(Vr){Nr(Vr.message)}})},E.API)E.API.hasOwnProperty(Sp)&&(Sp==="events"&&E.API.events.length?function(En,Xn){var vr,Nr,Br;for(Br=Xn.length-1;Br!==-1;Br--)vr=Xn[Br][0],Nr=Xn[Br][1],En.subscribe.apply(En,[vr].concat(typeof Nr=="function"?[Nr]:Nr))}(_s,E.API.events):fn[Sp]=E.API[Sp]);var sp=fn.getPageWidth=function(En){return(ss[En=En||Rn].mediaBox.topRightX-ss[En].mediaBox.bottomLeftX)/Qr},wp=fn.setPageWidth=function(En,Xn){ss[En].mediaBox.topRightX=Xn*Qr+ss[En].mediaBox.bottomLeftX},Tu=fn.getPageHeight=function(En){return(ss[En=En||Rn].mediaBox.topRightY-ss[En].mediaBox.bottomLeftY)/Qr},Xp=fn.setPageHeight=function(En,Xn){ss[En].mediaBox.topRightY=Xn*Qr+ss[En].mediaBox.bottomLeftY};return fn.internal={pdfEscape:_l,getStyle:z1,getFont:y0,getFontSize:Pr,getCharSpace:qu,getTextColor:mu,getLineHeight:S1,getLineHeightFactor:Vl,getLineWidth:Gu,write:lr,getHorizontalCoordinate:Rl,getVerticalCoordinate:Wl,getCoordinateString:Hp,getVerticalCoordinateString:gu,collections:{},newObject:js,newAdditionalObject:eo,newObjectDeferred:Ks,newObjectDeferredBegin:co,getFilters:xu,putStream:su,events:_s,scaleFactor:Qr,pageSize:{getWidth:function(){return sp(Rn)},setWidth:function(En){wp(Rn,En)},getHeight:function(){return Tu(Rn)},setHeight:function(En){Xp(Rn,En)}},encryptionOptions:dn,encryption:To,getEncryptor:g0,output:vp,getNumberOfPages:f0,pages:Cr,out:Dn,f2:zn,f3:Mn,getPageInfo:Gp,getPageInfoByObjId:fs,getCurrentPageInfo:$1,getPDFVersion:bn,Point:Do,Rectangle:Yo,Matrix:ms,hasHotfix:zp},Object.defineProperty(fn.internal.pageSize,"width",{get:function(){return sp(Rn)},set:function(En){wp(Rn,En)},enumerable:!0,configurable:!0}),Object.defineProperty(fn.internal.pageSize,"height",{get:function(){return Tu(Rn)},set:function(En){Xp(Rn,En)},enumerable:!0,configurable:!0}),Vo.call(fn,hr),rs="F1",v1(tn,St),_s.publish("initialized"),fn}I.prototype.lsbFirstWord=function(_e){return String.fromCharCode(_e>>0&255,_e>>8&255,_e>>16&255,_e>>24&255)},I.prototype.toHexString=function(_e){return _e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function(_e){for(var e=[],St=0;St<_e.length;St+=2)e.push(String.fromCharCode(parseInt(_e.substr(St,2),16)));return e.join("")},I.prototype.processOwnerPassword=function(_e,e){return P(x(e).substr(0,5),_e)},I.prototype.encryptor=function(_e,e){var St=x(this.encryptionKey+String.fromCharCode(255&_e,_e>>8&255,_e>>16&255,255&e,e>>8&255)).substr(0,10);return function(en){return P(St,en)}},j.prototype.equals=function(_e){var e,St="id,objectNumber,equals";if(!_e||_typeof(_e)!==_typeof(this))return!1;var en=0;for(e in this)if(!(St.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!_e.hasOwnProperty(e)||this[e]!==_e[e])return!1;en++}for(e in _e)_e.hasOwnProperty(e)&&St.indexOf(e)<0&&en--;return en===0},E.API={events:[]},E.version="2.5.1";var q=E.API,D=1,R=function(_e){return _e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T=function(_e){return _e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U=function(_e){return _e.toFixed(2)},z=function(_e){return _e.toFixed(5)};q.__acroform__={};var H=function(_e,e){_e.prototype=Object.create(e.prototype),_e.prototype.constructor=_e},W=function(_e){return _e*D},V=function(_e){var e=new ut,St=At.internal.getHeight(_e)||0,en=At.internal.getWidth(_e)||0;return e.BBox=[0,0,Number(U(en)),Number(U(St))],e},G=q.__acroform__.setBit=function(_e,e){if(_e=_e||0,e=e||0,isNaN(_e)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return _e|=1<<e},Y=q.__acroform__.clearBit=function(_e,e){if(_e=_e||0,e=e||0,isNaN(_e)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return _e&=~(1<<e)},J=q.__acroform__.getBit=function(_e,e){if(isNaN(_e)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(_e&1<<e)==0?0:1},X=q.__acroform__.getBitForPdf=function(_e,e){if(isNaN(_e)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J(_e,e-1)},K=q.__acroform__.setBitForPdf=function(_e,e){if(isNaN(_e)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G(_e,e-1)},Z=q.__acroform__.clearBitForPdf=function(_e,e){if(isNaN(_e)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y(_e,e-1)},$=q.__acroform__.calculateCoordinates=function(_e,e){var St=e.internal.getHorizontalCoordinate,en=e.internal.getVerticalCoordinate,tn=_e[0],nn=_e[1],rn=_e[2],on=_e[3],un={};return un.lowerLeft_X=St(tn)||0,un.lowerLeft_Y=en(nn+on)||0,un.upperRight_X=St(tn+rn)||0,un.upperRight_Y=en(nn)||0,[Number(U(un.lowerLeft_X)),Number(U(un.lowerLeft_Y)),Number(U(un.upperRight_X)),Number(U(un.upperRight_Y))]},Q=function(_e){if(_e.appearanceStreamContent)return _e.appearanceStreamContent;if(_e.V||_e.DV){var e=[],St=_e._V||_e.DV,en=tt(_e,St),tn=_e.scope.internal.getFont(_e.fontName,_e.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(_e.scope.__private__.encodeColorString(_e.color)),e.push("/"+tn+" "+U(en.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(en.text),e.push("ET"),e.push("Q"),e.push("EMC");var nn=V(_e);return nn.scope=_e.scope,nn.stream=e.join(`
`),nn}},tt=function(_e,e){var St=_e.fontSize===0?_e.maxFontSize:_e.fontSize,en={text:"",fontSize:""},tn=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");tn=_e.multiline?tn.map(function(Mn){return Mn.split(`
`)}):tn.map(function(Mn){return[Mn]});var nn=St,rn=At.internal.getHeight(_e)||0;rn=rn<0?-rn:rn;var on=At.internal.getWidth(_e)||0;on=on<0?-on:on;var un=function(Mn,Gn,er){if(Mn+1<tn.length){var Qn=Gn+" "+tn[Mn+1][0];return et(Qn,_e,er).width<=on-4}return!1};nn++;e:for(;nn>0;){e="",nn--;var cn,dn,Sn=et("3",_e,nn).height,mn=_e.multiline?rn-nn:(rn-Sn)/2,fn=mn+=2,vn=0,bn=0,wn=0;if(nn<=0){e=`(...) Tj
`,e+="% Width of Text: "+et(e,_e,nn=12).width+", FieldWidth:"+on+`
`;break}for(var pn="",yn=0,An=0;An<tn.length;An++)if(tn.hasOwnProperty(An)){var kn=!1;if(tn[An].length!==1&&wn!==tn[An].length-1){if((Sn+2)*(yn+2)+2>rn)continue e;pn+=tn[An][wn],kn=!0,bn=An,An--}else{pn=(pn+=tn[An][wn]+" ").substr(pn.length-1)==" "?pn.substr(0,pn.length-1):pn;var xn=parseInt(An),Pn=un(xn,pn,nn),In=An>=tn.length-1;if(Pn&&!In){pn+=" ",wn=0;continue}if(Pn||In){if(In)bn=xn;else if(_e.multiline&&(Sn+2)*(yn+2)+2>rn)continue e}else{if(!_e.multiline||(Sn+2)*(yn+2)+2>rn)continue e;bn=xn}}for(var On="",Wn=vn;Wn<=bn;Wn++){var zn=tn[Wn];if(_e.multiline){if(Wn===bn){On+=zn[wn]+" ",wn=(wn+1)%zn.length;continue}if(Wn===vn){On+=zn[zn.length-1]+" ";continue}}On+=zn[0]+" "}switch(On=On.substr(On.length-1)==" "?On.substr(0,On.length-1):On,dn=et(On,_e,nn).width,_e.textAlign){case"right":cn=on-dn-2;break;case"center":cn=(on-dn)/2;break;case"left":default:cn=2}e+=U(cn)+" "+U(fn)+` Td
`,e+="("+R(On)+`) Tj
`,e+=-U(cn)+` 0 Td
`,fn=-(nn+2),dn=0,vn=kn?bn:bn+1,yn++,pn=""}break}return en.text=e,en.fontSize=nn,en},et=function(_e,e,St){var en=e.scope.internal.getFont(e.fontName,e.fontStyle),tn=e.scope.getStringUnitWidth(_e,{font:en,fontSize:parseFloat(St),charSpace:0})*parseFloat(St);return{height:e.scope.getStringUnitWidth("3",{font:en,fontSize:parseFloat(St),charSpace:0})*parseFloat(St)*1.5,width:tn}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt=function(_e,e){var St={type:"reference",object:_e};e.internal.getPageInfo(_e.page).pageContext.annotations.find(function(en){return en.type===St.type&&en.object===St.object})===void 0&&e.internal.getPageInfo(_e.page).pageContext.annotations.push(St)},it=function(_e,e){for(var St in _e)if(_e.hasOwnProperty(St)){var en=St,tn=_e[St];e.internal.newObjectDeferredBegin(tn.objId,!0),_typeof(tn)==="object"&&typeof tn.putStream=="function"&&tn.putStream(),delete _e[en]}},at=function(_e,e){if(e.scope=_e,_e.internal!==void 0&&(_e.internal.acroformPlugin===void 0||_e.internal.acroformPlugin.isInitialized===!1)){if(lt.FieldNum=0,_e.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),_e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=_e.internal.scaleFactor,_e.internal.acroformPlugin.acroFormDictionaryRoot=new ht,_e.internal.acroformPlugin.acroFormDictionaryRoot.scope=_e,_e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=_e.internal.events.subscribe("postPutResources",function(){(function(St){St.internal.events.unsubscribe(St.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete St.internal.acroformPlugin.acroFormDictionaryRoot._eventID,St.internal.acroformPlugin.printedOut=!0})(_e)}),_e.internal.events.subscribe("buildDocument",function(){(function(St){St.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var en=St.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var tn in en)if(en.hasOwnProperty(tn)){var nn=en[tn];nn.objId=void 0,nn.hasAnnotation&&nt(nn,St)}})(_e)}),_e.internal.events.subscribe("putCatalog",function(){(function(St){if(St.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");St.internal.write("/AcroForm "+St.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(_e)}),_e.internal.events.subscribe("postPutPages",function(St){(function(en,tn){var nn=!en;for(var rn in en||(tn.internal.newObjectDeferredBegin(tn.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),tn.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),en=en||tn.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(en.hasOwnProperty(rn)){var on=en[rn],un=[],cn=on.Rect;if(on.Rect&&(on.Rect=$(on.Rect,tn)),tn.internal.newObjectDeferredBegin(on.objId,!0),on.DA=At.createDefaultAppearanceStream(on),_typeof(on)==="object"&&typeof on.getKeyValueListForStream=="function"&&(un=on.getKeyValueListForStream()),on.Rect=cn,on.hasAppearanceStream&&!on.appearanceStreamContent){var dn=Q(on);un.push({key:"AP",value:"<</N "+dn+">>"}),tn.internal.acroformPlugin.xForms.push(dn)}if(on.appearanceStreamContent){var Sn="";for(var mn in on.appearanceStreamContent)if(on.appearanceStreamContent.hasOwnProperty(mn)){var fn=on.appearanceStreamContent[mn];if(Sn+="/"+mn+" ",Sn+="<<",Object.keys(fn).length>=1||Array.isArray(fn)){for(var rn in fn)if(fn.hasOwnProperty(rn)){var vn=fn[rn];typeof vn=="function"&&(vn=vn.call(tn,on)),Sn+="/"+rn+" "+vn+" ",tn.internal.acroformPlugin.xForms.indexOf(vn)>=0||tn.internal.acroformPlugin.xForms.push(vn)}}else typeof(vn=fn)=="function"&&(vn=vn.call(tn,on)),Sn+="/"+rn+" "+vn,tn.internal.acroformPlugin.xForms.indexOf(vn)>=0||tn.internal.acroformPlugin.xForms.push(vn);Sn+=">>"}un.push({key:"AP",value:`<<
`+Sn+">>"})}tn.internal.putStream({additionalKeyValues:un,objectId:on.objId}),tn.internal.out("endobj")}nn&&it(tn.internal.acroformPlugin.xForms,tn)})(St,_e)}),_e.internal.acroformPlugin.isInitialized=!0}},ot=q.__acroform__.arrayToPdfArray=function(_e,e,St){var en=function(rn){return rn};if(Array.isArray(_e)){for(var tn="[",nn=0;nn<_e.length;nn++)switch(nn!==0&&(tn+=" "),_typeof(_e[nn])){case"boolean":case"number":case"object":tn+=_e[nn].toString();break;case"string":_e[nn].substr(0,1)!=="/"?(e!==void 0&&St&&(en=St.internal.getEncryptor(e)),tn+="("+R(en(_e[nn].toString()))+")"):tn+=_e[nn].toString()}return tn+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(_e,e,St){var en=function(tn){return tn};return e!==void 0&&St&&(en=St.internal.getEncryptor(e)),(_e=_e||"").toString(),_e="("+R(en(_e))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(_e){this._objId=_e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var _e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:_e,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var _e=[],e=Object.getOwnPropertyNames(this).filter(function(nn){return nn!="content"&&nn!="appearanceStreamContent"&&nn!="scope"&&nn!="objId"&&nn.substring(0,1)!="_"});for(var St in e)if(Object.getOwnPropertyDescriptor(this,e[St]).configurable===!1){var en=e[St],tn=this[en];tn&&(Array.isArray(tn)?_e.push({key:en,value:ot(tn,this.objId,this.scope)}):tn instanceof ct?(tn.scope=this.scope,_e.push({key:en,value:tn.objId+" 0 R"})):typeof tn!="function"&&_e.push({key:en,value:tn}))}return _e};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var _e,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(St){e=St}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(St){_e=St.trim()},get:function(){return _e||null}})};H(ut,ct);var ht=function(){ct.call(this);var _e,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(_e){var St=function(en){return en};return this.scope&&(St=this.scope.internal.getEncryptor(this.objId)),"("+R(St(_e))+")"}},set:function(St){_e=St}})};H(ht,ct);var lt=function _e(){ct.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(pn){if(isNaN(pn))throw new Error('Invalid value "'+pn+'" for attribute F supplied.');e=pn}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(e,3))},set:function(pn){Boolean(pn)===!0?this.F=K(e,3):this.F=Z(e,3)}});var St=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return St},set:function(pn){if(isNaN(pn))throw new Error('Invalid value "'+pn+'" for attribute Ff supplied.');St=pn}});var en=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(en.length!==0)return en},set:function(pn){en=pn!==void 0?pn:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!en||isNaN(en[0])?0:en[0]},set:function(pn){en[0]=pn}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!en||isNaN(en[1])?0:en[1]},set:function(pn){en[1]=pn}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!en||isNaN(en[2])?0:en[2]},set:function(pn){en[2]=pn}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!en||isNaN(en[3])?0:en[3]},set:function(pn){en[3]=pn}});var tn="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return tn},set:function(pn){switch(pn){case"/Btn":case"/Tx":case"/Ch":case"/Sig":tn=pn;break;default:throw new Error('Invalid value "'+pn+'" for attribute FT supplied.')}}});var nn=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!nn||nn.length<1){if(this instanceof yt)return;nn="FieldObject"+_e.FieldNum++}var pn=function(yn){return yn};return this.scope&&(pn=this.scope.internal.getEncryptor(this.objId)),"("+R(pn(nn))+")"},set:function(pn){nn=pn.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return nn},set:function(pn){nn=pn}});var rn="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return rn},set:function(pn){rn=pn}});var on="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return on},set:function(pn){on=pn}});var un=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return un},set:function(pn){un=pn}});var cn=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return cn===void 0?50/D:cn},set:function(pn){cn=pn}});var dn="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return dn},set:function(pn){dn=pn}});var Sn="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!Sn||this instanceof yt||this instanceof Nt))return st(Sn,this.objId,this.scope)},set:function(pn){pn=pn.toString(),Sn=pn}});var mn=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(mn)return this instanceof mt?mn:st(mn,this.objId,this.scope)},set:function(pn){pn=pn.toString(),mn=this instanceof mt?pn:pn.substr(0,1)==="("?T(pn.substr(1,pn.length-2)):T(pn)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(mn.substr(1,mn.length-1)):mn},set:function(pn){pn=pn.toString(),mn=this instanceof mt?"/"+pn:pn}});var fn=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(fn)return fn},set:function(pn){this.V=pn}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(fn)return this instanceof mt?fn:st(fn,this.objId,this.scope)},set:function(pn){pn=pn.toString(),fn=this instanceof mt?pn:pn.substr(0,1)==="("?T(pn.substr(1,pn.length-2)):T(pn)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt?T(fn.substr(1,fn.length-1)):fn},set:function(pn){pn=pn.toString(),fn=this instanceof mt?"/"+pn:pn}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var vn,bn=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return bn},set:function(pn){pn=Boolean(pn),bn=pn}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(vn)return vn},set:function(pn){vn=pn}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,1))},set:function(pn){Boolean(pn)===!0?this.Ff=K(this.Ff,1):this.Ff=Z(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,2))},set:function(pn){Boolean(pn)===!0?this.Ff=K(this.Ff,2):this.Ff=Z(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,3))},set:function(pn){Boolean(pn)===!0?this.Ff=K(this.Ff,3):this.Ff=Z(this.Ff,3)}});var wn=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(wn!==null)return wn},set:function(pn){if([0,1,2].indexOf(pn)===-1)throw new Error('Invalid value "'+pn+'" for attribute Q supplied.');wn=pn}}),Object.defineProperty(this,"textAlign",{get:function(){var pn;switch(wn){case 0:default:pn="left";break;case 1:pn="center";break;case 2:pn="right"}return pn},configurable:!0,enumerable:!0,set:function(pn){switch(pn){case"right":case 2:wn=2;break;case"center":case 1:wn=1;break;case"left":case 0:default:wn=0}}})};H(lt,ct);var ft=function(){lt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var _e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return _e},set:function(St){_e=St}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return _e},set:function(St){_e=St}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(e,this.objId,this.scope)},set:function(St){var en,tn;tn=[],typeof(en=St)=="string"&&(tn=function(nn,rn,on){on||(on=1);for(var un,cn=[];un=rn.exec(nn);)cn.push(un[on]);return cn}(en,/\((.*?)\)/g)),e=tn}}),this.getOptions=function(){return e},this.setOptions=function(St){e=St,this.sort&&e.sort()},this.addOption=function(St){St=(St=St||"").toString(),e.push(St),this.sort&&e.sort()},this.removeOption=function(St,en){for(en=en||!1,St=(St=St||"").toString();e.indexOf(St)!==-1&&(e.splice(e.indexOf(St),1),en!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,18))},set:function(St){Boolean(St)===!0?this.Ff=K(this.Ff,18):this.Ff=Z(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,19))},set:function(St){this.combo===!0&&(Boolean(St)===!0?this.Ff=K(this.Ff,19):this.Ff=Z(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,20))},set:function(St){Boolean(St)===!0?(this.Ff=K(this.Ff,20),e.sort()):this.Ff=Z(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,22))},set:function(St){Boolean(St)===!0?this.Ff=K(this.Ff,22):this.Ff=Z(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,23))},set:function(St){Boolean(St)===!0?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,27))},set:function(St){Boolean(St)===!0?this.Ff=K(this.Ff,27):this.Ff=Z(this.Ff,27)}}),this.hasAppearanceStream=!1};H(ft,lt);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H(dt,ft);var pt=function(){dt.call(this),this.combo=!0};H(pt,dt);var gt=function(){pt.call(this),this.edit=!0};H(gt,pt);var mt=function(){lt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,15))},set:function(St){Boolean(St)===!0?this.Ff=K(this.Ff,15):this.Ff=Z(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,16))},set:function(St){Boolean(St)===!0?this.Ff=K(this.Ff,16):this.Ff=Z(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,17))},set:function(St){Boolean(St)===!0?this.Ff=K(this.Ff,17):this.Ff=Z(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,26))},set:function(St){Boolean(St)===!0?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var _e,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var St=function(nn){return nn};if(this.scope&&(St=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var en,tn=[];for(en in tn.push("<<"),e)tn.push("/"+en+" ("+R(St(e[en]))+")");return tn.push(">>"),tn.join(`
`)}},set:function(St){_typeof(St)==="object"&&(e=St)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(St){typeof St=="string"&&(e.CA=St)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return _e},set:function(St){_e=St}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return _e.substr(1,_e.length-1)},set:function(St){_e="/"+St}})};H(mt,lt);var vt=function(){mt.call(this),this.pushButton=!0};H(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var _e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return _e},set:function(e){_e=e!==void 0?e:[]}})};H(bt,mt);var yt=function(){var _e,e;lt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return _e},set:function(tn){_e=tn}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(tn){e=tn}});var St,en={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var tn=function(on){return on};this.scope&&(tn=this.scope.internal.getEncryptor(this.objId));var nn,rn=[];for(nn in rn.push("<<"),en)rn.push("/"+nn+" ("+R(tn(en[nn]))+")");return rn.push(">>"),rn.join(`
`)},set:function(tn){_typeof(tn)==="object"&&(en=tn)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return en.CA||""},set:function(tn){typeof tn=="string"&&(en.CA=tn)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return St},set:function(tn){St=tn}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return St.substr(1,St.length-1)},set:function(tn){St="/"+tn}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H(yt,lt),bt.prototype.setAppearance=function(_e){if(!("createAppearanceStream"in _e)||!("getCA"in _e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var St=this.Kids[e];St.appearanceStreamContent=_e.createAppearanceStream(St.optionName),St.caption=_e.getCA()}},bt.prototype.createOption=function(_e){var e=new yt;return e.Parent=this,e.optionName=_e,this.Kids.push(e),xt.call(this.scope,e),e};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};H(wt,mt);var Nt=function(){lt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,13))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,13):this.Ff=Z(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,21))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,21):this.Ff=Z(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,23))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,23):this.Ff=Z(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,24))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,24):this.Ff=Z(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,25))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,25):this.Ff=Z(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,26))},set:function(e){Boolean(e)===!0?this.Ff=K(this.Ff,26):this.Ff=Z(this.Ff,26)}});var _e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return _e},set:function(e){_e=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return _e},set:function(e){Number.isInteger(e)&&(_e=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H(Nt,lt);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(X(this.Ff,14))},set:function(_e){Boolean(_e)===!0?this.Ff=K(this.Ff,14):this.Ff=Z(this.Ff,14)}}),this.password=!0};H(Lt,Nt);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(_e){var e=V(_e);e.scope=_e.scope;var St=[],en=_e.scope.internal.getFont(_e.fontName,_e.fontStyle).id,tn=_e.scope.__private__.encodeColorString(_e.color),nn=tt(_e,_e.caption);return St.push("0.749023 g"),St.push("0 0 "+U(At.internal.getWidth(_e))+" "+U(At.internal.getHeight(_e))+" re"),St.push("f"),St.push("BMC"),St.push("q"),St.push("0 0 1 rg"),St.push("/"+en+" "+U(nn.fontSize)+" Tf "+tn),St.push("BT"),St.push(nn.text),St.push("ET"),St.push("Q"),St.push("EMC"),e.stream=St.join(`
`),e},YesNormal:function(_e){var e=V(_e);e.scope=_e.scope;var St=_e.scope.internal.getFont(_e.fontName,_e.fontStyle).id,en=_e.scope.__private__.encodeColorString(_e.color),tn=[],nn=At.internal.getHeight(_e),rn=At.internal.getWidth(_e),on=tt(_e,_e.caption);return tn.push("1 g"),tn.push("0 0 "+U(rn)+" "+U(nn)+" re"),tn.push("f"),tn.push("q"),tn.push("0 0 1 rg"),tn.push("0 0 "+U(rn-1)+" "+U(nn-1)+" re"),tn.push("W"),tn.push("n"),tn.push("0 g"),tn.push("BT"),tn.push("/"+St+" "+U(on.fontSize)+" Tf "+en),tn.push(on.text),tn.push("ET"),tn.push("Q"),e.stream=tn.join(`
`),e},OffPushDown:function(_e){var e=V(_e);e.scope=_e.scope;var St=[];return St.push("0.749023 g"),St.push("0 0 "+U(At.internal.getWidth(_e))+" "+U(At.internal.getHeight(_e))+" re"),St.push("f"),e.stream=St.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(_e){var e={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return e.N[_e]=At.RadioButton.Circle.YesNormal,e.D[_e]=At.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(_e){var e=V(_e);e.scope=_e.scope;var St=[],en=At.internal.getWidth(_e)<=At.internal.getHeight(_e)?At.internal.getWidth(_e)/4:At.internal.getHeight(_e)/4;en=Number((.9*en).toFixed(5));var tn=At.internal.Bezier_C,nn=Number((en*tn).toFixed(5));return St.push("q"),St.push("1 0 0 1 "+z(At.internal.getWidth(_e)/2)+" "+z(At.internal.getHeight(_e)/2)+" cm"),St.push(en+" 0 m"),St.push(en+" "+nn+" "+nn+" "+en+" 0 "+en+" c"),St.push("-"+nn+" "+en+" -"+en+" "+nn+" -"+en+" 0 c"),St.push("-"+en+" -"+nn+" -"+nn+" -"+en+" 0 -"+en+" c"),St.push(nn+" -"+en+" "+en+" -"+nn+" "+en+" 0 c"),St.push("f"),St.push("Q"),e.stream=St.join(`
`),e},YesPushDown:function(_e){var e=V(_e);e.scope=_e.scope;var St=[],en=At.internal.getWidth(_e)<=At.internal.getHeight(_e)?At.internal.getWidth(_e)/4:At.internal.getHeight(_e)/4;en=Number((.9*en).toFixed(5));var tn=Number((2*en).toFixed(5)),nn=Number((tn*At.internal.Bezier_C).toFixed(5)),rn=Number((en*At.internal.Bezier_C).toFixed(5));return St.push("0.749023 g"),St.push("q"),St.push("1 0 0 1 "+z(At.internal.getWidth(_e)/2)+" "+z(At.internal.getHeight(_e)/2)+" cm"),St.push(tn+" 0 m"),St.push(tn+" "+nn+" "+nn+" "+tn+" 0 "+tn+" c"),St.push("-"+nn+" "+tn+" -"+tn+" "+nn+" -"+tn+" 0 c"),St.push("-"+tn+" -"+nn+" -"+nn+" -"+tn+" 0 -"+tn+" c"),St.push(nn+" -"+tn+" "+tn+" -"+nn+" "+tn+" 0 c"),St.push("f"),St.push("Q"),St.push("0 g"),St.push("q"),St.push("1 0 0 1 "+z(At.internal.getWidth(_e)/2)+" "+z(At.internal.getHeight(_e)/2)+" cm"),St.push(en+" 0 m"),St.push(en+" "+rn+" "+rn+" "+en+" 0 "+en+" c"),St.push("-"+rn+" "+en+" -"+en+" "+rn+" -"+en+" 0 c"),St.push("-"+en+" -"+rn+" -"+rn+" -"+en+" 0 -"+en+" c"),St.push(rn+" -"+en+" "+en+" -"+rn+" "+en+" 0 c"),St.push("f"),St.push("Q"),e.stream=St.join(`
`),e},OffPushDown:function(_e){var e=V(_e);e.scope=_e.scope;var St=[],en=At.internal.getWidth(_e)<=At.internal.getHeight(_e)?At.internal.getWidth(_e)/4:At.internal.getHeight(_e)/4;en=Number((.9*en).toFixed(5));var tn=Number((2*en).toFixed(5)),nn=Number((tn*At.internal.Bezier_C).toFixed(5));return St.push("0.749023 g"),St.push("q"),St.push("1 0 0 1 "+z(At.internal.getWidth(_e)/2)+" "+z(At.internal.getHeight(_e)/2)+" cm"),St.push(tn+" 0 m"),St.push(tn+" "+nn+" "+nn+" "+tn+" 0 "+tn+" c"),St.push("-"+nn+" "+tn+" -"+tn+" "+nn+" -"+tn+" 0 c"),St.push("-"+tn+" -"+nn+" -"+nn+" -"+tn+" 0 -"+tn+" c"),St.push(nn+" -"+tn+" "+tn+" -"+nn+" "+tn+" 0 c"),St.push("f"),St.push("Q"),e.stream=St.join(`
`),e}},Cross:{createAppearanceStream:function(_e){var e={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return e.N[_e]=At.RadioButton.Cross.YesNormal,e.D[_e]=At.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(_e){var e=V(_e);e.scope=_e.scope;var St=[],en=At.internal.calculateCross(_e);return St.push("q"),St.push("1 1 "+U(At.internal.getWidth(_e)-2)+" "+U(At.internal.getHeight(_e)-2)+" re"),St.push("W"),St.push("n"),St.push(U(en.x1.x)+" "+U(en.x1.y)+" m"),St.push(U(en.x2.x)+" "+U(en.x2.y)+" l"),St.push(U(en.x4.x)+" "+U(en.x4.y)+" m"),St.push(U(en.x3.x)+" "+U(en.x3.y)+" l"),St.push("s"),St.push("Q"),e.stream=St.join(`
`),e},YesPushDown:function(_e){var e=V(_e);e.scope=_e.scope;var St=At.internal.calculateCross(_e),en=[];return en.push("0.749023 g"),en.push("0 0 "+U(At.internal.getWidth(_e))+" "+U(At.internal.getHeight(_e))+" re"),en.push("f"),en.push("q"),en.push("1 1 "+U(At.internal.getWidth(_e)-2)+" "+U(At.internal.getHeight(_e)-2)+" re"),en.push("W"),en.push("n"),en.push(U(St.x1.x)+" "+U(St.x1.y)+" m"),en.push(U(St.x2.x)+" "+U(St.x2.y)+" l"),en.push(U(St.x4.x)+" "+U(St.x4.y)+" m"),en.push(U(St.x3.x)+" "+U(St.x3.y)+" l"),en.push("s"),en.push("Q"),e.stream=en.join(`
`),e},OffPushDown:function(_e){var e=V(_e);e.scope=_e.scope;var St=[];return St.push("0.749023 g"),St.push("0 0 "+U(At.internal.getWidth(_e))+" "+U(At.internal.getHeight(_e))+" re"),St.push("f"),e.stream=St.join(`
`),e}}},createDefaultAppearanceStream:function(_e){var e=_e.scope.internal.getFont(_e.fontName,_e.fontStyle).id,St=_e.scope.__private__.encodeColorString(_e.color);return"/"+e+" "+_e.fontSize+" Tf "+St}};At.internal={Bezier_C:.551915024494,calculateCross:function(_e){var e=At.internal.getWidth(_e),St=At.internal.getHeight(_e),en=Math.min(e,St);return{x1:{x:(e-en)/2,y:(St-en)/2+en},x2:{x:(e-en)/2+en,y:(St-en)/2},x3:{x:(e-en)/2,y:(St-en)/2},x4:{x:(e-en)/2+en,y:(St-en)/2+en}}}},At.internal.getWidth=function(_e){var e=0;return _typeof(_e)==="object"&&(e=W(_e.Rect[2])),e},At.internal.getHeight=function(_e){var e=0;return _typeof(_e)==="object"&&(e=W(_e.Rect[3])),e};var xt=q.addField=function(_e){if(at(this,_e),!(_e instanceof lt))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=_e).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),_e.page=_e.scope.internal.getCurrentPageInfo().pageNumber,this};q.AcroFormChoiceField=ft,q.AcroFormListBox=dt,q.AcroFormComboBox=pt,q.AcroFormEditBox=gt,q.AcroFormButton=mt,q.AcroFormPushButton=vt,q.AcroFormRadioButton=bt,q.AcroFormCheckBox=wt,q.AcroFormTextField=Nt,q.AcroFormPasswordField=Lt,q.AcroFormAppearance=At,q.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At};E.AcroForm;function _t(_e){return _e.reduce(function(e,St,en){return e[St]=en,e},{})}(function(_e){_e.__addimage__={};var e="UNKNOWN",St={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},en=_e.__addimage__.getImageFileTypeByImageData=function(Mn,Gn){var er,Qn,ar,tr,or,Yn=e;if((Gn=Gn||e)==="RGBA"||Mn.data!==void 0&&Mn.data instanceof Uint8ClampedArray&&"height"in Mn&&"width"in Mn)return"RGBA";if(Pn(Mn))for(or in St)for(ar=St[or],er=0;er<ar.length;er+=1){for(tr=!0,Qn=0;Qn<ar[er].length;Qn+=1)if(ar[er][Qn]!==void 0&&ar[er][Qn]!==Mn[Qn]){tr=!1;break}if(tr===!0){Yn=or;break}}else for(or in St)for(ar=St[or],er=0;er<ar.length;er+=1){for(tr=!0,Qn=0;Qn<ar[er].length;Qn+=1)if(ar[er][Qn]!==void 0&&ar[er][Qn]!==Mn.charCodeAt(Qn)){tr=!1;break}if(tr===!0){Yn=or;break}}return Yn===e&&Gn!==e&&(Yn=Gn),Yn},tn=function Mn(Gn){for(var er=this.internal.write,Qn=this.internal.putStream,ar=(0,this.internal.getFilters)();ar.indexOf("FlateEncode")!==-1;)ar.splice(ar.indexOf("FlateEncode"),1);Gn.objectId=this.internal.newObject();var tr=[];if(tr.push({key:"Type",value:"/XObject"}),tr.push({key:"Subtype",value:"/Image"}),tr.push({key:"Width",value:Gn.width}),tr.push({key:"Height",value:Gn.height}),Gn.colorSpace===wn.INDEXED?tr.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Gn.palette.length/3-1)+" "+("sMask"in Gn&&Gn.sMask!==void 0?Gn.objectId+2:Gn.objectId+1)+" 0 R]"}):(tr.push({key:"ColorSpace",value:"/"+Gn.colorSpace}),Gn.colorSpace===wn.DEVICE_CMYK&&tr.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),tr.push({key:"BitsPerComponent",value:Gn.bitsPerComponent}),"decodeParameters"in Gn&&Gn.decodeParameters!==void 0&&tr.push({key:"DecodeParms",value:"<<"+Gn.decodeParameters+">>"}),"transparency"in Gn&&Array.isArray(Gn.transparency)){for(var or="",Yn=0,ur=Gn.transparency.length;Yn<ur;Yn++)or+=Gn.transparency[Yn]+" "+Gn.transparency[Yn]+" ";tr.push({key:"Mask",value:"["+or+"]"})}Gn.sMask!==void 0&&tr.push({key:"SMask",value:Gn.objectId+1+" 0 R"});var pr=Gn.filter!==void 0?["/"+Gn.filter]:void 0;if(Qn({data:Gn.data,additionalKeyValues:tr,alreadyAppliedFilters:pr,objectId:Gn.objectId}),er("endobj"),"sMask"in Gn&&Gn.sMask!==void 0){var Lr="/Predictor "+Gn.predictor+" /Colors 1 /BitsPerComponent "+Gn.bitsPerComponent+" /Columns "+Gn.width,Fn={width:Gn.width,height:Gn.height,colorSpace:"DeviceGray",bitsPerComponent:Gn.bitsPerComponent,decodeParameters:Lr,data:Gn.sMask};"filter"in Gn&&(Fn.filter=Gn.filter),Mn.call(this,Fn)}if(Gn.colorSpace===wn.INDEXED){var Rn=this.internal.newObject();Qn({data:On(new Uint8Array(Gn.palette)),objectId:Rn}),er("endobj")}},nn=function(){var Mn=this.internal.collections.addImage_images;for(var Gn in Mn)tn.call(this,Mn[Gn])},rn=function(){var Mn,Gn=this.internal.collections.addImage_images,er=this.internal.write;for(var Qn in Gn)er("/I"+(Mn=Gn[Qn]).index,Mn.objectId,"0","R")},on=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",nn),this.internal.events.subscribe("putXobjectDict",rn))},un=function(){var Mn=this.internal.collections.addImage_images;return on.call(this),Mn},cn=function(){return Object.keys(this.internal.collections.addImage_images).length},dn=function(Mn){return typeof _e["process"+Mn.toUpperCase()]=="function"},Sn=function(Mn){return _typeof(Mn)==="object"&&Mn.nodeType===1},mn=function(Mn,Gn){if(Mn.nodeName==="IMG"&&Mn.hasAttribute("src")){var er=""+Mn.getAttribute("src");if(er.indexOf("data:image/")===0)return u(unescape(er).split("base64,").pop());var Qn=_e.loadFile(er,!0);if(Qn!==void 0)return Qn}if(Mn.nodeName==="CANVAS"){if(Mn.width===0||Mn.height===0)throw new Error("Given canvas must have data. Canvas width: "+Mn.width+", height: "+Mn.height);var ar;switch(Gn){case"PNG":ar="image/png";break;case"WEBP":ar="image/webp";break;case"JPEG":case"JPG":default:ar="image/jpeg"}return u(Mn.toDataURL(ar,1).split("base64,").pop())}},fn=function(Mn){var Gn=this.internal.collections.addImage_images;if(Gn){for(var er in Gn)if(Mn===Gn[er].alias)return Gn[er]}},vn=function(Mn,Gn,er){return Mn||Gn||(Mn=-96,Gn=-96),Mn<0&&(Mn=-1*er.width*72/Mn/this.internal.scaleFactor),Gn<0&&(Gn=-1*er.height*72/Gn/this.internal.scaleFactor),Mn===0&&(Mn=Gn*er.width/er.height),Gn===0&&(Gn=Mn*er.height/er.width),[Mn,Gn]},bn=function(Mn,Gn,er,Qn,ar,tr){var or=vn.call(this,er,Qn,ar),Yn=this.internal.getCoordinateString,ur=this.internal.getVerticalCoordinateString,pr=un.call(this);if(er=or[0],Qn=or[1],pr[ar.index]=ar,tr){tr*=Math.PI/180;var Lr=Math.cos(tr),Fn=Math.sin(tr),Rn=function(Bn){return Bn.toFixed(4)},Tn=[Rn(Lr),Rn(Fn),Rn(-1*Fn),Rn(Lr),0,0,"cm"]}this.internal.write("q"),tr?(this.internal.write([1,"0","0",1,Yn(Mn),ur(Gn+Qn),"cm"].join(" ")),this.internal.write(Tn.join(" ")),this.internal.write([Yn(er),"0","0",Yn(Qn),"0","0","cm"].join(" "))):this.internal.write([Yn(er),"0","0",Yn(Qn),Yn(Mn),ur(Gn+Qn),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ar.index+" Do"),this.internal.write("Q")},wn=_e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};_e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var pn=_e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},yn=_e.__addimage__.sHashCode=function(Mn){var Gn,er,Qn=0;if(typeof Mn=="string")for(er=Mn.length,Gn=0;Gn<er;Gn++)Qn=(Qn<<5)-Qn+Mn.charCodeAt(Gn),Qn|=0;else if(Pn(Mn))for(er=Mn.byteLength/2,Gn=0;Gn<er;Gn++)Qn=(Qn<<5)-Qn+Mn[Gn],Qn|=0;return Qn},An=_e.__addimage__.validateStringAsBase64=function(Mn){(Mn=Mn||"").toString().trim();var Gn=!0;return Mn.length===0&&(Gn=!1),Mn.length%4!=0&&(Gn=!1),/^[A-Za-z0-9+/]+$/.test(Mn.substr(0,Mn.length-2))===!1&&(Gn=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Mn.substr(-2))===!1&&(Gn=!1),Gn},kn=_e.__addimage__.extractImageFromDataUrl=function(Mn){var Gn=(Mn=Mn||"").split("base64,"),er=null;if(Gn.length===2){var Qn=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(Gn[0]);Array.isArray(Qn)&&(er={mimeType:Qn[1],charset:Qn[2],data:Gn[1]})}return er},xn=_e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};_e.__addimage__.isArrayBuffer=function(Mn){return xn()&&Mn instanceof ArrayBuffer};var Pn=_e.__addimage__.isArrayBufferView=function(Mn){return xn()&&typeof Uint32Array<"u"&&(Mn instanceof Int8Array||Mn instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&Mn instanceof Uint8ClampedArray||Mn instanceof Int16Array||Mn instanceof Uint16Array||Mn instanceof Int32Array||Mn instanceof Uint32Array||Mn instanceof Float32Array||Mn instanceof Float64Array)},In=_e.__addimage__.binaryStringToUint8Array=function(Mn){for(var Gn=Mn.length,er=new Uint8Array(Gn),Qn=0;Qn<Gn;Qn++)er[Qn]=Mn.charCodeAt(Qn);return er},On=_e.__addimage__.arrayBufferToBinaryString=function(Mn){for(var Gn="",er=Pn(Mn)?Mn:new Uint8Array(Mn),Qn=0;Qn<er.length;Qn+=8192)Gn+=String.fromCharCode.apply(null,er.subarray(Qn,Qn+8192));return Gn};_e.addImage=function(){var Mn,Gn,er,Qn,ar,tr,or,Yn,ur;if(typeof arguments[1]=="number"?(Gn=e,er=arguments[1],Qn=arguments[2],ar=arguments[3],tr=arguments[4],or=arguments[5],Yn=arguments[6],ur=arguments[7]):(Gn=arguments[1],er=arguments[2],Qn=arguments[3],ar=arguments[4],tr=arguments[5],or=arguments[6],Yn=arguments[7],ur=arguments[8]),_typeof(Mn=arguments[0])==="object"&&!Sn(Mn)&&"imageData"in Mn){var pr=Mn;Mn=pr.imageData,Gn=pr.format||Gn||e,er=pr.x||er||0,Qn=pr.y||Qn||0,ar=pr.w||pr.width||ar,tr=pr.h||pr.height||tr,or=pr.alias||or,Yn=pr.compression||Yn,ur=pr.rotation||pr.angle||ur}var Lr=this.internal.getFilters();if(Yn===void 0&&Lr.indexOf("FlateEncode")!==-1&&(Yn="SLOW"),isNaN(er)||isNaN(Qn))throw new Error("Invalid coordinates passed to jsPDF.addImage");on.call(this);var Fn=Wn.call(this,Mn,Gn,or,Yn);return bn.call(this,er,Qn,ar,tr,Fn,ur),this};var Wn=function(Mn,Gn,er,Qn){var ar,tr,or;if(typeof Mn=="string"&&en(Mn)===e){Mn=unescape(Mn);var Yn=zn(Mn,!1);(Yn!==""||(Yn=_e.loadFile(Mn,!0))!==void 0)&&(Mn=Yn)}if(Sn(Mn)&&(Mn=mn(Mn,Gn)),Gn=en(Mn,Gn),!dn(Gn))throw new Error("addImage does not support files of type '"+Gn+"', please ensure that a plugin for '"+Gn+"' support is added.");if(((or=er)==null||or.length===0)&&(er=function(ur){return typeof ur=="string"||Pn(ur)?yn(ur):Pn(ur.data)?yn(ur.data):null}(Mn)),(ar=fn.call(this,er))||(xn()&&(Mn instanceof Uint8Array||Gn==="RGBA"||(tr=Mn,Mn=In(Mn))),ar=this["process"+Gn.toUpperCase()](Mn,cn.call(this),er,function(ur){return ur&&typeof ur=="string"&&(ur=ur.toUpperCase()),ur in _e.image_compression?ur:pn.NONE}(Qn),tr)),!ar)throw new Error("An unknown error occurred whilst processing the image.");return ar},zn=_e.__addimage__.convertBase64ToBinaryString=function(Mn,Gn){var er;Gn=typeof Gn!="boolean"||Gn;var Qn,ar="";if(typeof Mn=="string"){Qn=(er=kn(Mn))!==null?er.data:Mn;try{ar=u(Qn)}catch(tr){if(Gn)throw An(Qn)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+tr.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ar};_e.getImageProperties=function(Mn){var Gn,er,Qn="";if(Sn(Mn)&&(Mn=mn(Mn)),typeof Mn=="string"&&en(Mn)===e&&((Qn=zn(Mn,!1))===""&&(Qn=_e.loadFile(Mn)||""),Mn=Qn),er=en(Mn),!dn(er))throw new Error("addImage does not support files of type '"+er+"', please ensure that a plugin for '"+er+"' support is added.");if(!xn()||Mn instanceof Uint8Array||(Mn=In(Mn)),!(Gn=this["process"+er.toUpperCase()](Mn)))throw new Error("An unknown error occurred whilst processing the image");return Gn.fileType=er,Gn}})(E.API),function(_e){var e=function(St){if(St!==void 0&&St!="")return!0};E.API.events.push(["addPage",function(St){this.internal.getPageInfo(St.pageNumber).pageContext.annotations=[]}]),_e.events.push(["putPage",function(St){for(var en,tn,nn,rn=this.internal.getCoordinateString,on=this.internal.getVerticalCoordinateString,un=this.internal.getPageInfoByObjId(St.objId),cn=St.pageContext.annotations,dn=!1,Sn=0;Sn<cn.length&&!dn;Sn++)switch((en=cn[Sn]).type){case"link":(e(en.options.url)||e(en.options.pageNumber))&&(dn=!0);break;case"reference":case"text":case"freetext":dn=!0}if(dn!=0){this.internal.write("/Annots [");for(var mn=0;mn<cn.length;mn++){en=cn[mn];var fn=this.internal.pdfEscape,vn=this.internal.getEncryptor(St.objId);switch(en.type){case"reference":this.internal.write(" "+en.object.objId+" 0 R ");break;case"text":var bn=this.internal.newAdditionalObject(),wn=this.internal.newAdditionalObject(),pn=this.internal.getEncryptor(bn.objId),yn=en.title||"Note";nn="<</Type /Annot /Subtype /Text "+(tn="/Rect ["+rn(en.bounds.x)+" "+on(en.bounds.y+en.bounds.h)+" "+rn(en.bounds.x+en.bounds.w)+" "+on(en.bounds.y)+"] ")+"/Contents ("+fn(pn(en.contents))+")",nn+=" /Popup "+wn.objId+" 0 R",nn+=" /P "+un.objId+" 0 R",nn+=" /T ("+fn(pn(yn))+") >>",bn.content=nn;var An=bn.objId+" 0 R";nn="<</Type /Annot /Subtype /Popup "+(tn="/Rect ["+rn(en.bounds.x+30)+" "+on(en.bounds.y+en.bounds.h)+" "+rn(en.bounds.x+en.bounds.w+30)+" "+on(en.bounds.y)+"] ")+" /Parent "+An,en.open&&(nn+=" /Open true"),nn+=" >>",wn.content=nn,this.internal.write(bn.objId,"0 R",wn.objId,"0 R");break;case"freetext":tn="/Rect ["+rn(en.bounds.x)+" "+on(en.bounds.y)+" "+rn(en.bounds.x+en.bounds.w)+" "+on(en.bounds.y+en.bounds.h)+"] ";var kn=en.color||"#000000";nn="<</Type /Annot /Subtype /FreeText "+tn+"/Contents ("+fn(vn(en.contents))+")",nn+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+kn+")",nn+=" /Border [0 0 0]",nn+=" >>",this.internal.write(nn);break;case"link":if(en.options.name){var xn=this.annotations._nameMap[en.options.name];en.options.pageNumber=xn.page,en.options.top=xn.y}else en.options.top||(en.options.top=0);if(tn="/Rect ["+en.finalBounds.x+" "+en.finalBounds.y+" "+en.finalBounds.w+" "+en.finalBounds.h+"] ",nn="",en.options.url)nn="<</Type /Annot /Subtype /Link "+tn+"/Border [0 0 0] /A <</S /URI /URI ("+fn(vn(en.options.url))+") >>";else if(en.options.pageNumber)switch(nn="<</Type /Annot /Subtype /Link "+tn+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(en.options.pageNumber).objId+" 0 R",en.options.magFactor=en.options.magFactor||"XYZ",en.options.magFactor){case"Fit":nn+=" /Fit]";break;case"FitH":nn+=" /FitH "+en.options.top+"]";break;case"FitV":en.options.left=en.options.left||0,nn+=" /FitV "+en.options.left+"]";break;case"XYZ":default:var Pn=on(en.options.top);en.options.left=en.options.left||0,en.options.zoom===void 0&&(en.options.zoom=0),nn+=" /XYZ "+en.options.left+" "+Pn+" "+en.options.zoom+"]"}nn!=""&&(nn+=" >>",this.internal.write(nn))}}this.internal.write("]")}}]),_e.createAnnotation=function(St){var en=this.internal.getCurrentPageInfo();switch(St.type){case"link":this.link(St.bounds.x,St.bounds.y,St.bounds.w,St.bounds.h,St);break;case"text":case"freetext":en.pageContext.annotations.push(St)}},_e.link=function(St,en,tn,nn,rn){var on=this.internal.getCurrentPageInfo(),un=this.internal.getCoordinateString,cn=this.internal.getVerticalCoordinateString;on.pageContext.annotations.push({finalBounds:{x:un(St),y:cn(en),w:un(St+tn),h:cn(en+nn)},options:rn,type:"link"})},_e.textWithLink=function(St,en,tn,nn){var rn,on,un=this.getTextWidth(St),cn=this.internal.getLineHeight()/this.internal.scaleFactor;if(nn.maxWidth!==void 0){on=nn.maxWidth;var dn=this.splitTextToSize(St,on).length;rn=Math.ceil(cn*dn)}else on=un,rn=cn;return this.text(St,en,tn,nn),tn+=.2*cn,nn.align==="center"&&(en-=un/2),nn.align==="right"&&(en-=un),this.link(en,tn-cn,on,rn,nn),un},_e.getTextWidth=function(St){var en=this.internal.getFontSize();return this.getStringUnitWidth(St)*en/this.internal.scaleFactor}}(E.API),function(_e){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},St={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},en={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},tn=[1570,1571,1573,1575];_e.__arabicParser__={};var nn=_e.__arabicParser__.isInArabicSubstitutionA=function(bn){return e[bn.charCodeAt(0)]!==void 0},rn=_e.__arabicParser__.isArabicLetter=function(bn){return typeof bn=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(bn)},on=_e.__arabicParser__.isArabicEndLetter=function(bn){return rn(bn)&&nn(bn)&&e[bn.charCodeAt(0)].length<=2},un=_e.__arabicParser__.isArabicAlfLetter=function(bn){return rn(bn)&&tn.indexOf(bn.charCodeAt(0))>=0};_e.__arabicParser__.arabicLetterHasIsolatedForm=function(bn){return rn(bn)&&nn(bn)&&e[bn.charCodeAt(0)].length>=1};var cn=_e.__arabicParser__.arabicLetterHasFinalForm=function(bn){return rn(bn)&&nn(bn)&&e[bn.charCodeAt(0)].length>=2};_e.__arabicParser__.arabicLetterHasInitialForm=function(bn){return rn(bn)&&nn(bn)&&e[bn.charCodeAt(0)].length>=3};var dn=_e.__arabicParser__.arabicLetterHasMedialForm=function(bn){return rn(bn)&&nn(bn)&&e[bn.charCodeAt(0)].length==4},Sn=_e.__arabicParser__.resolveLigatures=function(bn){var wn=0,pn=St,yn="",An=0;for(wn=0;wn<bn.length;wn+=1)pn[bn.charCodeAt(wn)]!==void 0?(An++,typeof(pn=pn[bn.charCodeAt(wn)])=="number"&&(yn+=String.fromCharCode(pn),pn=St,An=0),wn===bn.length-1&&(pn=St,yn+=bn.charAt(wn-(An-1)),wn-=An-1,An=0)):(pn=St,yn+=bn.charAt(wn-An),wn-=An,An=0);return yn};_e.__arabicParser__.isArabicDiacritic=function(bn){return bn!==void 0&&en[bn.charCodeAt(0)]!==void 0};var mn=_e.__arabicParser__.getCorrectForm=function(bn,wn,pn){return rn(bn)?nn(bn)===!1?-1:!cn(bn)||!rn(wn)&&!rn(pn)||!rn(pn)&&on(wn)||on(bn)&&!rn(wn)||on(bn)&&un(wn)||on(bn)&&on(wn)?0:dn(bn)&&rn(wn)&&!on(wn)&&rn(pn)&&cn(pn)?3:on(bn)||!rn(pn)?1:2:-1},fn=function(bn){var wn=0,pn=0,yn=0,An="",kn="",xn="",Pn=(bn=bn||"").split("\\s+"),In=[];for(wn=0;wn<Pn.length;wn+=1){for(In.push(""),pn=0;pn<Pn[wn].length;pn+=1)An=Pn[wn][pn],kn=Pn[wn][pn-1],xn=Pn[wn][pn+1],rn(An)?(yn=mn(An,kn,xn),In[wn]+=yn!==-1?String.fromCharCode(e[An.charCodeAt(0)][yn]):An):In[wn]+=An;In[wn]=Sn(In[wn])}return In.join(" ")},vn=_e.__arabicParser__.processArabic=_e.processArabic=function(){var bn,wn=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,pn=[];if(Array.isArray(wn)){var yn=0;for(pn=[],yn=0;yn<wn.length;yn+=1)Array.isArray(wn[yn])?pn.push([fn(wn[yn][0]),wn[yn][1],wn[yn][2]]):pn.push([fn(wn[yn])]);bn=pn}else bn=fn(wn);return typeof arguments[0]=="string"?bn:(arguments[0].text=bn,arguments[0])};_e.events.push(["preProcessText",vn])}(E.API),E.API.autoPrint=function(_e){var e;switch((_e=_e||{}).variant=_e.variant||"non-conform",_e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(_e){var e=function(){var St=void 0;Object.defineProperty(this,"pdf",{get:function(){return St},set:function(on){St=on}});var en=150;Object.defineProperty(this,"width",{get:function(){return en},set:function(on){en=isNaN(on)||Number.isInteger(on)===!1||on<0?150:on,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=en+1)}});var tn=300;Object.defineProperty(this,"height",{get:function(){return tn},set:function(on){tn=isNaN(on)||Number.isInteger(on)===!1||on<0?300:on,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=tn+1)}});var nn=[];Object.defineProperty(this,"childNodes",{get:function(){return nn},set:function(on){nn=on}});var rn={};Object.defineProperty(this,"style",{get:function(){return rn},set:function(on){rn=on}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(St,en){var tn;if((St=St||"2d")!=="2d")return null;for(tn in en)this.pdf.context2d.hasOwnProperty(tn)&&(this.pdf.context2d[tn]=en[tn]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},_e.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(E.API),function(_e){var e={left:0,top:0,bottom:0,right:0},St=!1,en=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),tn.call(this))},tn=function(){this.internal.__cell__.lastCell=new nn,this.internal.__cell__.pages=1},nn=function(){var un=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return un},set:function(bn){un=bn}});var cn=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return cn},set:function(bn){cn=bn}});var dn=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return dn},set:function(bn){dn=bn}});var Sn=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return Sn},set:function(bn){Sn=bn}});var mn=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return mn},set:function(bn){mn=bn}});var fn=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return fn},set:function(bn){fn=bn}});var vn=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return vn},set:function(bn){vn=bn}}),this};nn.prototype.clone=function(){return new nn(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},nn.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},_e.setHeaderFunction=function(un){return en.call(this),this.internal.__cell__.headerFunction=typeof un=="function"?un:void 0,this},_e.getTextDimensions=function(un,cn){en.call(this);var dn=(cn=cn||{}).fontSize||this.getFontSize(),Sn=cn.font||this.getFont(),mn=cn.scaleFactor||this.internal.scaleFactor,fn=0,vn=0,bn=0,wn=this;if(!Array.isArray(un)&&typeof un!="string"){if(typeof un!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");un=String(un)}var pn=cn.maxWidth;pn>0?typeof un=="string"?un=this.splitTextToSize(un,pn):Object.prototype.toString.call(un)==="[object Array]"&&(un=un.reduce(function(An,kn){return An.concat(wn.splitTextToSize(kn,pn))},[])):un=Array.isArray(un)?un:[un];for(var yn=0;yn<un.length;yn++)fn<(bn=this.getStringUnitWidth(un[yn],{font:Sn})*dn)&&(fn=bn);return fn!==0&&(vn=un.length),{w:fn/=mn,h:Math.max((vn*dn*this.getLineHeightFactor()-dn*(this.getLineHeightFactor()-1))/mn,0)}},_e.cellAddPage=function(){en.call(this),this.addPage();var un=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new nn(un.left,un.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var rn=_e.cell=function(){var un;un=arguments[0]instanceof nn?arguments[0]:new nn(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),en.call(this);var cn=this.internal.__cell__.lastCell,dn=this.internal.__cell__.padding,Sn=this.internal.__cell__.margins||e,mn=this.internal.__cell__.tableHeaderRow,fn=this.internal.__cell__.printHeaders;return cn.lineNumber!==void 0&&(cn.lineNumber===un.lineNumber?(un.x=(cn.x||0)+(cn.width||0),un.y=cn.y||0):cn.y+cn.height+un.height+Sn.bottom>this.getPageHeight()?(this.cellAddPage(),un.y=Sn.top,fn&&mn&&(this.printHeaderRow(un.lineNumber,!0),un.y+=mn[0].height)):un.y=cn.y+cn.height||un.y),un.text[0]!==void 0&&(this.rect(un.x,un.y,un.width,un.height,St===!0?"FD":void 0),un.align==="right"?this.text(un.text,un.x+un.width-dn,un.y+dn,{align:"right",baseline:"top"}):un.align==="center"?this.text(un.text,un.x+un.width/2,un.y+dn,{align:"center",baseline:"top",maxWidth:un.width-dn-dn}):this.text(un.text,un.x+dn,un.y+dn,{align:"left",baseline:"top",maxWidth:un.width-dn-dn})),this.internal.__cell__.lastCell=un,this};_e.table=function(un,cn,dn,Sn,mn){if(en.call(this),!dn)throw new Error("No data for PDF table.");var fn,vn,bn,wn,pn=[],yn=[],An=[],kn={},xn={},Pn=[],In=[],On=(mn=mn||{}).autoSize||!1,Wn=mn.printHeaders!==!1,zn=mn.css&&mn.css["font-size"]!==void 0?16*mn.css["font-size"]:mn.fontSize||12,Mn=mn.margins||Object.assign({width:this.getPageWidth()},e),Gn=typeof mn.padding=="number"?mn.padding:3,er=mn.headerBackgroundColor||"#c8c8c8",Qn=mn.headerTextColor||"#000";if(tn.call(this),this.internal.__cell__.printHeaders=Wn,this.internal.__cell__.margins=Mn,this.internal.__cell__.table_font_size=zn,this.internal.__cell__.padding=Gn,this.internal.__cell__.headerBackgroundColor=er,this.internal.__cell__.headerTextColor=Qn,this.setFontSize(zn),Sn==null)yn=pn=Object.keys(dn[0]),An=pn.map(function(){return"left"});else if(Array.isArray(Sn)&&_typeof(Sn[0])==="object")for(pn=Sn.map(function(pr){return pr.name}),yn=Sn.map(function(pr){return pr.prompt||pr.name||""}),An=Sn.map(function(pr){return pr.align||"left"}),fn=0;fn<Sn.length;fn+=1)xn[Sn[fn].name]=Sn[fn].width*(19.049976/25.4);else Array.isArray(Sn)&&typeof Sn[0]=="string"&&(yn=pn=Sn,An=pn.map(function(){return"left"}));if(On||Array.isArray(Sn)&&typeof Sn[0]=="string")for(fn=0;fn<pn.length;fn+=1){for(kn[wn=pn[fn]]=dn.map(function(pr){return pr[wn]}),this.setFont(void 0,"bold"),Pn.push(this.getTextDimensions(yn[fn],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),vn=kn[wn],this.setFont(void 0,"normal"),bn=0;bn<vn.length;bn+=1)Pn.push(this.getTextDimensions(vn[bn],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);xn[wn]=Math.max.apply(null,Pn)+Gn+Gn,Pn=[]}if(Wn){var ar={};for(fn=0;fn<pn.length;fn+=1)ar[pn[fn]]={},ar[pn[fn]].text=yn[fn],ar[pn[fn]].align=An[fn];var tr=on.call(this,ar,xn);In=pn.map(function(pr){return new nn(un,cn,xn[pr],tr,ar[pr].text,void 0,ar[pr].align)}),this.setTableHeaderRow(In),this.printHeaderRow(1,!1)}var or=Sn.reduce(function(pr,Lr){return pr[Lr.name]=Lr.align,pr},{});for(fn=0;fn<dn.length;fn+=1){"rowStart"in mn&&mn.rowStart instanceof Function&&mn.rowStart({row:fn,data:dn[fn]},this);var Yn=on.call(this,dn[fn],xn);for(bn=0;bn<pn.length;bn+=1){var ur=dn[fn][pn[bn]];"cellStart"in mn&&mn.cellStart instanceof Function&&mn.cellStart({row:fn,col:bn,data:ur},this),rn.call(this,new nn(un,cn,xn[pn[bn]],Yn,ur,fn+2,or[pn[bn]]))}}return this.internal.__cell__.table_x=un,this.internal.__cell__.table_y=cn,this};var on=function(un,cn){var dn=this.internal.__cell__.padding,Sn=this.internal.__cell__.table_font_size,mn=this.internal.scaleFactor;return Object.keys(un).map(function(fn){var vn=un[fn];return this.splitTextToSize(vn.hasOwnProperty("text")?vn.text:vn,cn[fn]-dn-dn)},this).map(function(fn){return this.getLineHeightFactor()*fn.length*Sn/mn+dn+dn},this).reduce(function(fn,vn){return Math.max(fn,vn)},0)};_e.setTableHeaderRow=function(un){en.call(this),this.internal.__cell__.tableHeaderRow=un},_e.printHeaderRow=function(un,cn){if(en.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var dn;if(St=!0,typeof this.internal.__cell__.headerFunction=="function"){var Sn=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new nn(Sn[0],Sn[1],Sn[2],Sn[3],void 0,-1)}this.setFont(void 0,"bold");for(var mn=[],fn=0;fn<this.internal.__cell__.tableHeaderRow.length;fn+=1){dn=this.internal.__cell__.tableHeaderRow[fn].clone(),cn&&(dn.y=this.internal.__cell__.margins.top||0,mn.push(dn)),dn.lineNumber=un;var vn=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),rn.call(this,dn),this.setTextColor(vn)}mn.length>0&&this.setTableHeaderRow(mn),this.setFont(void 0,"normal"),St=!1}}(E.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It=_t(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct=_t(Ft);function jt(_e){var e=_e.family.replace(/"|'/g,"").toLowerCase(),St=function(nn){return Pt[nn=nn||"normal"]?nn:"normal"}(_e.style),en=function(nn){if(!nn)return 400;if(typeof nn=="number")return nn>=100&&nn<=900&&nn%100==0?nn:400;if(/^\d00$/.test(nn))return parseInt(nn);switch(nn){case"bold":return 700;case"normal":default:return 400}}(_e.weight),tn=function(nn){return typeof It[nn=nn||"normal"]=="number"?nn:"normal"}(_e.stretch);return{family:e,style:St,weight:en,stretch:tn,src:_e.src||[],ref:_e.ref||{name:e,style:[tn,St,en].join(" ")}}}function Ot(_e,e,St,en){var tn;for(tn=St;tn>=0&&tn<e.length;tn+=en)if(_e[e[tn]])return _e[e[tn]];for(tn=St;tn>=0&&tn<e.length;tn-=en)if(_e[e[tn]])return _e[e[tn]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et(_e){return[_e.stretch,_e.style,_e.weight,_e.family].join(" ")}function qt(_e,e,St){for(var en=(St=St||{}).defaultFontFamily||"times",tn=Object.assign({},Bt,St.genericFontFamilies||{}),nn=null,rn=null,on=0;on<e.length;++on)if(tn[(nn=jt(e[on])).family]&&(nn.family=tn[nn.family]),_e.hasOwnProperty(nn.family)){rn=_e[nn.family];break}if(!(rn=rn||_e[en]))throw new Error("Could not find a font-family for the rule '"+Et(nn)+"' and default family '"+en+"'.");if(rn=function(un,cn){if(cn[un])return cn[un];var dn=It[un],Sn=dn<=It.normal?-1:1,mn=Ot(cn,kt,dn,Sn);if(!mn)throw new Error("Could not find a matching font-stretch value for "+un);return mn}(nn.stretch,rn),rn=function(un,cn){if(cn[un])return cn[un];for(var dn=Pt[un],Sn=0;Sn<dn.length;++Sn)if(cn[dn[Sn]])return cn[dn[Sn]];throw new Error("Could not find a matching font-style for "+un)}(nn.style,rn),!(rn=function(un,cn){if(cn[un])return cn[un];if(un===400&&cn[500])return cn[500];if(un===500&&cn[400])return cn[400];var dn=Ct[un],Sn=Ot(cn,Ft,dn,un<400?-1:1);if(!Sn)throw new Error("Could not find a matching font-weight for value "+un);return Sn}(nn.weight,rn)))throw new Error("Failed to resolve a font for the rule '"+Et(nn)+"'.");return rn}function Dt(_e){return _e.trimLeft()}function Rt(_e,e){for(var St=0;St<_e.length;){if(_e.charAt(St)===e)return[_e.substring(0,St),_e.substring(St+1)];St+=1}return null}function Tt(_e){var e=_e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],_e.substring(e[0].length)]}var Ut,zt,Ht,Wt=["times"];(function(_e){var e,St,en,tn,nn,rn,on,un,cn,dn=function(Fn){return Fn=Fn||{},this.isStrokeTransparent=Fn.isStrokeTransparent||!1,this.strokeOpacity=Fn.strokeOpacity||1,this.strokeStyle=Fn.strokeStyle||"#000000",this.fillStyle=Fn.fillStyle||"#000000",this.isFillTransparent=Fn.isFillTransparent||!1,this.fillOpacity=Fn.fillOpacity||1,this.font=Fn.font||"10px sans-serif",this.textBaseline=Fn.textBaseline||"alphabetic",this.textAlign=Fn.textAlign||"left",this.lineWidth=Fn.lineWidth||1,this.lineJoin=Fn.lineJoin||"miter",this.lineCap=Fn.lineCap||"butt",this.path=Fn.path||[],this.transform=Fn.transform!==void 0?Fn.transform.clone():new un,this.globalCompositeOperation=Fn.globalCompositeOperation||"normal",this.globalAlpha=Fn.globalAlpha||1,this.clip_path=Fn.clip_path||[],this.currentPoint=Fn.currentPoint||new rn,this.miterLimit=Fn.miterLimit||10,this.lastPoint=Fn.lastPoint||new rn,this.lineDashOffset=Fn.lineDashOffset||0,this.lineDash=Fn.lineDash||[],this.margin=Fn.margin||[0,0,0,0],this.prevPageLastElemOffset=Fn.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Fn.ignoreClearRect!="boolean"||Fn.ignoreClearRect,this};_e.events.push(["initialized",function(){this.context2d=new Sn(this),e=this.internal.f2,St=this.internal.getCoordinateString,en=this.internal.getVerticalCoordinateString,tn=this.internal.getHorizontalCoordinate,nn=this.internal.getVerticalCoordinate,rn=this.internal.Point,on=this.internal.Rectangle,un=this.internal.Matrix,cn=new dn}]);var Sn=function(Fn){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Rn=Fn;Object.defineProperty(this,"pdf",{get:function(){return Rn}});var Tn=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Tn},set:function(qn){Tn=Boolean(qn)}});var Bn=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Bn},set:function(qn){Bn=Boolean(qn)}});var Hn=0;Object.defineProperty(this,"posX",{get:function(){return Hn},set:function(qn){isNaN(qn)||(Hn=qn)}});var Kn=0;Object.defineProperty(this,"posY",{get:function(){return Kn},set:function(qn){isNaN(qn)||(Kn=qn)}}),Object.defineProperty(this,"margin",{get:function(){return cn.margin},set:function(qn){var Dn;typeof qn=="number"?Dn=[qn,qn,qn,qn]:((Dn=new Array(4))[0]=qn[0],Dn[1]=qn.length>=2?qn[1]:Dn[0],Dn[2]=qn.length>=3?qn[2]:Dn[0],Dn[3]=qn.length>=4?qn[3]:Dn[1]),cn.margin=Dn}});var nr=!1;Object.defineProperty(this,"autoPaging",{get:function(){return nr},set:function(qn){nr=qn}});var ir=0;Object.defineProperty(this,"lastBreak",{get:function(){return ir},set:function(qn){ir=qn}});var _r=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _r},set:function(qn){_r=qn}}),Object.defineProperty(this,"ctx",{get:function(){return cn},set:function(qn){qn instanceof dn&&(cn=qn)}}),Object.defineProperty(this,"path",{get:function(){return cn.path},set:function(qn){cn.path=qn}});var Cr=[];Object.defineProperty(this,"ctxStack",{get:function(){return Cr},set:function(qn){Cr=qn}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(qn){var Dn;Dn=mn(qn),this.ctx.fillStyle=Dn.style,this.ctx.isFillTransparent=Dn.a===0,this.ctx.fillOpacity=Dn.a,this.pdf.setFillColor(Dn.r,Dn.g,Dn.b,{a:Dn.a}),this.pdf.setTextColor(Dn.r,Dn.g,Dn.b,{a:Dn.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(qn){var Dn=mn(qn);this.ctx.strokeStyle=Dn.style,this.ctx.isStrokeTransparent=Dn.a===0,this.ctx.strokeOpacity=Dn.a,Dn.a===0?this.pdf.setDrawColor(255,255,255):(Dn.a,this.pdf.setDrawColor(Dn.r,Dn.g,Dn.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(qn){["butt","round","square"].indexOf(qn)!==-1&&(this.ctx.lineCap=qn,this.pdf.setLineCap(qn))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(qn){isNaN(qn)||(this.ctx.lineWidth=qn,this.pdf.setLineWidth(qn))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(qn){["bevel","round","miter"].indexOf(qn)!==-1&&(this.ctx.lineJoin=qn,this.pdf.setLineJoin(qn))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(qn){isNaN(qn)||(this.ctx.miterLimit=qn,this.pdf.setMiterLimit(qn))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(qn){this.ctx.textBaseline=qn}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(qn){["right","end","center","left","start"].indexOf(qn)!==-1&&(this.ctx.textAlign=qn)}});var br=null;function xr(qn,Dn){if(br===null){var lr=function(cr){var hr=[];return Object.keys(cr).forEach(function(Ar){cr[Ar].forEach(function(Fr){var Pr=null;switch(Fr){case"bold":Pr={family:Ar,weight:"bold"};break;case"italic":Pr={family:Ar,style:"italic"};break;case"bolditalic":Pr={family:Ar,weight:"bold",style:"italic"};break;case"":case"normal":Pr={family:Ar}}Pr!==null&&(Pr.ref={name:Ar,style:Fr},hr.push(Pr))})}),hr}(qn.getFontList());br=function(cr){for(var hr={},Ar=0;Ar<cr.length;++Ar){var Fr=jt(cr[Ar]),Pr=Fr.family,Gr=Fr.stretch,Sr=Fr.style,Wr=Fr.weight;hr[Pr]=hr[Pr]||{},hr[Pr][Gr]=hr[Pr][Gr]||{},hr[Pr][Gr][Sr]=hr[Pr][Gr][Sr]||{},hr[Pr][Gr][Sr][Wr]=Fr}return hr}(lr.concat(Dn))}return br}var Un=null;Object.defineProperty(this,"fontFaces",{get:function(){return Un},set:function(qn){br=null,Un=qn}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(qn){var Dn;if(this.ctx.font=qn,(Dn=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(qn))!==null){var lr=Dn[1],cr=(Dn[2],Dn[3]),hr=Dn[4],Ar=(Dn[5],Dn[6]),Fr=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(hr)[2];hr=Math.floor(Fr==="px"?parseFloat(hr)*this.pdf.internal.scaleFactor:Fr==="em"?parseFloat(hr)*this.pdf.getFontSize():parseFloat(hr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(hr);var Pr=function(zr){var rs,Qr,ks=[],ys=zr.trim();if(ys==="")return Wt;if(ys in Mt)return[Mt[ys]];for(;ys!=="";){switch(Qr=null,rs=(ys=Dt(ys)).charAt(0)){case'"':case"'":Qr=Rt(ys.substring(1),rs);break;default:Qr=Tt(ys)}if(Qr===null||(ks.push(Qr[0]),(ys=Dt(Qr[1]))!==""&&ys.charAt(0)!==","))return Wt;ys=ys.replace(/^,/,"")}return ks}(Ar);if(this.fontFaces){var Gr=qt(xr(this.pdf,this.fontFaces),Pr.map(function(zr){return{family:zr,stretch:"normal",weight:cr,style:lr}}));this.pdf.setFont(Gr.ref.name,Gr.ref.style)}else{var Sr="";(cr==="bold"||parseInt(cr,10)>=700||lr==="bold")&&(Sr="bold"),lr==="italic"&&(Sr+="italic"),Sr.length===0&&(Sr="normal");for(var Wr="",Jr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ns=0;ns<Pr.length;ns++){if(this.pdf.internal.getFont(Pr[ns],Sr,{noFallback:!0,disableWarning:!0})!==void 0){Wr=Pr[ns];break}if(Sr==="bolditalic"&&this.pdf.internal.getFont(Pr[ns],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Wr=Pr[ns],Sr="bold";else if(this.pdf.internal.getFont(Pr[ns],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Wr=Pr[ns],Sr="normal";break}}if(Wr===""){for(var Er=0;Er<Pr.length;Er++)if(Jr[Pr[Er]]){Wr=Jr[Pr[Er]];break}}Wr=Wr===""?"Times":Wr,this.pdf.setFont(Wr,Sr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(qn){this.ctx.globalCompositeOperation=qn}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(qn){this.ctx.globalAlpha=qn}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(qn){this.ctx.lineDashOffset=qn,Lr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(qn){this.ctx.lineDash=qn,Lr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(qn){this.ctx.ignoreClearRect=Boolean(qn)}})};Sn.prototype.setLineDash=function(Fn){this.lineDash=Fn},Sn.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},Sn.prototype.fill=function(){kn.call(this,"fill",!1)},Sn.prototype.stroke=function(){kn.call(this,"stroke",!1)},Sn.prototype.beginPath=function(){this.path=[{type:"begin"}]},Sn.prototype.moveTo=function(Fn,Rn){if(isNaN(Fn)||isNaN(Rn))throw a.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Tn=this.ctx.transform.applyToPoint(new rn(Fn,Rn));this.path.push({type:"mt",x:Tn.x,y:Tn.y}),this.ctx.lastPoint=new rn(Fn,Rn)},Sn.prototype.closePath=function(){var Fn=new rn(0,0),Rn=0;for(Rn=this.path.length-1;Rn!==-1;Rn--)if(this.path[Rn].type==="begin"&&_typeof(this.path[Rn+1])==="object"&&typeof this.path[Rn+1].x=="number"){Fn=new rn(this.path[Rn+1].x,this.path[Rn+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new rn(Fn.x,Fn.y)},Sn.prototype.lineTo=function(Fn,Rn){if(isNaN(Fn)||isNaN(Rn))throw a.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Tn=this.ctx.transform.applyToPoint(new rn(Fn,Rn));this.path.push({type:"lt",x:Tn.x,y:Tn.y}),this.ctx.lastPoint=new rn(Tn.x,Tn.y)},Sn.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),kn.call(this,null,!0)},Sn.prototype.quadraticCurveTo=function(Fn,Rn,Tn,Bn){if(isNaN(Tn)||isNaN(Bn)||isNaN(Fn)||isNaN(Rn))throw a.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Hn=this.ctx.transform.applyToPoint(new rn(Tn,Bn)),Kn=this.ctx.transform.applyToPoint(new rn(Fn,Rn));this.path.push({type:"qct",x1:Kn.x,y1:Kn.y,x:Hn.x,y:Hn.y}),this.ctx.lastPoint=new rn(Hn.x,Hn.y)},Sn.prototype.bezierCurveTo=function(Fn,Rn,Tn,Bn,Hn,Kn){if(isNaN(Hn)||isNaN(Kn)||isNaN(Fn)||isNaN(Rn)||isNaN(Tn)||isNaN(Bn))throw a.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var nr=this.ctx.transform.applyToPoint(new rn(Hn,Kn)),ir=this.ctx.transform.applyToPoint(new rn(Fn,Rn)),_r=this.ctx.transform.applyToPoint(new rn(Tn,Bn));this.path.push({type:"bct",x1:ir.x,y1:ir.y,x2:_r.x,y2:_r.y,x:nr.x,y:nr.y}),this.ctx.lastPoint=new rn(nr.x,nr.y)},Sn.prototype.arc=function(Fn,Rn,Tn,Bn,Hn,Kn){if(isNaN(Fn)||isNaN(Rn)||isNaN(Tn)||isNaN(Bn)||isNaN(Hn))throw a.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Kn=Boolean(Kn),!this.ctx.transform.isIdentity){var nr=this.ctx.transform.applyToPoint(new rn(Fn,Rn));Fn=nr.x,Rn=nr.y;var ir=this.ctx.transform.applyToPoint(new rn(0,Tn)),_r=this.ctx.transform.applyToPoint(new rn(0,0));Tn=Math.sqrt(Math.pow(ir.x-_r.x,2)+Math.pow(ir.y-_r.y,2))}Math.abs(Hn-Bn)>=2*Math.PI&&(Bn=0,Hn=2*Math.PI),this.path.push({type:"arc",x:Fn,y:Rn,radius:Tn,startAngle:Bn,endAngle:Hn,counterclockwise:Kn})},Sn.prototype.arcTo=function(Fn,Rn,Tn,Bn,Hn){throw new Error("arcTo not implemented.")},Sn.prototype.rect=function(Fn,Rn,Tn,Bn){if(isNaN(Fn)||isNaN(Rn)||isNaN(Tn)||isNaN(Bn))throw a.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Fn,Rn),this.lineTo(Fn+Tn,Rn),this.lineTo(Fn+Tn,Rn+Bn),this.lineTo(Fn,Rn+Bn),this.lineTo(Fn,Rn),this.lineTo(Fn+Tn,Rn),this.lineTo(Fn,Rn)},Sn.prototype.fillRect=function(Fn,Rn,Tn,Bn){if(isNaN(Fn)||isNaN(Rn)||isNaN(Tn)||isNaN(Bn))throw a.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!fn.call(this)){var Hn={};this.lineCap!=="butt"&&(Hn.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Hn.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Fn,Rn,Tn,Bn),this.fill(),Hn.hasOwnProperty("lineCap")&&(this.lineCap=Hn.lineCap),Hn.hasOwnProperty("lineJoin")&&(this.lineJoin=Hn.lineJoin)}},Sn.prototype.strokeRect=function(Fn,Rn,Tn,Bn){if(isNaN(Fn)||isNaN(Rn)||isNaN(Tn)||isNaN(Bn))throw a.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");vn.call(this)||(this.beginPath(),this.rect(Fn,Rn,Tn,Bn),this.stroke())},Sn.prototype.clearRect=function(Fn,Rn,Tn,Bn){if(isNaN(Fn)||isNaN(Rn)||isNaN(Tn)||isNaN(Bn))throw a.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Fn,Rn,Tn,Bn))},Sn.prototype.save=function(Fn){Fn=typeof Fn!="boolean"||Fn;for(var Rn=this.pdf.internal.getCurrentPageInfo().pageNumber,Tn=0;Tn<this.pdf.internal.getNumberOfPages();Tn++)this.pdf.setPage(Tn+1),this.pdf.internal.out("q");if(this.pdf.setPage(Rn),Fn){this.ctx.fontSize=this.pdf.internal.getFontSize();var Bn=new dn(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Bn}},Sn.prototype.restore=function(Fn){Fn=typeof Fn!="boolean"||Fn;for(var Rn=this.pdf.internal.getCurrentPageInfo().pageNumber,Tn=0;Tn<this.pdf.internal.getNumberOfPages();Tn++)this.pdf.setPage(Tn+1),this.pdf.internal.out("Q");this.pdf.setPage(Rn),Fn&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},Sn.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var mn=function(Fn){var Rn,Tn,Bn,Hn;if(Fn.isCanvasGradient===!0&&(Fn=Fn.getColor()),!Fn)return{r:0,g:0,b:0,a:0,style:Fn};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Fn))Rn=0,Tn=0,Bn=0,Hn=0;else{var Kn=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Fn);if(Kn!==null)Rn=parseInt(Kn[1]),Tn=parseInt(Kn[2]),Bn=parseInt(Kn[3]),Hn=1;else if((Kn=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Fn))!==null)Rn=parseInt(Kn[1]),Tn=parseInt(Kn[2]),Bn=parseInt(Kn[3]),Hn=parseFloat(Kn[4]);else{if(Hn=1,typeof Fn=="string"&&Fn.charAt(0)!=="#"){var nr=new f(Fn);Fn=nr.ok?nr.toHex():"#000000"}Fn.length===4?(Rn=Fn.substring(1,2),Rn+=Rn,Tn=Fn.substring(2,3),Tn+=Tn,Bn=Fn.substring(3,4),Bn+=Bn):(Rn=Fn.substring(1,3),Tn=Fn.substring(3,5),Bn=Fn.substring(5,7)),Rn=parseInt(Rn,16),Tn=parseInt(Tn,16),Bn=parseInt(Bn,16)}}return{r:Rn,g:Tn,b:Bn,a:Hn,style:Fn}},fn=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},vn=function(){return Boolean(this.ctx.isStrokeTransparent||this.globalAlpha==0)};Sn.prototype.fillText=function(Fn,Rn,Tn,Bn){if(isNaN(Rn)||isNaN(Tn)||typeof Fn!="string")throw a.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Bn=isNaN(Bn)?void 0:Bn,!fn.call(this)){var Hn=Yn(this.ctx.transform.rotation),Kn=this.ctx.transform.scaleX;Gn.call(this,{text:Fn,x:Rn,y:Tn,scale:Kn,angle:Hn,align:this.textAlign,maxWidth:Bn})}},Sn.prototype.strokeText=function(Fn,Rn,Tn,Bn){if(isNaN(Rn)||isNaN(Tn)||typeof Fn!="string")throw a.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!vn.call(this)){Bn=isNaN(Bn)?void 0:Bn;var Hn=Yn(this.ctx.transform.rotation),Kn=this.ctx.transform.scaleX;Gn.call(this,{text:Fn,x:Rn,y:Tn,scale:Kn,renderingMode:"stroke",angle:Hn,align:this.textAlign,maxWidth:Bn})}},Sn.prototype.measureText=function(Fn){if(typeof Fn!="string")throw a.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Rn=this.pdf,Tn=this.pdf.internal.scaleFactor,Bn=Rn.internal.getFontSize(),Hn=Rn.getStringUnitWidth(Fn)*Bn/Rn.internal.scaleFactor,Kn=function(nr){var ir=(nr=nr||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ir}}),this};return new Kn({width:Hn*=Math.round(96*Tn/72*1e4)/1e4})},Sn.prototype.scale=function(Fn,Rn){if(isNaN(Fn)||isNaN(Rn))throw a.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Tn=new un(Fn,0,0,Rn,0,0);this.ctx.transform=this.ctx.transform.multiply(Tn)},Sn.prototype.rotate=function(Fn){if(isNaN(Fn))throw a.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Rn=new un(Math.cos(Fn),Math.sin(Fn),-Math.sin(Fn),Math.cos(Fn),0,0);this.ctx.transform=this.ctx.transform.multiply(Rn)},Sn.prototype.translate=function(Fn,Rn){if(isNaN(Fn)||isNaN(Rn))throw a.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Tn=new un(1,0,0,1,Fn,Rn);this.ctx.transform=this.ctx.transform.multiply(Tn)},Sn.prototype.transform=function(Fn,Rn,Tn,Bn,Hn,Kn){if(isNaN(Fn)||isNaN(Rn)||isNaN(Tn)||isNaN(Bn)||isNaN(Hn)||isNaN(Kn))throw a.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var nr=new un(Fn,Rn,Tn,Bn,Hn,Kn);this.ctx.transform=this.ctx.transform.multiply(nr)},Sn.prototype.setTransform=function(Fn,Rn,Tn,Bn,Hn,Kn){Fn=isNaN(Fn)?1:Fn,Rn=isNaN(Rn)?0:Rn,Tn=isNaN(Tn)?0:Tn,Bn=isNaN(Bn)?1:Bn,Hn=isNaN(Hn)?0:Hn,Kn=isNaN(Kn)?0:Kn,this.ctx.transform=new un(Fn,Rn,Tn,Bn,Hn,Kn)};var bn=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};Sn.prototype.drawImage=function(Fn,Rn,Tn,Bn,Hn,Kn,nr,ir,_r){var Cr=this.pdf.getImageProperties(Fn),br=1,xr=1,Un=1,qn=1;Bn!==void 0&&ir!==void 0&&(Un=ir/Bn,qn=_r/Hn,br=Cr.width/Bn*ir/Bn,xr=Cr.height/Hn*_r/Hn),Kn===void 0&&(Kn=Rn,nr=Tn,Rn=0,Tn=0),Bn!==void 0&&ir===void 0&&(ir=Bn,_r=Hn),Bn===void 0&&ir===void 0&&(ir=Cr.width,_r=Cr.height);for(var Dn,lr=this.ctx.transform.decompose(),cr=Yn(lr.rotate.shx),hr=new un,Ar=(hr=(hr=(hr=hr.multiply(lr.translate)).multiply(lr.skew)).multiply(lr.scale)).applyToRectangle(new on(Kn-Rn*Un,nr-Tn*qn,Bn*br,Hn*xr)),Fr=wn.call(this,Ar),Pr=[],Gr=0;Gr<Fr.length;Gr+=1)Pr.indexOf(Fr[Gr])===-1&&Pr.push(Fr[Gr]);if(An(Pr),this.autoPaging)for(var Sr=Pr[0],Wr=Pr[Pr.length-1],Jr=Sr;Jr<Wr+1;Jr++){this.pdf.setPage(Jr);var ns=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Er=Jr===1?this.posY+this.margin[0]:this.margin[0],zr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rs=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qr=Jr===1?0:zr+(Jr-2)*rs;if(this.ctx.clip_path.length!==0){var ks=this.path;Dn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=yn(Dn,this.posX+this.margin[3],-Qr+Er+this.ctx.prevPageLastElemOffset),xn.call(this,"fill",!0),this.path=ks}var ys=JSON.parse(JSON.stringify(Ar));ys=yn([ys],this.posX+this.margin[3],-Qr+Er+this.ctx.prevPageLastElemOffset)[0];var ws=(Jr>Sr||Jr<Wr)&&bn.call(this);ws&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ns,rs,null).clip().discardPath()),this.pdf.addImage(Fn,"JPEG",ys.x,ys.y,ys.w,ys.h,null,null,cr),ws&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Fn,"JPEG",Ar.x,Ar.y,Ar.w,Ar.h,null,null,cr)};var wn=function(Fn,Rn,Tn){var Bn=[];Rn=Rn||this.pdf.internal.pageSize.width,Tn=Tn||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Hn=this.posY+this.ctx.prevPageLastElemOffset;switch(Fn.type){default:case"mt":case"lt":Bn.push(Math.floor((Fn.y+Hn)/Tn)+1);break;case"arc":Bn.push(Math.floor((Fn.y+Hn-Fn.radius)/Tn)+1),Bn.push(Math.floor((Fn.y+Hn+Fn.radius)/Tn)+1);break;case"qct":var Kn=ur(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Fn.x1,Fn.y1,Fn.x,Fn.y);Bn.push(Math.floor((Kn.y+Hn)/Tn)+1),Bn.push(Math.floor((Kn.y+Kn.h+Hn)/Tn)+1);break;case"bct":var nr=pr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Fn.x1,Fn.y1,Fn.x2,Fn.y2,Fn.x,Fn.y);Bn.push(Math.floor((nr.y+Hn)/Tn)+1),Bn.push(Math.floor((nr.y+nr.h+Hn)/Tn)+1);break;case"rect":Bn.push(Math.floor((Fn.y+Hn)/Tn)+1),Bn.push(Math.floor((Fn.y+Fn.h+Hn)/Tn)+1)}for(var ir=0;ir<Bn.length;ir+=1)for(;this.pdf.internal.getNumberOfPages()<Bn[ir];)pn.call(this);return Bn},pn=function(){var Fn=this.fillStyle,Rn=this.strokeStyle,Tn=this.font,Bn=this.lineCap,Hn=this.lineWidth,Kn=this.lineJoin;this.pdf.addPage(),this.fillStyle=Fn,this.strokeStyle=Rn,this.font=Tn,this.lineCap=Bn,this.lineWidth=Hn,this.lineJoin=Kn},yn=function(Fn,Rn,Tn){for(var Bn=0;Bn<Fn.length;Bn++)switch(Fn[Bn].type){case"bct":Fn[Bn].x2+=Rn,Fn[Bn].y2+=Tn;case"qct":Fn[Bn].x1+=Rn,Fn[Bn].y1+=Tn;case"mt":case"lt":case"arc":default:Fn[Bn].x+=Rn,Fn[Bn].y+=Tn}return Fn},An=function(Fn){return Fn.sort(function(Rn,Tn){return Rn-Tn})},kn=function(Fn,Rn){for(var Tn,Bn,Hn=this.fillStyle,Kn=this.strokeStyle,nr=this.lineCap,ir=this.lineWidth,_r=Math.abs(ir*this.ctx.transform.scaleX),Cr=this.lineJoin,br=JSON.parse(JSON.stringify(this.path)),xr=JSON.parse(JSON.stringify(this.path)),Un=[],qn=0;qn<xr.length;qn++)if(xr[qn].x!==void 0)for(var Dn=wn.call(this,xr[qn]),lr=0;lr<Dn.length;lr+=1)Un.indexOf(Dn[lr])===-1&&Un.push(Dn[lr]);for(var cr=0;cr<Un.length;cr++)for(;this.pdf.internal.getNumberOfPages()<Un[cr];)pn.call(this);if(An(Un),this.autoPaging)for(var hr=Un[0],Ar=Un[Un.length-1],Fr=hr;Fr<Ar+1;Fr++){this.pdf.setPage(Fr),this.fillStyle=Hn,this.strokeStyle=Kn,this.lineCap=nr,this.lineWidth=_r,this.lineJoin=Cr;var Pr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Gr=Fr===1?this.posY+this.margin[0]:this.margin[0],Sr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Wr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Jr=Fr===1?0:Sr+(Fr-2)*Wr;if(this.ctx.clip_path.length!==0){var ns=this.path;Tn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=yn(Tn,this.posX+this.margin[3],-Jr+Gr+this.ctx.prevPageLastElemOffset),xn.call(this,Fn,!0),this.path=ns}if(Bn=JSON.parse(JSON.stringify(br)),this.path=yn(Bn,this.posX+this.margin[3],-Jr+Gr+this.ctx.prevPageLastElemOffset),Rn===!1||Fr===0){var Er=(Fr>hr||Fr<Ar)&&bn.call(this);Er&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pr,Wr,null).clip().discardPath()),xn.call(this,Fn,Rn),Er&&this.pdf.restoreGraphicsState()}this.lineWidth=ir}else this.lineWidth=_r,xn.call(this,Fn,Rn),this.lineWidth=ir;this.path=br},xn=function(Fn,Rn){if((Fn!=="stroke"||Rn||!vn.call(this))&&(Fn==="stroke"||Rn||!fn.call(this))){for(var Tn,Bn,Hn=[],Kn=this.path,nr=0;nr<Kn.length;nr++){var ir=Kn[nr];switch(ir.type){case"begin":Hn.push({begin:!0});break;case"close":Hn.push({close:!0});break;case"mt":Hn.push({start:ir,deltas:[],abs:[]});break;case"lt":var _r=Hn.length;if(Kn[nr-1]&&!isNaN(Kn[nr-1].x)&&(Tn=[ir.x-Kn[nr-1].x,ir.y-Kn[nr-1].y],_r>0)){for(;_r>=0;_r--)if(Hn[_r-1].close!==!0&&Hn[_r-1].begin!==!0){Hn[_r-1].deltas.push(Tn),Hn[_r-1].abs.push(ir);break}}break;case"bct":Tn=[ir.x1-Kn[nr-1].x,ir.y1-Kn[nr-1].y,ir.x2-Kn[nr-1].x,ir.y2-Kn[nr-1].y,ir.x-Kn[nr-1].x,ir.y-Kn[nr-1].y],Hn[Hn.length-1].deltas.push(Tn);break;case"qct":var Cr=Kn[nr-1].x+2/3*(ir.x1-Kn[nr-1].x),br=Kn[nr-1].y+2/3*(ir.y1-Kn[nr-1].y),xr=ir.x+2/3*(ir.x1-ir.x),Un=ir.y+2/3*(ir.y1-ir.y),qn=ir.x,Dn=ir.y;Tn=[Cr-Kn[nr-1].x,br-Kn[nr-1].y,xr-Kn[nr-1].x,Un-Kn[nr-1].y,qn-Kn[nr-1].x,Dn-Kn[nr-1].y],Hn[Hn.length-1].deltas.push(Tn);break;case"arc":Hn.push({deltas:[],abs:[],arc:!0}),Array.isArray(Hn[Hn.length-1].abs)&&Hn[Hn.length-1].abs.push(ir)}}Bn=Rn?null:Fn==="stroke"?"stroke":"fill";for(var lr=!1,cr=0;cr<Hn.length;cr++)if(Hn[cr].arc)for(var hr=Hn[cr].abs,Ar=0;Ar<hr.length;Ar++){var Fr=hr[Ar];Fr.type==="arc"?On.call(this,Fr.x,Fr.y,Fr.radius,Fr.startAngle,Fr.endAngle,Fr.counterclockwise,void 0,Rn,!lr):er.call(this,Fr.x,Fr.y),lr=!0}else if(Hn[cr].close===!0)this.pdf.internal.out("h"),lr=!1;else if(Hn[cr].begin!==!0){var Pr=Hn[cr].start.x,Gr=Hn[cr].start.y;Qn.call(this,Hn[cr].deltas,Pr,Gr),lr=!0}Bn&&Wn.call(this,Bn),Rn&&zn.call(this)}},Pn=function(Fn){var Rn=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Tn=Rn*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Fn-Tn;case"top":return Fn+Rn-Tn;case"hanging":return Fn+Rn-2*Tn;case"middle":return Fn+Rn/2-Tn;case"ideographic":return Fn;case"alphabetic":default:return Fn}},In=function(Fn){return Fn+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};Sn.prototype.createLinearGradient=function(){var Fn=function(){};return Fn.colorStops=[],Fn.addColorStop=function(Rn,Tn){this.colorStops.push([Rn,Tn])},Fn.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Fn.isCanvasGradient=!0,Fn},Sn.prototype.createPattern=function(){return this.createLinearGradient()},Sn.prototype.createRadialGradient=function(){return this.createLinearGradient()};var On=function(Fn,Rn,Tn,Bn,Hn,Kn,nr,ir,_r){for(var Cr=tr.call(this,Tn,Bn,Hn,Kn),br=0;br<Cr.length;br++){var xr=Cr[br];br===0&&(_r?Mn.call(this,xr.x1+Fn,xr.y1+Rn):er.call(this,xr.x1+Fn,xr.y1+Rn)),ar.call(this,Fn,Rn,xr.x2,xr.y2,xr.x3,xr.y3,xr.x4,xr.y4)}ir?zn.call(this):Wn.call(this,nr)},Wn=function(Fn){switch(Fn){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},zn=function(){this.pdf.clip(),this.pdf.discardPath()},Mn=function(Fn,Rn){this.pdf.internal.out(St(Fn)+" "+en(Rn)+" m")},Gn=function(Fn){var Rn;switch(Fn.align){case"right":case"end":Rn="right";break;case"center":Rn="center";break;case"left":case"start":default:Rn="left"}var Tn=this.pdf.getTextDimensions(Fn.text),Bn=Pn.call(this,Fn.y),Hn=In.call(this,Bn)-Tn.h,Kn=this.ctx.transform.applyToPoint(new rn(Fn.x,Bn)),nr=this.ctx.transform.decompose(),ir=new un;ir=(ir=(ir=ir.multiply(nr.translate)).multiply(nr.skew)).multiply(nr.scale);for(var _r,Cr,br,xr=this.ctx.transform.applyToRectangle(new on(Fn.x,Bn,Tn.w,Tn.h)),Un=ir.applyToRectangle(new on(Fn.x,Hn,Tn.w,Tn.h)),qn=wn.call(this,Un),Dn=[],lr=0;lr<qn.length;lr+=1)Dn.indexOf(qn[lr])===-1&&Dn.push(qn[lr]);if(An(Dn),this.autoPaging)for(var cr=Dn[0],hr=Dn[Dn.length-1],Ar=cr;Ar<hr+1;Ar++){this.pdf.setPage(Ar);var Fr=Ar===1?this.posY+this.margin[0]:this.margin[0],Pr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Gr=this.pdf.internal.pageSize.height-this.margin[2],Sr=Gr-this.margin[0],Wr=this.pdf.internal.pageSize.width-this.margin[1],Jr=Wr-this.margin[3],ns=Ar===1?0:Pr+(Ar-2)*Sr;if(this.ctx.clip_path.length!==0){var Er=this.path;_r=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=yn(_r,this.posX+this.margin[3],-1*ns+Fr),xn.call(this,"fill",!0),this.path=Er}var zr=yn([JSON.parse(JSON.stringify(Un))],this.posX+this.margin[3],-ns+Fr+this.ctx.prevPageLastElemOffset)[0];Fn.scale>=.01&&(Cr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Cr*Fn.scale),br=this.lineWidth,this.lineWidth=br*Fn.scale);var rs=this.autoPaging!=="text";if(rs||zr.y+zr.h<=Gr){if(rs||zr.y>=Fr&&zr.x<=Wr){var Qr=rs?Fn.text:this.pdf.splitTextToSize(Fn.text,Fn.maxWidth||Wr-zr.x)[0],ks=yn([JSON.parse(JSON.stringify(xr))],this.posX+this.margin[3],-ns+Fr+this.ctx.prevPageLastElemOffset)[0],ys=rs&&(Ar>cr||Ar<hr)&&bn.call(this);ys&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jr,Sr,null).clip().discardPath()),this.pdf.text(Qr,ks.x,ks.y,{angle:Fn.angle,align:Rn,renderingMode:Fn.renderingMode}),ys&&this.pdf.restoreGraphicsState()}}else zr.y<Gr&&(this.ctx.prevPageLastElemOffset+=Gr-zr.y);Fn.scale>=.01&&(this.pdf.setFontSize(Cr),this.lineWidth=br)}else Fn.scale>=.01&&(Cr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Cr*Fn.scale),br=this.lineWidth,this.lineWidth=br*Fn.scale),this.pdf.text(Fn.text,Kn.x+this.posX,Kn.y+this.posY,{angle:Fn.angle,align:Rn,renderingMode:Fn.renderingMode,maxWidth:Fn.maxWidth}),Fn.scale>=.01&&(this.pdf.setFontSize(Cr),this.lineWidth=br)},er=function(Fn,Rn,Tn,Bn){Tn=Tn||0,Bn=Bn||0,this.pdf.internal.out(St(Fn+Tn)+" "+en(Rn+Bn)+" l")},Qn=function(Fn,Rn,Tn){return this.pdf.lines(Fn,Rn,Tn,null,null)},ar=function(Fn,Rn,Tn,Bn,Hn,Kn,nr,ir){this.pdf.internal.out([e(tn(Tn+Fn)),e(nn(Bn+Rn)),e(tn(Hn+Fn)),e(nn(Kn+Rn)),e(tn(nr+Fn)),e(nn(ir+Rn)),"c"].join(" "))},tr=function(Fn,Rn,Tn,Bn){for(var Hn=2*Math.PI,Kn=Math.PI/2;Rn>Tn;)Rn-=Hn;var nr=Math.abs(Tn-Rn);nr<Hn&&Bn&&(nr=Hn-nr);for(var ir=[],_r=Bn?-1:1,Cr=Rn;nr>1e-5;){var br=Cr+_r*Math.min(nr,Kn);ir.push(or.call(this,Fn,Cr,br)),nr-=Math.abs(br-Cr),Cr=br}return ir},or=function(Fn,Rn,Tn){var Bn=(Tn-Rn)/2,Hn=Fn*Math.cos(Bn),Kn=Fn*Math.sin(Bn),nr=Hn,ir=-Kn,_r=nr*nr+ir*ir,Cr=_r+nr*Hn+ir*Kn,br=4/3*(Math.sqrt(2*_r*Cr)-Cr)/(nr*Kn-ir*Hn),xr=nr-br*ir,Un=ir+br*nr,qn=xr,Dn=-Un,lr=Bn+Rn,cr=Math.cos(lr),hr=Math.sin(lr);return{x1:Fn*Math.cos(Rn),y1:Fn*Math.sin(Rn),x2:xr*cr-Un*hr,y2:xr*hr+Un*cr,x3:qn*cr-Dn*hr,y3:qn*hr+Dn*cr,x4:Fn*Math.cos(Tn),y4:Fn*Math.sin(Tn)}},Yn=function(Fn){return 180*Fn/Math.PI},ur=function(Fn,Rn,Tn,Bn,Hn,Kn){var nr=Fn+.5*(Tn-Fn),ir=Rn+.5*(Bn-Rn),_r=Hn+.5*(Tn-Hn),Cr=Kn+.5*(Bn-Kn),br=Math.min(Fn,Hn,nr,_r),xr=Math.max(Fn,Hn,nr,_r),Un=Math.min(Rn,Kn,ir,Cr),qn=Math.max(Rn,Kn,ir,Cr);return new on(br,Un,xr-br,qn-Un)},pr=function(Fn,Rn,Tn,Bn,Hn,Kn,nr,ir){var _r,Cr,br,xr,Un,qn,Dn,lr,cr,hr,Ar,Fr,Pr,Gr,Sr=Tn-Fn,Wr=Bn-Rn,Jr=Hn-Tn,ns=Kn-Bn,Er=nr-Hn,zr=ir-Kn;for(Cr=0;Cr<41;Cr++)cr=(Dn=(br=Fn+(_r=Cr/40)*Sr)+_r*((Un=Tn+_r*Jr)-br))+_r*(Un+_r*(Hn+_r*Er-Un)-Dn),hr=(lr=(xr=Rn+_r*Wr)+_r*((qn=Bn+_r*ns)-xr))+_r*(qn+_r*(Kn+_r*zr-qn)-lr),Cr==0?(Ar=cr,Fr=hr,Pr=cr,Gr=hr):(Ar=Math.min(Ar,cr),Fr=Math.min(Fr,hr),Pr=Math.max(Pr,cr),Gr=Math.max(Gr,hr));return new on(Math.round(Ar),Math.round(Fr),Math.round(Pr-Ar),Math.round(Gr-Fr))},Lr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Fn,Rn,Tn=(Fn=this.ctx.lineDash,Rn=this.ctx.lineDashOffset,JSON.stringify({lineDash:Fn,lineDashOffset:Rn}));this.prevLineDash!==Tn&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Tn)}}})(E.API),function(_e){var e=function(nn){var rn,on,un,cn,dn,Sn,mn,fn,vn,bn;for(/[^\x00-\xFF]/.test(nn),on=[],un=0,cn=(nn+=rn="\0\0\0\0".slice(nn.length%4||4)).length;cn>un;un+=4)(dn=(nn.charCodeAt(un)<<24)+(nn.charCodeAt(un+1)<<16)+(nn.charCodeAt(un+2)<<8)+nn.charCodeAt(un+3))!==0?(Sn=(dn=((dn=((dn=((dn=(dn-(bn=dn%85))/85)-(vn=dn%85))/85)-(fn=dn%85))/85)-(mn=dn%85))/85)%85,on.push(Sn+33,mn+33,fn+33,vn+33,bn+33)):on.push(122);return function(wn,pn){for(var yn=pn;yn>0;yn--)wn.pop()}(on,rn.length),String.fromCharCode.apply(String,on)+"~>"},St=function(nn){var rn,on,un,cn,dn,Sn=String,mn="length",fn=255,vn="charCodeAt",bn="slice",wn="replace";for(nn[bn](-2),nn=nn[bn](0,-2)[wn](/\s/g,"")[wn]("z","!!!!!"),un=[],cn=0,dn=(nn+=rn="uuuuu"[bn](nn[mn]%5||5))[mn];dn>cn;cn+=5)on=52200625*(nn[vn](cn)-33)+614125*(nn[vn](cn+1)-33)+7225*(nn[vn](cn+2)-33)+85*(nn[vn](cn+3)-33)+(nn[vn](cn+4)-33),un.push(fn&on>>24,fn&on>>16,fn&on>>8,fn&on);return function(pn,yn){for(var An=yn;An>0;An--)pn.pop()}(un,rn[mn]),Sn.fromCharCode.apply(Sn,un)},en=function(nn){var rn=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((nn=nn.replace(/\s/g,"")).indexOf(">")!==-1&&(nn=nn.substr(0,nn.indexOf(">"))),nn.length%2&&(nn+="0"),rn.test(nn)===!1)return"";for(var on="",un=0;un<nn.length;un+=2)on+=String.fromCharCode("0x"+(nn[un]+nn[un+1]));return on},tn=function(nn){for(var rn=new Uint8Array(nn.length),on=nn.length;on--;)rn[on]=nn.charCodeAt(on);return nn=(rn=zlibSync(rn)).reduce(function(un,cn){return un+String.fromCharCode(cn)},"")};_e.processDataByFilters=function(nn,rn){var on=0,un=nn||"",cn=[];for(typeof(rn=rn||[])=="string"&&(rn=[rn]),on=0;on<rn.length;on+=1)switch(rn[on]){case"ASCII85Decode":case"/ASCII85Decode":un=St(un),cn.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":un=e(un),cn.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":un=en(un),cn.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":un=un.split("").map(function(dn){return("0"+dn.charCodeAt().toString(16)).slice(-2)}).join("")+">",cn.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":un=tn(un),cn.push("/FlateDecode");break;default:throw new Error('The filter: "'+rn[on]+'" is not implemented')}return{data:un,reverseChain:cn.reverse().join(" ")}}}(E.API),function(_e){_e.loadFile=function(e,St,en){return function(tn,nn,rn){nn=nn!==!1,rn=typeof rn=="function"?rn:function(){};var on=void 0;try{on=function(un,cn,dn){var Sn=new XMLHttpRequest,mn=0,fn=function(vn){var bn=vn.length,wn=[],pn=String.fromCharCode;for(mn=0;mn<bn;mn+=1)wn.push(pn(255&vn.charCodeAt(mn)));return wn.join("")};if(Sn.open("GET",un,!cn),Sn.overrideMimeType("text/plain; charset=x-user-defined"),cn===!1&&(Sn.onload=function(){Sn.status===200?dn(fn(this.responseText)):dn(void 0)}),Sn.send(null),cn&&Sn.status===200)return fn(Sn.responseText)}(tn,nn,rn)}catch{}return on}(e,St,en)},_e.loadImageFile=_e.loadFile}(E.API),function(_e){function e(){return(n.html2canvas?Promise.resolve(n.html2canvas):__vitePreload(()=>import("./html2canvas.esm.dabe8ffd.js"),[])).catch(function(rn){return Promise.reject(new Error("Could not load html2canvas: "+rn))}).then(function(rn){return rn.default?rn.default:rn})}function St(){return(n.DOMPurify?Promise.resolve(n.DOMPurify):__vitePreload(()=>import("./purify.es.3f0ae9f3.js"),[])).catch(function(rn){return Promise.reject(new Error("Could not load dompurify: "+rn))}).then(function(rn){return rn.default?rn.default:rn})}var en=function(rn){var on=_typeof(rn);return on==="undefined"?"undefined":on==="string"||rn instanceof String?"string":on==="number"||rn instanceof Number?"number":on==="function"||rn instanceof Function?"function":rn&&rn.constructor===Array?"array":rn&&rn.nodeType===1?"element":on==="object"?"object":"unknown"},tn=function(rn,on){var un=document.createElement(rn);for(var cn in on.className&&(un.className=on.className),on.innerHTML&&on.dompurify&&(un.innerHTML=on.dompurify.sanitize(on.innerHTML)),on.style)un.style[cn]=on.style[cn];return un},nn=function rn(on){var un=Object.assign(rn.convert(Promise.resolve()),JSON.parse(JSON.stringify(rn.template))),cn=rn.convert(Promise.resolve(),un);return cn=(cn=cn.setProgress(1,rn,1,[rn])).set(on)};(nn.prototype=Object.create(Promise.prototype)).constructor=nn,nn.convert=function(rn,on){return rn.__proto__=on||nn.prototype,rn},nn.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},nn.prototype.from=function(rn,on){return this.then(function(){switch(on=on||function(un){switch(en(un)){case"string":return"string";case"element":return un.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(rn)){case"string":return this.then(St).then(function(un){return this.set({src:tn("div",{innerHTML:rn,dompurify:un})})});case"element":return this.set({src:rn});case"canvas":return this.set({canvas:rn});case"img":return this.set({img:rn});default:return this.error("Unknown source type.")}})},nn.prototype.to=function(rn){switch(rn){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},nn.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var rn={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},on=function un(cn,dn){for(var Sn=cn.nodeType===3?document.createTextNode(cn.nodeValue):cn.cloneNode(!1),mn=cn.firstChild;mn;mn=mn.nextSibling)dn!==!0&&mn.nodeType===1&&mn.nodeName==="SCRIPT"||Sn.appendChild(un(mn,dn));return cn.nodeType===1&&(cn.nodeName==="CANVAS"?(Sn.width=cn.width,Sn.height=cn.height,Sn.getContext("2d").drawImage(cn,0,0)):cn.nodeName!=="TEXTAREA"&&cn.nodeName!=="SELECT"||(Sn.value=cn.value),Sn.addEventListener("load",function(){Sn.scrollTop=cn.scrollTop,Sn.scrollLeft=cn.scrollLeft},!0)),Sn}(this.prop.src,this.opt.html2canvas.javascriptEnabled);on.tagName==="BODY"&&(rn.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=tn("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=tn("div",{className:"html2pdf__container",style:rn}),this.prop.container.appendChild(on),this.prop.container.firstChild.appendChild(tn("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},nn.prototype.toCanvas=function(){var rn=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(rn).then(e).then(function(on){var un=Object.assign({},this.opt.html2canvas);return delete un.onrendered,on(this.prop.container,un)}).then(function(on){(this.opt.html2canvas.onrendered||function(){})(on),this.prop.canvas=on,document.body.removeChild(this.prop.overlay)})},nn.prototype.toContext2d=function(){var rn=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(rn).then(e).then(function(on){var un=this.opt.jsPDF,cn=this.opt.fontFaces,dn=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,Sn=Object.assign({async:!0,allowTaint:!0,scale:dn,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete Sn.onrendered,un.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,un.context2d.posX=this.opt.x,un.context2d.posY=this.opt.y,un.context2d.margin=this.opt.margin,un.context2d.fontFaces=cn,cn)for(var mn=0;mn<cn.length;++mn){var fn=cn[mn],vn=fn.src.find(function(bn){return bn.format==="truetype"});vn&&un.addFont(vn.url,fn.ref.name,fn.ref.style)}return Sn.windowHeight=Sn.windowHeight||0,Sn.windowHeight=Sn.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):Sn.windowHeight,un.context2d.save(!0),on(this.prop.container,Sn)}).then(function(on){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(on),this.prop.canvas=on,document.body.removeChild(this.prop.overlay)})},nn.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var rn=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=rn})},nn.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},nn.prototype.output=function(rn,on,un){return(un=un||"pdf").toLowerCase()==="img"||un.toLowerCase()==="image"?this.outputImg(rn,on):this.outputPdf(rn,on)},nn.prototype.outputPdf=function(rn,on){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(rn,on)})},nn.prototype.outputImg=function(rn){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(rn){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+rn+'" is not supported.'}})},nn.prototype.save=function(rn){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(rn?{filename:rn}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},nn.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},nn.prototype.set=function(rn){if(en(rn)!=="object")return this;var on=Object.keys(rn||{}).map(function(un){if(un in nn.template.prop)return function(){this.prop[un]=rn[un]};switch(un){case"margin":return this.setMargin.bind(this,rn.margin);case"jsPDF":return function(){return this.opt.jsPDF=rn.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,rn.pageSize);default:return function(){this.opt[un]=rn[un]}}},this);return this.then(function(){return this.thenList(on)})},nn.prototype.get=function(rn,on){return this.then(function(){var un=rn in nn.template.prop?this.prop[rn]:this.opt[rn];return on?on(un):un})},nn.prototype.setMargin=function(rn){return this.then(function(){switch(en(rn)){case"number":rn=[rn,rn,rn,rn];case"array":if(rn.length===2&&(rn=[rn[0],rn[1],rn[0],rn[1]]),rn.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=rn}).then(this.setPageSize)},nn.prototype.setPageSize=function(rn){function on(un,cn){return Math.floor(un*cn/72*96)}return this.then(function(){(rn=rn||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(rn.inner={width:rn.width-this.opt.margin[1]-this.opt.margin[3],height:rn.height-this.opt.margin[0]-this.opt.margin[2]},rn.inner.px={width:on(rn.inner.width,rn.k),height:on(rn.inner.height,rn.k)},rn.inner.ratio=rn.inner.height/rn.inner.width),this.prop.pageSize=rn})},nn.prototype.setProgress=function(rn,on,un,cn){return rn!=null&&(this.progress.val=rn),on!=null&&(this.progress.state=on),un!=null&&(this.progress.n=un),cn!=null&&(this.progress.stack=cn),this.progress.ratio=this.progress.val/this.progress.state,this},nn.prototype.updateProgress=function(rn,on,un,cn){return this.setProgress(rn?this.progress.val+rn:null,on||null,un?this.progress.n+un:null,cn?this.progress.stack.concat(cn):null)},nn.prototype.then=function(rn,on){var un=this;return this.thenCore(rn,on,function(cn,dn){return un.updateProgress(null,null,1,[cn]),Promise.prototype.then.call(this,function(Sn){return un.updateProgress(null,cn),Sn}).then(cn,dn).then(function(Sn){return un.updateProgress(1),Sn})})},nn.prototype.thenCore=function(rn,on,un){un=un||Promise.prototype.then,rn&&(rn=rn.bind(this)),on&&(on=on.bind(this));var cn=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:nn.convert(Object.assign({},this),Promise.prototype),dn=un.call(cn,rn,on);return nn.convert(dn,this.__proto__)},nn.prototype.thenExternal=function(rn,on){return Promise.prototype.then.call(this,rn,on)},nn.prototype.thenList=function(rn){var on=this;return rn.forEach(function(un){on=on.thenCore(un)}),on},nn.prototype.catch=function(rn){rn&&(rn=rn.bind(this));var on=Promise.prototype.catch.call(this,rn);return nn.convert(on,this)},nn.prototype.catchExternal=function(rn){return Promise.prototype.catch.call(this,rn)},nn.prototype.error=function(rn){return this.then(function(){throw new Error(rn)})},nn.prototype.using=nn.prototype.set,nn.prototype.saveAs=nn.prototype.save,nn.prototype.export=nn.prototype.output,nn.prototype.run=nn.prototype.then,E.getPageSize=function(rn,on,un){if(_typeof(rn)==="object"){var cn=rn;rn=cn.orientation,on=cn.unit||on,un=cn.format||un}on=on||"mm",un=un||"a4",rn=(""+(rn||"P")).toLowerCase();var dn,Sn=(""+un).toLowerCase(),mn={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(on){case"pt":dn=1;break;case"mm":dn=72/25.4;break;case"cm":dn=72/2.54;break;case"in":dn=72;break;case"px":dn=.75;break;case"pc":case"em":dn=12;break;case"ex":dn=6;break;default:throw"Invalid unit: "+on}var fn,vn=0,bn=0;if(mn.hasOwnProperty(Sn))vn=mn[Sn][1]/dn,bn=mn[Sn][0]/dn;else try{vn=un[1],bn=un[0]}catch{throw new Error("Invalid format: "+un)}if(rn==="p"||rn==="portrait")rn="p",bn>vn&&(fn=bn,bn=vn,vn=fn);else{if(rn!=="l"&&rn!=="landscape")throw"Invalid orientation: "+rn;rn="l",vn>bn&&(fn=bn,bn=vn,vn=fn)}return{width:bn,height:vn,unit:on,k:dn,orientation:rn}},_e.html=function(rn,on){(on=on||{}).callback=on.callback||function(){},on.html2canvas=on.html2canvas||{},on.html2canvas.canvas=on.html2canvas.canvas||this.canvas,on.jsPDF=on.jsPDF||this,on.fontFaces=on.fontFaces?on.fontFaces.map(jt):null;var un=new nn(on);return on.worker?un:un.from(rn).doCallback()}}(E.API),E.API.addJS=function(_e){return Ht=_e,this.internal.events.subscribe("postPutResources",function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")}),this},function(_e){var e;_e.events.push(["postPutResources",function(){var St=this,en=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var tn=St.outline.render().split(/\r\n/),nn=0;nn<tn.length;nn++){var rn=tn[nn],on=en.exec(rn);if(on!=null){var un=on[1];St.internal.newObjectDeferredBegin(un,!1)}St.internal.write(rn)}if(this.outline.createNamedDestinations){var cn=this.internal.pages.length,dn=[];for(nn=0;nn<cn;nn++){var Sn=St.internal.newObject();dn.push(Sn);var mn=St.internal.getPageInfo(nn+1);St.internal.write("<< /D["+mn.objId+" 0 R /XYZ null null null]>> endobj")}var fn=St.internal.newObject();for(St.internal.write("<< /Names [ "),nn=0;nn<dn.length;nn++)St.internal.write("(page_"+(nn+1)+")"+dn[nn]+" 0 R");St.internal.write(" ] >>","endobj"),e=St.internal.newObject(),St.internal.write("<< /Dests "+fn+" 0 R"),St.internal.write(">>","endobj")}}]),_e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),_e.events.push(["initialized",function(){var St=this;St.outline={createNamedDestinations:!1,root:{children:[]}},St.outline.add=function(en,tn,nn){var rn={title:tn,options:nn,children:[]};return en==null&&(en=this.root),en.children.push(rn),rn},St.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=St,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},St.outline.genIds_r=function(en){en.id=St.internal.newObjectDeferred();for(var tn=0;tn<en.children.length;tn++)this.genIds_r(en.children[tn])},St.outline.renderRoot=function(en){this.objStart(en),this.line("/Type /Outlines"),en.children.length>0&&(this.line("/First "+this.makeRef(en.children[0])),this.line("/Last "+this.makeRef(en.children[en.children.length-1]))),this.line("/Count "+this.count_r({count:0},en)),this.objEnd()},St.outline.renderItems=function(en){for(var tn=this.ctx.pdf.internal.getVerticalCoordinateString,nn=0;nn<en.children.length;nn++){var rn=en.children[nn];this.objStart(rn),this.line("/Title "+this.makeString(rn.title)),this.line("/Parent "+this.makeRef(en)),nn>0&&this.line("/Prev "+this.makeRef(en.children[nn-1])),nn<en.children.length-1&&this.line("/Next "+this.makeRef(en.children[nn+1])),rn.children.length>0&&(this.line("/First "+this.makeRef(rn.children[0])),this.line("/Last "+this.makeRef(rn.children[rn.children.length-1])));var on=this.count=this.count_r({count:0},rn);if(on>0&&this.line("/Count "+on),rn.options&&rn.options.pageNumber){var un=St.internal.getPageInfo(rn.options.pageNumber);this.line("/Dest ["+un.objId+" 0 R /XYZ 0 "+tn(0)+" 0]")}this.objEnd()}for(var cn=0;cn<en.children.length;cn++)this.renderItems(en.children[cn])},St.outline.line=function(en){this.ctx.val+=en+`\r
`},St.outline.makeRef=function(en){return en.id+" 0 R"},St.outline.makeString=function(en){return"("+St.internal.pdfEscape(en)+")"},St.outline.objStart=function(en){this.ctx.val+=`\r
`+en.id+` 0 obj\r
<<\r
`},St.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},St.outline.count_r=function(en,tn){for(var nn=0;nn<tn.children.length;nn++)en.count++,this.count_r(en,tn.children[nn]);return en.count}}])}(E.API),function(_e){var e=[192,193,194,195,196,197,198,199];_e.processJPEG=function(St,en,tn,nn,rn,on){var un,cn=this.decode.DCT_DECODE,dn=null;if(typeof St=="string"||this.__addimage__.isArrayBuffer(St)||this.__addimage__.isArrayBufferView(St)){switch(St=rn||St,St=this.__addimage__.isArrayBuffer(St)?new Uint8Array(St):St,(un=function(Sn){for(var mn,fn=256*Sn.charCodeAt(4)+Sn.charCodeAt(5),vn=Sn.length,bn={width:0,height:0,numcomponents:1},wn=4;wn<vn;wn+=2){if(wn+=fn,e.indexOf(Sn.charCodeAt(wn+1))!==-1){mn=256*Sn.charCodeAt(wn+5)+Sn.charCodeAt(wn+6),bn={width:256*Sn.charCodeAt(wn+7)+Sn.charCodeAt(wn+8),height:mn,numcomponents:Sn.charCodeAt(wn+9)};break}fn=256*Sn.charCodeAt(wn+2)+Sn.charCodeAt(wn+3)}return bn}(St=this.__addimage__.isArrayBufferView(St)?this.__addimage__.arrayBufferToBinaryString(St):St)).numcomponents){case 1:on=this.color_spaces.DEVICE_GRAY;break;case 4:on=this.color_spaces.DEVICE_CMYK;break;case 3:on=this.color_spaces.DEVICE_RGB}dn={data:St,width:un.width,height:un.height,colorSpace:on,bitsPerComponent:8,filter:cn,index:en,alias:tn}}return dn}}(E.API);var Vt,Gt,Yt,Jt,Xt,Kt=function(){var _e,e,St;function en(nn){var rn,on,un,cn,dn,Sn,mn,fn,vn,bn,wn,pn,yn,An;for(this.data=nn,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},Sn=null;;){switch(rn=this.readUInt32(),vn=function(){var kn,xn;for(xn=[],kn=0;kn<4;++kn)xn.push(String.fromCharCode(this.data[this.pos++]));return xn}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(rn);break;case"fcTL":Sn&&this.animation.frames.push(Sn),this.pos+=4,Sn={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},dn=this.readUInt16(),cn=this.readUInt16()||100,Sn.delay=1e3*dn/cn,Sn.disposeOp=this.data[this.pos++],Sn.blendOp=this.data[this.pos++],Sn.data=[];break;case"IDAT":case"fdAT":for(vn==="fdAT"&&(this.pos+=4,rn-=4),nn=(Sn!=null?Sn.data:void 0)||this.imgData,pn=0;0<=rn?pn<rn:pn>rn;0<=rn?++pn:--pn)nn.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(un=this.palette.length/3,this.transparency.indexed=this.read(rn),this.transparency.indexed.length>un)throw new Error("More transparent colors than palette size");if((bn=un-this.transparency.indexed.length)>0)for(yn=0;0<=bn?yn<bn:yn>bn;0<=bn?++yn:--yn)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(rn)[0];break;case 2:this.transparency.rgb=this.read(rn)}break;case"tEXt":mn=(wn=this.read(rn)).indexOf(0),fn=String.fromCharCode.apply(String,wn.slice(0,mn)),this.text[fn]=String.fromCharCode.apply(String,wn.slice(mn+1));break;case"IEND":return Sn&&this.animation.frames.push(Sn),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(An=this.colorType)===4||An===6,on=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*on,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=rn}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}en.prototype.read=function(nn){var rn,on;for(on=[],rn=0;0<=nn?rn<nn:rn>nn;0<=nn?++rn:--rn)on.push(this.data[this.pos++]);return on},en.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},en.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},en.prototype.decodePixels=function(nn){var rn=this.pixelBitlength/8,on=new Uint8Array(this.width*this.height*rn),un=0,cn=this;if(nn==null&&(nn=this.imgData),nn.length===0)return new Uint8Array(0);function dn(Sn,mn,fn,vn){var bn,wn,pn,yn,An,kn,xn,Pn,In,On,Wn,zn,Mn,Gn,er,Qn,ar,tr,or,Yn,ur,pr=Math.ceil((cn.width-Sn)/fn),Lr=Math.ceil((cn.height-mn)/vn),Fn=cn.width==pr&&cn.height==Lr;for(Gn=rn*pr,zn=Fn?on:new Uint8Array(Gn*Lr),kn=nn.length,Mn=0,wn=0;Mn<Lr&&un<kn;){switch(nn[un++]){case 0:for(yn=ar=0;ar<Gn;yn=ar+=1)zn[wn++]=nn[un++];break;case 1:for(yn=tr=0;tr<Gn;yn=tr+=1)bn=nn[un++],An=yn<rn?0:zn[wn-rn],zn[wn++]=(bn+An)%256;break;case 2:for(yn=or=0;or<Gn;yn=or+=1)bn=nn[un++],pn=(yn-yn%rn)/rn,er=Mn&&zn[(Mn-1)*Gn+pn*rn+yn%rn],zn[wn++]=(er+bn)%256;break;case 3:for(yn=Yn=0;Yn<Gn;yn=Yn+=1)bn=nn[un++],pn=(yn-yn%rn)/rn,An=yn<rn?0:zn[wn-rn],er=Mn&&zn[(Mn-1)*Gn+pn*rn+yn%rn],zn[wn++]=(bn+Math.floor((An+er)/2))%256;break;case 4:for(yn=ur=0;ur<Gn;yn=ur+=1)bn=nn[un++],pn=(yn-yn%rn)/rn,An=yn<rn?0:zn[wn-rn],Mn===0?er=Qn=0:(er=zn[(Mn-1)*Gn+pn*rn+yn%rn],Qn=pn&&zn[(Mn-1)*Gn+(pn-1)*rn+yn%rn]),xn=An+er-Qn,Pn=Math.abs(xn-An),On=Math.abs(xn-er),Wn=Math.abs(xn-Qn),In=Pn<=On&&Pn<=Wn?An:On<=Wn?er:Qn,zn[wn++]=(bn+In)%256;break;default:throw new Error("Invalid filter algorithm: "+nn[un-1])}if(!Fn){var Rn=((mn+Mn*vn)*cn.width+Sn)*rn,Tn=Mn*Gn;for(yn=0;yn<pr;yn+=1){for(var Bn=0;Bn<rn;Bn+=1)on[Rn++]=zn[Tn++];Rn+=(fn-1)*rn}}Mn++}}return nn=unzlibSync(nn),cn.interlaceMethod==1?(dn(0,0,8,8),dn(4,0,8,8),dn(0,4,4,8),dn(2,0,4,4),dn(0,2,2,4),dn(1,0,2,2),dn(0,1,1,2)):dn(0,0,1,1),on},en.prototype.decodePalette=function(){var nn,rn,on,un,cn,dn,Sn,mn,fn;for(on=this.palette,dn=this.transparency.indexed||[],cn=new Uint8Array((dn.length||0)+on.length),un=0,nn=0,rn=Sn=0,mn=on.length;Sn<mn;rn=Sn+=3)cn[un++]=on[rn],cn[un++]=on[rn+1],cn[un++]=on[rn+2],cn[un++]=(fn=dn[nn++])!=null?fn:255;return cn},en.prototype.copyToImageData=function(nn,rn){var on,un,cn,dn,Sn,mn,fn,vn,bn,wn,pn;if(un=this.colors,bn=null,on=this.hasAlphaChannel,this.palette.length&&(bn=(pn=this._decodedPalette)!=null?pn:this._decodedPalette=this.decodePalette(),un=4,on=!0),vn=(cn=nn.data||nn).length,Sn=bn||rn,dn=mn=0,un===1)for(;dn<vn;)fn=bn?4*rn[dn/4]:mn,wn=Sn[fn++],cn[dn++]=wn,cn[dn++]=wn,cn[dn++]=wn,cn[dn++]=on?Sn[fn++]:255,mn=fn;else for(;dn<vn;)fn=bn?4*rn[dn/4]:mn,cn[dn++]=Sn[fn++],cn[dn++]=Sn[fn++],cn[dn++]=Sn[fn++],cn[dn++]=on?Sn[fn++]:255,mn=fn},en.prototype.decode=function(){var nn;return nn=new Uint8Array(this.width*this.height*4),this.copyToImageData(nn,this.decodePixels()),nn};var tn=function(){if(Object.prototype.toString.call(n)==="[object Window]"){try{e=n.document.createElement("canvas"),St=e.getContext("2d")}catch{return!1}return!0}return!1};return tn(),_e=function(nn){var rn;if(tn()===!0)return St.width=nn.width,St.height=nn.height,St.clearRect(0,0,nn.width,nn.height),St.putImageData(nn,0,0),(rn=new Image).src=e.toDataURL(),rn;throw new Error("This method requires a Browser with Canvas-capability.")},en.prototype.decodeFrames=function(nn){var rn,on,un,cn,dn,Sn,mn,fn;if(this.animation){for(fn=[],on=dn=0,Sn=(mn=this.animation.frames).length;dn<Sn;on=++dn)rn=mn[on],un=nn.createImageData(rn.width,rn.height),cn=this.decodePixels(new Uint8Array(rn.data)),this.copyToImageData(un,cn),rn.imageData=un,fn.push(rn.image=_e(un));return fn}},en.prototype.renderFrame=function(nn,rn){var on,un,cn;return on=(un=this.animation.frames)[rn],cn=un[rn-1],rn===0&&nn.clearRect(0,0,this.width,this.height),(cn!=null?cn.disposeOp:void 0)===1?nn.clearRect(cn.xOffset,cn.yOffset,cn.width,cn.height):(cn!=null?cn.disposeOp:void 0)===2&&nn.putImageData(cn.imageData,cn.xOffset,cn.yOffset),on.blendOp===0&&nn.clearRect(on.xOffset,on.yOffset,on.width,on.height),nn.drawImage(on.image,on.xOffset,on.yOffset)},en.prototype.animate=function(nn){var rn,on,un,cn,dn,Sn,mn=this;return on=0,Sn=this.animation,cn=Sn.numFrames,un=Sn.frames,dn=Sn.numPlays,(rn=function(){var fn,vn;if(fn=on++%cn,vn=un[fn],mn.renderFrame(nn,fn),cn>1&&on/cn<dn)return mn.animation._timeout=setTimeout(rn,vn.delay)})()},en.prototype.stopAnimation=function(){var nn;return clearTimeout((nn=this.animation)!=null?nn._timeout:void 0)},en.prototype.render=function(nn){var rn,on;return nn._png&&nn._png.stopAnimation(),nn._png=this,nn.width=this.width,nn.height=this.height,rn=nn.getContext("2d"),this.animation?(this.decodeFrames(rn),this.animate(rn)):(on=rn.createImageData(this.width,this.height),this.copyToImageData(on,this.decodePixels()),rn.putImageData(on,0,0))},en}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(_e){var e=0;if(_e[e++]!==71||_e[e++]!==73||_e[e++]!==70||_e[e++]!==56||(_e[e++]+1&253)!=56||_e[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var St=_e[e++]|_e[e++]<<8,en=_e[e++]|_e[e++]<<8,tn=_e[e++],nn=tn>>7,rn=1<<(7&tn)+1;_e[e++],_e[e++];var on=null,un=null;nn&&(on=e,un=rn,e+=3*rn);var cn=!0,dn=[],Sn=0,mn=null,fn=0,vn=null;for(this.width=St,this.height=en;cn&&e<_e.length;)switch(_e[e++]){case 33:switch(_e[e++]){case 255:if(_e[e]!==11||_e[e+1]==78&&_e[e+2]==69&&_e[e+3]==84&&_e[e+4]==83&&_e[e+5]==67&&_e[e+6]==65&&_e[e+7]==80&&_e[e+8]==69&&_e[e+9]==50&&_e[e+10]==46&&_e[e+11]==48&&_e[e+12]==3&&_e[e+13]==1&&_e[e+16]==0)e+=14,vn=_e[e++]|_e[e++]<<8,e++;else for(e+=12;;){if(!((Mn=_e[e++])>=0))throw Error("Invalid block size");if(Mn===0)break;e+=Mn}break;case 249:if(_e[e++]!==4||_e[e+4]!==0)throw new Error("Invalid graphics extension block.");var bn=_e[e++];Sn=_e[e++]|_e[e++]<<8,mn=_e[e++],(1&bn)==0&&(mn=null),fn=bn>>2&7,e++;break;case 254:for(;;){if(!((Mn=_e[e++])>=0))throw Error("Invalid block size");if(Mn===0)break;e+=Mn}break;default:throw new Error("Unknown graphic control label: 0x"+_e[e-1].toString(16))}break;case 44:var wn=_e[e++]|_e[e++]<<8,pn=_e[e++]|_e[e++]<<8,yn=_e[e++]|_e[e++]<<8,An=_e[e++]|_e[e++]<<8,kn=_e[e++],xn=kn>>6&1,Pn=1<<(7&kn)+1,In=on,On=un,Wn=!1;kn>>7&&(Wn=!0,In=e,On=Pn,e+=3*Pn);var zn=e;for(e++;;){var Mn;if(!((Mn=_e[e++])>=0))throw Error("Invalid block size");if(Mn===0)break;e+=Mn}dn.push({x:wn,y:pn,width:yn,height:An,has_local_palette:Wn,palette_offset:In,palette_size:On,data_offset:zn,data_length:e-zn,transparent_index:mn,interlaced:!!xn,delay:Sn,disposal:fn});break;case 59:cn=!1;break;default:throw new Error("Unknown gif block: 0x"+_e[e-1].toString(16))}this.numFrames=function(){return dn.length},this.loopCount=function(){return vn},this.frameInfo=function(Gn){if(Gn<0||Gn>=dn.length)throw new Error("Frame index out of range.");return dn[Gn]},this.decodeAndBlitFrameBGRA=function(Gn,er){var Qn=this.frameInfo(Gn),ar=Qn.width*Qn.height,tr=new Uint8Array(ar);$t(_e,Qn.data_offset,tr,ar);var or=Qn.palette_offset,Yn=Qn.transparent_index;Yn===null&&(Yn=256);var ur=Qn.width,pr=St-ur,Lr=ur,Fn=4*(Qn.y*St+Qn.x),Rn=4*((Qn.y+Qn.height)*St+Qn.x),Tn=Fn,Bn=4*pr;Qn.interlaced===!0&&(Bn+=4*St*7);for(var Hn=8,Kn=0,nr=tr.length;Kn<nr;++Kn){var ir=tr[Kn];if(Lr===0&&(Lr=ur,(Tn+=Bn)>=Rn&&(Bn=4*pr+4*St*(Hn-1),Tn=Fn+(ur+pr)*(Hn<<1),Hn>>=1)),ir===Yn)Tn+=4;else{var _r=_e[or+3*ir],Cr=_e[or+3*ir+1],br=_e[or+3*ir+2];er[Tn++]=br,er[Tn++]=Cr,er[Tn++]=_r,er[Tn++]=255}--Lr}},this.decodeAndBlitFrameRGBA=function(Gn,er){var Qn=this.frameInfo(Gn),ar=Qn.width*Qn.height,tr=new Uint8Array(ar);$t(_e,Qn.data_offset,tr,ar);var or=Qn.palette_offset,Yn=Qn.transparent_index;Yn===null&&(Yn=256);var ur=Qn.width,pr=St-ur,Lr=ur,Fn=4*(Qn.y*St+Qn.x),Rn=4*((Qn.y+Qn.height)*St+Qn.x),Tn=Fn,Bn=4*pr;Qn.interlaced===!0&&(Bn+=4*St*7);for(var Hn=8,Kn=0,nr=tr.length;Kn<nr;++Kn){var ir=tr[Kn];if(Lr===0&&(Lr=ur,(Tn+=Bn)>=Rn&&(Bn=4*pr+4*St*(Hn-1),Tn=Fn+(ur+pr)*(Hn<<1),Hn>>=1)),ir===Yn)Tn+=4;else{var _r=_e[or+3*ir],Cr=_e[or+3*ir+1],br=_e[or+3*ir+2];er[Tn++]=_r,er[Tn++]=Cr,er[Tn++]=br,er[Tn++]=255}--Lr}}}function $t(_e,e,St,en){for(var tn=_e[e++],nn=1<<tn,rn=nn+1,on=rn+1,un=tn+1,cn=(1<<un)-1,dn=0,Sn=0,mn=0,fn=_e[e++],vn=new Int32Array(4096),bn=null;;){for(;dn<16&&fn!==0;)Sn|=_e[e++]<<dn,dn+=8,fn===1?fn=_e[e++]:--fn;if(dn<un)break;var wn=Sn&cn;if(Sn>>=un,dn-=un,wn!==nn){if(wn===rn)break;for(var pn=wn<on?wn:bn,yn=0,An=pn;An>nn;)An=vn[An]>>8,++yn;var kn=An;if(mn+yn+(pn!==wn?1:0)>en)return void a.log("Warning, gif stream longer than expected.");St[mn++]=kn;var xn=mn+=yn;for(pn!==wn&&(St[mn++]=kn),An=pn;yn--;)An=vn[An],St[--xn]=255&An,An>>=8;bn!==null&&on<4096&&(vn[on++]=bn<<8|kn,on>=cn+1&&un<12&&(++un,cn=cn<<1|1)),bn=wn}else on=rn+1,cn=(1<<(un=tn+1))-1,bn=null}return mn!==en&&a.log("Warning, gif stream shorter than expected."),St}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt(_e){var e,St,en,tn,nn,rn=Math.floor,on=new Array(64),un=new Array(64),cn=new Array(64),dn=new Array(64),Sn=new Array(65535),mn=new Array(65535),fn=new Array(64),vn=new Array(64),bn=[],wn=0,pn=7,yn=new Array(64),An=new Array(64),kn=new Array(64),xn=new Array(256),Pn=new Array(2048),In=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],On=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Wn=[0,1,2,3,4,5,6,7,8,9,10,11],zn=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Mn=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Gn=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],er=[0,1,2,3,4,5,6,7,8,9,10,11],Qn=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ar=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function tr(Fn,Rn){for(var Tn=0,Bn=0,Hn=new Array,Kn=1;Kn<=16;Kn++){for(var nr=1;nr<=Fn[Kn];nr++)Hn[Rn[Bn]]=[],Hn[Rn[Bn]][0]=Tn,Hn[Rn[Bn]][1]=Kn,Bn++,Tn++;Tn*=2}return Hn}function or(Fn){for(var Rn=Fn[0],Tn=Fn[1]-1;Tn>=0;)Rn&1<<Tn&&(wn|=1<<pn),Tn--,--pn<0&&(wn==255?(Yn(255),Yn(0)):Yn(wn),pn=7,wn=0)}function Yn(Fn){bn.push(Fn)}function ur(Fn){Yn(Fn>>8&255),Yn(255&Fn)}function pr(Fn,Rn,Tn,Bn,Hn){for(var Kn,nr=Hn[0],ir=Hn[240],_r=function(hr,Ar){var Fr,Pr,Gr,Sr,Wr,Jr,ns,Er,zr,rs,Qr=0;for(zr=0;zr<8;++zr){Fr=hr[Qr],Pr=hr[Qr+1],Gr=hr[Qr+2],Sr=hr[Qr+3],Wr=hr[Qr+4],Jr=hr[Qr+5],ns=hr[Qr+6];var ks=Fr+(Er=hr[Qr+7]),ys=Fr-Er,ws=Pr+ns,Bs=Pr-ns,io=Gr+Jr,yr=Gr-Jr,gr=Sr+Wr,wr=Sr-Wr,Kr=ks+gr,ls=ks-gr,bs=ws+io,as=ws-io;hr[Qr]=Kr+bs,hr[Qr+4]=Kr-bs;var ss=.707106781*(as+ls);hr[Qr+2]=ls+ss,hr[Qr+6]=ls-ss;var _s=.382683433*((Kr=wr+yr)-(as=Bs+ys)),Ms=.5411961*Kr+_s,Ps=1.306562965*as+_s,Us=.707106781*(bs=yr+Bs),Ns=ys+Us,ms=ys-Us;hr[Qr+5]=ms+Ms,hr[Qr+3]=ms-Ms,hr[Qr+1]=Ns+Ps,hr[Qr+7]=Ns-Ps,Qr+=8}for(Qr=0,zr=0;zr<8;++zr){Fr=hr[Qr],Pr=hr[Qr+8],Gr=hr[Qr+16],Sr=hr[Qr+24],Wr=hr[Qr+32],Jr=hr[Qr+40],ns=hr[Qr+48];var Os=Fr+(Er=hr[Qr+56]),so=Fr-Er,Ys=Pr+ns,js=Pr-ns,Ks=Gr+Jr,co=Gr-Jr,eo=Sr+Wr,Po=Sr-Wr,No=Os+eo,$o=Os-eo,Tl=Ys+Ks,xu=Ys-Ks;hr[Qr]=No+Tl,hr[Qr+32]=No-Tl;var su=.707106781*(xu+$o);hr[Qr+16]=$o+su,hr[Qr+48]=$o-su;var Cu=.382683433*((No=Po+co)-(xu=js+so)),pp=.5411961*No+Cu,Op=1.306562965*xu+Cu,Ip=.707106781*(Tl=co+js),Dp=so+Ip,jp=so-Ip;hr[Qr+40]=jp+pp,hr[Qr+24]=jp-pp,hr[Qr+8]=Dp+Op,hr[Qr+56]=Dp-Op,Qr++}for(zr=0;zr<64;++zr)rs=hr[zr]*Ar[zr],fn[zr]=rs>0?rs+.5|0:rs-.5|0;return fn}(Fn,Rn),Cr=0;Cr<64;++Cr)vn[In[Cr]]=_r[Cr];var br=vn[0]-Tn;Tn=vn[0],br==0?or(Bn[0]):(or(Bn[mn[Kn=32767+br]]),or(Sn[Kn]));for(var xr=63;xr>0&&vn[xr]==0;)xr--;if(xr==0)return or(nr),Tn;for(var Un,qn=1;qn<=xr;){for(var Dn=qn;vn[qn]==0&&qn<=xr;)++qn;var lr=qn-Dn;if(lr>=16){Un=lr>>4;for(var cr=1;cr<=Un;++cr)or(ir);lr&=15}Kn=32767+vn[qn],or(Hn[(lr<<4)+mn[Kn]]),or(Sn[Kn]),qn++}return xr!=63&&or(nr),Tn}function Lr(Fn){Fn=Math.min(Math.max(Fn,1),100),nn!=Fn&&(function(Rn){for(var Tn=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Bn=0;Bn<64;Bn++){var Hn=rn((Tn[Bn]*Rn+50)/100);Hn=Math.min(Math.max(Hn,1),255),on[In[Bn]]=Hn}for(var Kn=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],nr=0;nr<64;nr++){var ir=rn((Kn[nr]*Rn+50)/100);ir=Math.min(Math.max(ir,1),255),un[In[nr]]=ir}for(var _r=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Cr=0,br=0;br<8;br++)for(var xr=0;xr<8;xr++)cn[Cr]=1/(on[In[Cr]]*_r[br]*_r[xr]*8),dn[Cr]=1/(un[In[Cr]]*_r[br]*_r[xr]*8),Cr++}(Fn<50?Math.floor(5e3/Fn):Math.floor(200-2*Fn)),nn=Fn)}this.encode=function(Fn,Rn){Rn&&Lr(Rn),bn=new Array,wn=0,pn=7,ur(65496),ur(65504),ur(16),Yn(74),Yn(70),Yn(73),Yn(70),Yn(0),Yn(1),Yn(1),Yn(0),ur(1),ur(1),Yn(0),Yn(0),function(){ur(65499),ur(132),Yn(0);for(var Pr=0;Pr<64;Pr++)Yn(on[Pr]);Yn(1);for(var Gr=0;Gr<64;Gr++)Yn(un[Gr])}(),function(Pr,Gr){ur(65472),ur(17),Yn(8),ur(Gr),ur(Pr),Yn(3),Yn(1),Yn(17),Yn(0),Yn(2),Yn(17),Yn(1),Yn(3),Yn(17),Yn(1)}(Fn.width,Fn.height),function(){ur(65476),ur(418),Yn(0);for(var Pr=0;Pr<16;Pr++)Yn(On[Pr+1]);for(var Gr=0;Gr<=11;Gr++)Yn(Wn[Gr]);Yn(16);for(var Sr=0;Sr<16;Sr++)Yn(zn[Sr+1]);for(var Wr=0;Wr<=161;Wr++)Yn(Mn[Wr]);Yn(1);for(var Jr=0;Jr<16;Jr++)Yn(Gn[Jr+1]);for(var ns=0;ns<=11;ns++)Yn(er[ns]);Yn(17);for(var Er=0;Er<16;Er++)Yn(Qn[Er+1]);for(var zr=0;zr<=161;zr++)Yn(ar[zr])}(),ur(65498),ur(12),Yn(3),Yn(1),Yn(0),Yn(2),Yn(17),Yn(3),Yn(17),Yn(0),Yn(63),Yn(0);var Tn=0,Bn=0,Hn=0;wn=0,pn=7,this.encode.displayName="_encode_";for(var Kn,nr,ir,_r,Cr,br,xr,Un,qn,Dn=Fn.data,lr=Fn.width,cr=Fn.height,hr=4*lr,Ar=0;Ar<cr;){for(Kn=0;Kn<hr;){for(Cr=hr*Ar+Kn,xr=-1,Un=0,qn=0;qn<64;qn++)br=Cr+(Un=qn>>3)*hr+(xr=4*(7&qn)),Ar+Un>=cr&&(br-=hr*(Ar+1+Un-cr)),Kn+xr>=hr&&(br-=Kn+xr-hr+4),nr=Dn[br++],ir=Dn[br++],_r=Dn[br++],yn[qn]=(Pn[nr]+Pn[ir+256>>0]+Pn[_r+512>>0]>>16)-128,An[qn]=(Pn[nr+768>>0]+Pn[ir+1024>>0]+Pn[_r+1280>>0]>>16)-128,kn[qn]=(Pn[nr+1280>>0]+Pn[ir+1536>>0]+Pn[_r+1792>>0]>>16)-128;Tn=pr(yn,cn,Tn,e,en),Bn=pr(An,dn,Bn,St,tn),Hn=pr(kn,dn,Hn,St,tn),Kn+=32}Ar+=8}if(pn>=0){var Fr=[];Fr[1]=pn+1,Fr[0]=(1<<pn+1)-1,or(Fr)}return ur(65497),new Uint8Array(bn)},_e=_e||50,function(){for(var Fn=String.fromCharCode,Rn=0;Rn<256;Rn++)xn[Rn]=Fn(Rn)}(),e=tr(On,Wn),St=tr(Gn,er),en=tr(zn,Mn),tn=tr(Qn,ar),function(){for(var Fn=1,Rn=2,Tn=1;Tn<=15;Tn++){for(var Bn=Fn;Bn<Rn;Bn++)mn[32767+Bn]=Tn,Sn[32767+Bn]=[],Sn[32767+Bn][1]=Tn,Sn[32767+Bn][0]=Bn;for(var Hn=-(Rn-1);Hn<=-Fn;Hn++)mn[32767+Hn]=Tn,Sn[32767+Hn]=[],Sn[32767+Hn][1]=Tn,Sn[32767+Hn][0]=Rn-1+Hn;Fn<<=1,Rn<<=1}}(),function(){for(var Fn=0;Fn<256;Fn++)Pn[Fn]=19595*Fn,Pn[Fn+256>>0]=38470*Fn,Pn[Fn+512>>0]=7471*Fn+32768,Pn[Fn+768>>0]=-11059*Fn,Pn[Fn+1024>>0]=-21709*Fn,Pn[Fn+1280>>0]=32768*Fn+8421375,Pn[Fn+1536>>0]=-27439*Fn,Pn[Fn+1792>>0]=-5329*Fn}(),Lr(_e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te(_e,e){if(this.pos=0,this.buffer=_e,this.datav=new DataView(_e.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee(_e){function e(On){if(!On)throw Error("assert :P")}function St(On,Wn,zn){for(var Mn=0;4>Mn;Mn++)if(On[Wn+Mn]!=zn.charCodeAt(Mn))return!0;return!1}function en(On,Wn,zn,Mn,Gn){for(var er=0;er<Gn;er++)On[Wn+er]=zn[Mn+er]}function tn(On,Wn,zn,Mn){for(var Gn=0;Gn<Mn;Gn++)On[Wn+Gn]=zn}function nn(On){return new Int32Array(On)}function rn(On,Wn){for(var zn=[],Mn=0;Mn<On;Mn++)zn.push(new Wn);return zn}function on(On,Wn){var zn=[];return function Mn(Gn,er,Qn){for(var ar=Qn[er],tr=0;tr<ar&&(Gn.push(Qn.length>er+1?[]:new Wn),!(Qn.length<er+1));tr++)Mn(Gn[tr],er+1,Qn)}(zn,0,On),zn}var un=function(){var On=this;function Wn(hn,_n){for(var Nn=1<<_n-1>>>0;hn&Nn;)Nn>>>=1;return Nn?(hn&Nn-1)+Nn:hn}function zn(hn,_n,Nn,jn,Vn){e(!(jn%Nn));do hn[_n+(jn-=Nn)]=Vn;while(0<jn)}function Mn(hn,_n,Nn,jn,Vn){if(e(2328>=Vn),512>=Vn)var Jn=nn(512);else if((Jn=nn(Vn))==null)return 0;return function(Zn,rr,sr,mr,Tr,Ur){var Dr,Mr,_i=rr,Hr=1<<sr,kr=nn(16),Rr=nn(16);for(e(Tr!=0),e(mr!=null),e(Zn!=null),e(0<sr),Mr=0;Mr<Tr;++Mr){if(15<mr[Mr])return 0;++kr[mr[Mr]]}if(kr[0]==Tr)return 0;for(Rr[1]=0,Dr=1;15>Dr;++Dr){if(kr[Dr]>1<<Dr)return 0;Rr[Dr+1]=Rr[Dr]+kr[Dr]}for(Mr=0;Mr<Tr;++Mr)Dr=mr[Mr],0<mr[Mr]&&(Ur[Rr[Dr]++]=Mr);if(Rr[15]==1)return(mr=new Gn).g=0,mr.value=Ur[0],zn(Zn,_i,1,Hr,mr),Hr;var Or,es=-1,Zr=Hr-1,ps=0,cs=1,Cs=1,hs=1<<sr;for(Mr=0,Dr=1,Tr=2;Dr<=sr;++Dr,Tr<<=1){if(cs+=Cs<<=1,0>(Cs-=kr[Dr]))return 0;for(;0<kr[Dr];--kr[Dr])(mr=new Gn).g=Dr,mr.value=Ur[Mr++],zn(Zn,_i+ps,Tr,hs,mr),ps=Wn(ps,Dr)}for(Dr=sr+1,Tr=2;15>=Dr;++Dr,Tr<<=1){if(cs+=Cs<<=1,0>(Cs-=kr[Dr]))return 0;for(;0<kr[Dr];--kr[Dr]){if(mr=new Gn,(ps&Zr)!=es){for(_i+=hs,Or=1<<(es=Dr)-sr;15>es&&!(0>=(Or-=kr[es]));)++es,Or<<=1;Hr+=hs=1<<(Or=es-sr),Zn[rr+(es=ps&Zr)].g=Or+sr,Zn[rr+es].value=_i-rr-es}mr.g=Dr-sr,mr.value=Ur[Mr++],zn(Zn,_i+(ps>>sr),Tr,hs,mr),ps=Wn(ps,Dr)}}return cs!=2*Rr[15]-1?0:Hr}(hn,_n,Nn,jn,Vn,Jn)}function Gn(){this.value=this.g=0}function er(){this.value=this.g=0}function Qn(){this.G=rn(5,Gn),this.H=nn(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=rn(qo,er)}function ar(hn,_n,Nn,jn){e(hn!=null),e(_n!=null),e(2147483648>jn),hn.Ca=254,hn.I=0,hn.b=-8,hn.Ka=0,hn.oa=_n,hn.pa=Nn,hn.Jd=_n,hn.Yc=Nn+jn,hn.Zc=4<=jn?Nn+jn-4+1:Nn,Kn(hn)}function tr(hn,_n){for(var Nn=0;0<_n--;)Nn|=ir(hn,128)<<_n;return Nn}function or(hn,_n){var Nn=tr(hn,_n);return nr(hn)?-Nn:Nn}function Yn(hn,_n,Nn,jn){var Vn,Jn=0;for(e(hn!=null),e(_n!=null),e(4294967288>jn),hn.Sb=jn,hn.Ra=0,hn.u=0,hn.h=0,4<jn&&(jn=4),Vn=0;Vn<jn;++Vn)Jn+=_n[Nn+Vn]<<8*Vn;hn.Ra=Jn,hn.bb=jn,hn.oa=_n,hn.pa=Nn}function ur(hn){for(;8<=hn.u&&hn.bb<hn.Sb;)hn.Ra>>>=8,hn.Ra+=hn.oa[hn.pa+hn.bb]<<Ap-8>>>0,++hn.bb,hn.u-=8;Tn(hn)&&(hn.h=1,hn.u=0)}function pr(hn,_n){if(e(0<=_n),!hn.h&&_n<=Hu){var Nn=Rn(hn)&bp[_n];return hn.u+=_n,ur(hn),Nn}return hn.h=1,hn.u=0}function Lr(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Fn(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Rn(hn){return hn.Ra>>>(hn.u&Ap-1)>>>0}function Tn(hn){return e(hn.bb<=hn.Sb),hn.h||hn.bb==hn.Sb&&hn.u>Ap}function Bn(hn,_n){hn.u=_n,hn.h=Tn(hn)}function Hn(hn){hn.u>=Kp&&(e(hn.u>=Kp),ur(hn))}function Kn(hn){e(hn!=null&&hn.oa!=null),hn.pa<hn.Zc?(hn.I=(hn.oa[hn.pa++]|hn.I<<8)>>>0,hn.b+=8):(e(hn!=null&&hn.oa!=null),hn.pa<hn.Yc?(hn.b+=8,hn.I=hn.oa[hn.pa++]|hn.I<<8):hn.Ka?hn.b=0:(hn.I<<=8,hn.b+=8,hn.Ka=1))}function nr(hn){return tr(hn,1)}function ir(hn,_n){var Nn=hn.Ca;0>hn.b&&Kn(hn);var jn=hn.b,Vn=Nn*_n>>>8,Jn=(hn.I>>>jn>Vn)+0;for(Jn?(Nn-=Vn,hn.I-=Vn+1<<jn>>>0):Nn=Vn+1,jn=Nn,Vn=0;256<=jn;)Vn+=8,jn>>=8;return jn=7^Vn+Ko[jn],hn.b-=jn,hn.Ca=(Nn<<jn)-1,Jn}function _r(hn,_n,Nn){hn[_n+0]=Nn>>24&255,hn[_n+1]=Nn>>16&255,hn[_n+2]=Nn>>8&255,hn[_n+3]=Nn>>0&255}function Cr(hn,_n){return hn[_n+0]<<0|hn[_n+1]<<8}function br(hn,_n){return Cr(hn,_n)|hn[_n+2]<<16}function xr(hn,_n){return Cr(hn,_n)|Cr(hn,_n+2)<<16}function Un(hn,_n){var Nn=1<<_n;return e(hn!=null),e(0<_n),hn.X=nn(Nn),hn.X==null?0:(hn.Mb=32-_n,hn.Xa=_n,1)}function qn(hn,_n){e(hn!=null),e(_n!=null),e(hn.Xa==_n.Xa),en(_n.X,0,hn.X,0,1<<_n.Xa)}function Dn(){this.X=[],this.Xa=this.Mb=0}function lr(hn,_n,Nn,jn){e(Nn!=null),e(jn!=null);var Vn=Nn[0],Jn=jn[0];return Vn==0&&(Vn=(hn*Jn+_n/2)/_n),Jn==0&&(Jn=(_n*Vn+hn/2)/hn),0>=Vn||0>=Jn?0:(Nn[0]=Vn,jn[0]=Jn,1)}function cr(hn,_n){return hn+(1<<_n)-1>>>_n}function hr(hn,_n){return((4278255360&hn)+(4278255360&_n)>>>0&4278255360)+((16711935&hn)+(16711935&_n)>>>0&16711935)>>>0}function Ar(hn,_n){On[_n]=function(Nn,jn,Vn,Jn,Zn,rr,sr){var mr;for(mr=0;mr<Zn;++mr){var Tr=On[hn](rr[sr+mr-1],Vn,Jn+mr);rr[sr+mr]=hr(Nn[jn+mr],Tr)}}}function Fr(){this.ud=this.hd=this.jd=0}function Pr(hn,_n){return((4278124286&(hn^_n))>>>1)+(hn&_n)>>>0}function Gr(hn){return 0<=hn&&256>hn?hn:0>hn?0:255<hn?255:void 0}function Sr(hn,_n){return Gr(hn+(hn-_n+.5>>1))}function Wr(hn,_n,Nn){return Math.abs(_n-Nn)-Math.abs(hn-Nn)}function Jr(hn,_n,Nn,jn,Vn,Jn,Zn){for(jn=Jn[Zn-1],Nn=0;Nn<Vn;++Nn)Jn[Zn+Nn]=jn=hr(hn[_n+Nn],jn)}function ns(hn,_n,Nn,jn,Vn){var Jn;for(Jn=0;Jn<Nn;++Jn){var Zn=hn[_n+Jn],rr=Zn>>8&255,sr=16711935&(sr=(sr=16711935&Zn)+((rr<<16)+rr));jn[Vn+Jn]=(4278255360&Zn)+sr>>>0}}function Er(hn,_n){_n.jd=hn>>0&255,_n.hd=hn>>8&255,_n.ud=hn>>16&255}function zr(hn,_n,Nn,jn,Vn,Jn){var Zn;for(Zn=0;Zn<jn;++Zn){var rr=_n[Nn+Zn],sr=rr>>>8,mr=rr,Tr=255&(Tr=(Tr=rr>>>16)+((hn.jd<<24>>24)*(sr<<24>>24)>>>5));mr=255&(mr=(mr=mr+((hn.hd<<24>>24)*(sr<<24>>24)>>>5))+((hn.ud<<24>>24)*(Tr<<24>>24)>>>5)),Vn[Jn+Zn]=(4278255360&rr)+(Tr<<16)+mr}}function rs(hn,_n,Nn,jn,Vn){On[_n]=function(Jn,Zn,rr,sr,mr,Tr,Ur,Dr,Mr){for(sr=Ur;sr<Dr;++sr)for(Ur=0;Ur<Mr;++Ur)mr[Tr++]=Vn(rr[jn(Jn[Zn++])])},On[hn]=function(Jn,Zn,rr,sr,mr,Tr,Ur){var Dr=8>>Jn.b,Mr=Jn.Ea,_i=Jn.K[0],Hr=Jn.w;if(8>Dr)for(Jn=(1<<Jn.b)-1,Hr=(1<<Dr)-1;Zn<rr;++Zn){var kr,Rr=0;for(kr=0;kr<Mr;++kr)kr&Jn||(Rr=jn(sr[mr++])),Tr[Ur++]=Vn(_i[Rr&Hr]),Rr>>=Dr}else On["VP8LMapColor"+Nn](sr,mr,_i,Hr,Tr,Ur,Zn,rr,Mr)}}function Qr(hn,_n,Nn,jn,Vn){for(Nn=_n+Nn;_n<Nn;){var Jn=hn[_n++];jn[Vn++]=Jn>>16&255,jn[Vn++]=Jn>>8&255,jn[Vn++]=Jn>>0&255}}function ks(hn,_n,Nn,jn,Vn){for(Nn=_n+Nn;_n<Nn;){var Jn=hn[_n++];jn[Vn++]=Jn>>16&255,jn[Vn++]=Jn>>8&255,jn[Vn++]=Jn>>0&255,jn[Vn++]=Jn>>24&255}}function ys(hn,_n,Nn,jn,Vn){for(Nn=_n+Nn;_n<Nn;){var Jn=(Zn=hn[_n++])>>16&240|Zn>>12&15,Zn=Zn>>0&240|Zn>>28&15;jn[Vn++]=Jn,jn[Vn++]=Zn}}function ws(hn,_n,Nn,jn,Vn){for(Nn=_n+Nn;_n<Nn;){var Jn=(Zn=hn[_n++])>>16&248|Zn>>13&7,Zn=Zn>>5&224|Zn>>3&31;jn[Vn++]=Jn,jn[Vn++]=Zn}}function Bs(hn,_n,Nn,jn,Vn){for(Nn=_n+Nn;_n<Nn;){var Jn=hn[_n++];jn[Vn++]=Jn>>0&255,jn[Vn++]=Jn>>8&255,jn[Vn++]=Jn>>16&255}}function io(hn,_n,Nn,jn,Vn,Jn){if(Jn==0)for(Nn=_n+Nn;_n<Nn;)_r(jn,((Jn=hn[_n++])[0]>>24|Jn[1]>>8&65280|Jn[2]<<8&16711680|Jn[3]<<24)>>>0),Vn+=32;else en(jn,Vn,hn,_n,Nn)}function yr(hn,_n){On[_n][0]=On[hn+"0"],On[_n][1]=On[hn+"1"],On[_n][2]=On[hn+"2"],On[_n][3]=On[hn+"3"],On[_n][4]=On[hn+"4"],On[_n][5]=On[hn+"5"],On[_n][6]=On[hn+"6"],On[_n][7]=On[hn+"7"],On[_n][8]=On[hn+"8"],On[_n][9]=On[hn+"9"],On[_n][10]=On[hn+"10"],On[_n][11]=On[hn+"11"],On[_n][12]=On[hn+"12"],On[_n][13]=On[hn+"13"],On[_n][14]=On[hn+"0"],On[_n][15]=On[hn+"0"]}function gr(hn){return hn==Y1||hn==i1||hn==kp||hn==K1}function wr(){this.eb=[],this.size=this.A=this.fb=0}function Kr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ls(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new wr,this.f.kb=new Kr,this.sd=null}function bs(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function as(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ss(hn){return alert("todo:WebPSamplerProcessPlane"),hn.T}function _s(hn,_n){var Nn=hn.T,jn=_n.ba.f.RGBA,Vn=jn.eb,Jn=jn.fb+hn.ka*jn.A,Zn=ru[_n.ba.S],rr=hn.y,sr=hn.O,mr=hn.f,Tr=hn.N,Ur=hn.ea,Dr=hn.W,Mr=_n.cc,_i=_n.dc,Hr=_n.Mc,kr=_n.Nc,Rr=hn.ka,Or=hn.ka+hn.T,es=hn.U,Zr=es+1>>1;for(Rr==0?Zn(rr,sr,null,null,mr,Tr,Ur,Dr,mr,Tr,Ur,Dr,Vn,Jn,null,null,es):(Zn(_n.ec,_n.fc,rr,sr,Mr,_i,Hr,kr,mr,Tr,Ur,Dr,Vn,Jn-jn.A,Vn,Jn,es),++Nn);Rr+2<Or;Rr+=2)Mr=mr,_i=Tr,Hr=Ur,kr=Dr,Tr+=hn.Rc,Dr+=hn.Rc,Jn+=2*jn.A,Zn(rr,(sr+=2*hn.fa)-hn.fa,rr,sr,Mr,_i,Hr,kr,mr,Tr,Ur,Dr,Vn,Jn-jn.A,Vn,Jn,es);return sr+=hn.fa,hn.j+Or<hn.o?(en(_n.ec,_n.fc,rr,sr,es),en(_n.cc,_n.dc,mr,Tr,Zr),en(_n.Mc,_n.Nc,Ur,Dr,Zr),Nn--):1&Or||Zn(rr,sr,null,null,mr,Tr,Ur,Dr,mr,Tr,Ur,Dr,Vn,Jn+jn.A,null,null,es),Nn}function Ms(hn,_n,Nn){var jn=hn.F,Vn=[hn.J];if(jn!=null){var Jn=hn.U,Zn=_n.ba.S,rr=Zn==k1||Zn==kp;_n=_n.ba.f.RGBA;var sr=[0],mr=hn.ka;sr[0]=hn.T,hn.Kb&&(mr==0?--sr[0]:(--mr,Vn[0]-=hn.width),hn.j+hn.ka+hn.T==hn.o&&(sr[0]=hn.o-hn.j-mr));var Tr=_n.eb;mr=_n.fb+mr*_n.A,hn=Io(jn,Vn[0],hn.width,Jn,sr,Tr,mr+(rr?0:3),_n.A),e(Nn==sr),hn&&gr(Zn)&&uu(Tr,mr,rr,Jn,sr,_n.A)}return 0}function Ps(hn){var _n=hn.ma,Nn=_n.ba.S,jn=11>Nn,Vn=Nn==C1||Nn==E1||Nn==k1||Nn==X1||Nn==12||gr(Nn);if(_n.memory=null,_n.Ib=null,_n.Jb=null,_n.Nd=null,!Yp(_n.Oa,hn,Vn?11:12))return 0;if(Vn&&gr(Nn)&&is(),hn.da)alert("todo:use_scaling");else{if(jn){if(_n.Ib=ss,hn.Kb){if(Nn=hn.U+1>>1,_n.memory=nn(hn.U+2*Nn),_n.memory==null)return 0;_n.ec=_n.memory,_n.fc=0,_n.cc=_n.ec,_n.dc=_n.fc+hn.U,_n.Mc=_n.cc,_n.Nc=_n.dc+Nn,_n.Ib=_s,is()}}else alert("todo:EmitYUV");Vn&&(_n.Jb=Ms,jn&&Br())}if(jn&&!T0){for(hn=0;256>hn;++hn)L0[hn]=89858*(hn-128)+N1>>P1,R0[hn]=-22014*(hn-128)+N1,K0[hn]=-45773*(hn-128),Y0[hn]=113618*(hn-128)+N1>>P1;for(hn=a1;hn<_g;++hn)_n=76283*(hn-16)+N1>>P1,F0[hn-a1]=Oo(_n,255),Q0[hn-a1]=Oo(_n+8>>4,15);T0=1}return 1}function Us(hn){var _n=hn.ma,Nn=hn.U,jn=hn.T;return e(!(1&hn.ka)),0>=Nn||0>=jn?0:(Nn=_n.Ib(hn,_n),_n.Jb!=null&&_n.Jb(hn,_n,Nn),_n.Dc+=Nn,1)}function Ns(hn){hn.ma.memory=null}function ms(hn,_n,Nn,jn){return pr(hn,8)!=47?0:(_n[0]=pr(hn,14)+1,Nn[0]=pr(hn,14)+1,jn[0]=pr(hn,1),pr(hn,3)!=0?0:!hn.h)}function Os(hn,_n){if(4>hn)return hn+1;var Nn=hn-2>>1;return(2+(1&hn)<<Nn)+pr(_n,Nn)+1}function so(hn,_n){return 120<_n?_n-120:1<=(Nn=((Nn=b0[_n-1])>>4)*hn+(8-(15&Nn)))?Nn:1;var Nn}function Ys(hn,_n,Nn){var jn=Rn(Nn),Vn=hn[_n+=255&jn].g-8;return 0<Vn&&(Bn(Nn,Nn.u+8),jn=Rn(Nn),_n+=hn[_n].value,_n+=jn&(1<<Vn)-1),Bn(Nn,Nn.u+hn[_n].g),hn[_n].value}function js(hn,_n,Nn){return Nn.g+=hn.g,Nn.value+=hn.value<<_n>>>0,e(8>=Nn.g),hn.g}function Ks(hn,_n,Nn){var jn=hn.xc;return e((_n=jn==0?0:hn.vc[hn.md*(Nn>>jn)+(_n>>jn)])<hn.Wb),hn.Ya[_n]}function co(hn,_n,Nn,jn){var Vn=hn.ab,Jn=hn.c*_n,Zn=hn.C;_n=Zn+_n;var rr=Nn,sr=jn;for(jn=hn.Ta,Nn=hn.Ua;0<Vn--;){var mr=hn.gc[Vn],Tr=Zn,Ur=_n,Dr=rr,Mr=sr,_i=(sr=jn,rr=Nn,mr.Ea);switch(e(Tr<Ur),e(Ur<=mr.nc),mr.hc){case 2:b1(Dr,Mr,(Ur-Tr)*_i,sr,rr);break;case 0:var Hr=Tr,kr=Ur,Rr=sr,Or=rr,es=(hs=mr).Ea;Hr==0&&(Qp(Dr,Mr,null,null,1,Rr,Or),Jr(Dr,Mr+1,0,0,es-1,Rr,Or+1),Mr+=es,Or+=es,++Hr);for(var Zr=1<<hs.b,ps=Zr-1,cs=cr(es,hs.b),Cs=hs.K,hs=hs.w+(Hr>>hs.b)*cs;Hr<kr;){var Xs=Cs,Js=hs,Ws=1;for(Jp(Dr,Mr,Rr,Or-es,1,Rr,Or);Ws<es;){var Hs=(Ws&~ps)+Zr;Hs>es&&(Hs=es),(0,Vu[Xs[Js++]>>8&15])(Dr,Mr+ +Ws,Rr,Or+Ws-es,Hs-Ws,Rr,Or+Ws),Ws=Hs}Mr+=es,Or+=es,++Hr&ps||(hs+=cs)}Ur!=mr.nc&&en(sr,rr-_i,sr,rr+(Ur-Tr-1)*_i,_i);break;case 1:for(_i=Dr,kr=Mr,es=(Dr=mr.Ea)-(Or=Dr&~(Rr=(Mr=1<<mr.b)-1)),Hr=cr(Dr,mr.b),Zr=mr.K,mr=mr.w+(Tr>>mr.b)*Hr;Tr<Ur;){for(ps=Zr,cs=mr,Cs=new Fr,hs=kr+Or,Xs=kr+Dr;kr<hs;)Er(ps[cs++],Cs),Jl(Cs,_i,kr,Mr,sr,rr),kr+=Mr,rr+=Mr;kr<Xs&&(Er(ps[cs++],Cs),Jl(Cs,_i,kr,es,sr,rr),kr+=es,rr+=es),++Tr&Rr||(mr+=Hr)}break;case 3:if(Dr==sr&&Mr==rr&&0<mr.b){for(kr=sr,Dr=_i=rr+(Ur-Tr)*_i-(Or=(Ur-Tr)*cr(mr.Ea,mr.b)),Mr=sr,Rr=rr,Hr=[],Or=(es=Or)-1;0<=Or;--Or)Hr[Or]=Mr[Rr+Or];for(Or=es-1;0<=Or;--Or)kr[Dr+Or]=Hr[Or];ou(mr,Tr,Ur,sr,_i,sr,rr)}else ou(mr,Tr,Ur,Dr,Mr,sr,rr)}rr=jn,sr=Nn}sr!=Nn&&en(jn,Nn,rr,sr,Jn)}function eo(hn,_n){var Nn=hn.V,jn=hn.Ba+hn.c*hn.C,Vn=_n-hn.C;if(e(_n<=hn.l.o),e(16>=Vn),0<Vn){var Jn=hn.l,Zn=hn.Ta,rr=hn.Ua,sr=Jn.width;if(co(hn,Vn,Nn,jn),Vn=rr=[rr],e((Nn=hn.C)<(jn=_n)),e(Jn.v<Jn.va),jn>Jn.o&&(jn=Jn.o),Nn<Jn.j){var mr=Jn.j-Nn;Nn=Jn.j,Vn[0]+=mr*sr}if(Nn>=jn?Nn=0:(Vn[0]+=4*Jn.v,Jn.ka=Nn-Jn.j,Jn.U=Jn.va-Jn.v,Jn.T=jn-Nn,Nn=1),Nn){if(rr=rr[0],11>(Nn=hn.ca).S){var Tr=Nn.f.RGBA,Ur=(jn=Nn.S,Vn=Jn.U,Jn=Jn.T,mr=Tr.eb,Tr.A),Dr=Jn;for(Tr=Tr.fb+hn.Ma*Tr.A;0<Dr--;){var Mr=Zn,_i=rr,Hr=Vn,kr=mr,Rr=Tr;switch(jn){case x1:Qo(Mr,_i,Hr,kr,Rr);break;case C1:Wu(Mr,_i,Hr,kr,Rr);break;case Y1:Wu(Mr,_i,Hr,kr,Rr),uu(kr,Rr,0,Hr,1,0);break;case _0:Lu(Mr,_i,Hr,kr,Rr);break;case E1:io(Mr,_i,Hr,kr,Rr,1);break;case i1:io(Mr,_i,Hr,kr,Rr,1),uu(kr,Rr,0,Hr,1,0);break;case k1:io(Mr,_i,Hr,kr,Rr,0);break;case kp:io(Mr,_i,Hr,kr,Rr,0),uu(kr,Rr,1,Hr,1,0);break;case X1:Ol(Mr,_i,Hr,kr,Rr);break;case K1:Ol(Mr,_i,Hr,kr,Rr),e1(kr,Rr,Hr,1,0);break;case r1:Lo(Mr,_i,Hr,kr,Rr);break;default:e(0)}rr+=sr,Tr+=Ur}hn.Ma+=Jn}else alert("todo:EmitRescaledRowsYUVA");e(hn.Ma<=Nn.height)}}hn.C=_n,e(hn.C<=hn.i)}function Po(hn){var _n;if(0<hn.ua)return 0;for(_n=0;_n<hn.Wb;++_n){var Nn=hn.Ya[_n].G,jn=hn.Ya[_n].H;if(0<Nn[1][jn[1]+0].g||0<Nn[2][jn[2]+0].g||0<Nn[3][jn[3]+0].g)return 0}return 1}function No(hn,_n,Nn,jn,Vn,Jn){if(hn.Z!=0){var Zn=hn.qd,rr=hn.rd;for(e(up[hn.Z]!=null);_n<Nn;++_n)up[hn.Z](Zn,rr,jn,Vn,jn,Vn,Jn),Zn=jn,rr=Vn,Vn+=Jn;hn.qd=Zn,hn.rd=rr}}function $o(hn,_n){var Nn=hn.l.ma,jn=Nn.Z==0||Nn.Z==1?hn.l.j:hn.C;if(jn=hn.C<jn?jn:hn.C,e(_n<=hn.l.o),_n>jn){var Vn=hn.l.width,Jn=Nn.ca,Zn=Nn.tb+Vn*jn,rr=hn.V,sr=hn.Ba+hn.c*jn,mr=hn.gc;e(hn.ab==1),e(mr[0].hc==3),Cp(mr[0],jn,_n,rr,sr,Jn,Zn),No(Nn,jn,_n,Jn,Zn,Vn)}hn.C=hn.Ma=_n}function Tl(hn,_n,Nn,jn,Vn,Jn,Zn){var rr=hn.$/jn,sr=hn.$%jn,mr=hn.m,Tr=hn.s,Ur=Nn+hn.$,Dr=Ur;Vn=Nn+jn*Vn;var Mr=Nn+jn*Jn,_i=280+Tr.ua,Hr=hn.Pb?rr:16777216,kr=0<Tr.ua?Tr.Wa:null,Rr=Tr.wc,Or=Ur<Mr?Ks(Tr,sr,rr):null;e(hn.C<Jn),e(Mr<=Vn);var es=!1;e:for(;;){for(;es||Ur<Mr;){var Zr=0;if(rr>=Hr){var ps=Ur-Nn;e((Hr=hn).Pb),Hr.wd=Hr.m,Hr.xd=ps,0<Hr.s.ua&&qn(Hr.s.Wa,Hr.s.vb),Hr=rr+G0}if(sr&Rr||(Or=Ks(Tr,sr,rr)),e(Or!=null),Or.Qb&&(_n[Ur]=Or.qb,es=!0),!es)if(Hn(mr),Or.jc){Zr=mr,ps=_n;var cs=Ur,Cs=Or.pd[Rn(Zr)&qo-1];e(Or.jc),256>Cs.g?(Bn(Zr,Zr.u+Cs.g),ps[cs]=Cs.value,Zr=0):(Bn(Zr,Zr.u+Cs.g-256),e(256<=Cs.value),Zr=Cs.value),Zr==0&&(es=!0)}else Zr=Ys(Or.G[0],Or.H[0],mr);if(mr.h)break;if(es||256>Zr){if(!es)if(Or.nd)_n[Ur]=(Or.qb|Zr<<8)>>>0;else{if(Hn(mr),es=Ys(Or.G[1],Or.H[1],mr),Hn(mr),ps=Ys(Or.G[2],Or.H[2],mr),cs=Ys(Or.G[3],Or.H[3],mr),mr.h)break;_n[Ur]=(cs<<24|es<<16|Zr<<8|ps)>>>0}if(es=!1,++Ur,++sr>=jn&&(sr=0,++rr,Zn!=null&&rr<=Jn&&!(rr%16)&&Zn(hn,rr),kr!=null))for(;Dr<Ur;)Zr=_n[Dr++],kr.X[(506832829*Zr&4294967295)>>>kr.Mb]=Zr}else if(280>Zr){if(Zr=Os(Zr-256,mr),ps=Ys(Or.G[4],Or.H[4],mr),Hn(mr),ps=so(jn,ps=Os(ps,mr)),mr.h)break;if(Ur-Nn<ps||Vn-Ur<Zr)break e;for(cs=0;cs<Zr;++cs)_n[Ur+cs]=_n[Ur+cs-ps];for(Ur+=Zr,sr+=Zr;sr>=jn;)sr-=jn,++rr,Zn!=null&&rr<=Jn&&!(rr%16)&&Zn(hn,rr);if(e(Ur<=Vn),sr&Rr&&(Or=Ks(Tr,sr,rr)),kr!=null)for(;Dr<Ur;)Zr=_n[Dr++],kr.X[(506832829*Zr&4294967295)>>>kr.Mb]=Zr}else{if(!(Zr<_i))break e;for(es=Zr-280,e(kr!=null);Dr<Ur;)Zr=_n[Dr++],kr.X[(506832829*Zr&4294967295)>>>kr.Mb]=Zr;Zr=Ur,e(!(es>>>(ps=kr).Xa)),_n[Zr]=ps.X[es],es=!0}es||e(mr.h==Tn(mr))}if(hn.Pb&&mr.h&&Ur<Vn)e(hn.m.h),hn.a=5,hn.m=hn.wd,hn.$=hn.xd,0<hn.s.ua&&qn(hn.s.vb,hn.s.Wa);else{if(mr.h)break e;Zn!=null&&Zn(hn,rr>Jn?Jn:rr),hn.a=0,hn.$=Ur-Nn}return 1}return hn.a=3,0}function xu(hn){e(hn!=null),hn.vc=null,hn.yc=null,hn.Ya=null;var _n=hn.Wa;_n!=null&&(_n.X=null),hn.vb=null,e(hn!=null)}function su(){var hn=new Yl;return hn==null?null:(hn.a=0,hn.xb=Z1,yr("Predictor","VP8LPredictors"),yr("Predictor","VP8LPredictors_C"),yr("PredictorAdd","VP8LPredictorsAdd"),yr("PredictorAdd","VP8LPredictorsAdd_C"),b1=ns,Jl=zr,Qo=Qr,Wu=ks,Ol=ys,Lo=ws,Lu=Bs,On.VP8LMapColor32b=xp,On.VP8LMapColor8b=Zp,hn)}function Cu(hn,_n,Nn,jn,Vn){var Jn=1,Zn=[hn],rr=[_n],sr=jn.m,mr=jn.s,Tr=null,Ur=0;e:for(;;){if(Nn)for(;Jn&&pr(sr,1);){var Dr=Zn,Mr=rr,_i=jn,Hr=1,kr=_i.m,Rr=_i.gc[_i.ab],Or=pr(kr,2);if(_i.Oc&1<<Or)Jn=0;else{switch(_i.Oc|=1<<Or,Rr.hc=Or,Rr.Ea=Dr[0],Rr.nc=Mr[0],Rr.K=[null],++_i.ab,e(4>=_i.ab),Or){case 0:case 1:Rr.b=pr(kr,3)+2,Hr=Cu(cr(Rr.Ea,Rr.b),cr(Rr.nc,Rr.b),0,_i,Rr.K),Rr.K=Rr.K[0];break;case 3:var es,Zr=pr(kr,8)+1,ps=16<Zr?0:4<Zr?1:2<Zr?2:3;if(Dr[0]=cr(Rr.Ea,ps),Rr.b=ps,es=Hr=Cu(Zr,1,0,_i,Rr.K)){var cs,Cs=Zr,hs=Rr,Xs=1<<(8>>hs.b),Js=nn(Xs);if(Js==null)es=0;else{var Ws=hs.K[0],Hs=hs.w;for(Js[0]=hs.K[0][0],cs=1;cs<1*Cs;++cs)Js[cs]=hr(Ws[Hs+cs],Js[cs-1]);for(;cs<4*Xs;++cs)Js[cs]=0;hs.K[0]=null,hs.K[0]=Js,es=1}}Hr=es;break;case 2:break;default:e(0)}Jn=Hr}}if(Zn=Zn[0],rr=rr[0],Jn&&pr(sr,1)&&!(Jn=1<=(Ur=pr(sr,4))&&11>=Ur)){jn.a=3;break e}var $a;if($a=Jn)t:{var Zs,As,na,go=jn,bo=Zn,El=rr,$s=Ur,Ul=Nn,Ao=go.m,Bo=go.s,Uo=[null],Zo=1,iu=0,wu=z0[$s];n:for(;;){if(Ul&&pr(Ao,1)){var Co=pr(Ao,3)+2,cu=cr(bo,Co),Fu=cr(El,Co),Ku=cu*Fu;if(!Cu(cu,Fu,0,go,Uo))break n;for(Uo=Uo[0],Bo.xc=Co,Zs=0;Zs<Ku;++Zs){var bu=Uo[Zs]>>8&65535;Uo[Zs]=bu,bu>=Zo&&(Zo=bu+1)}}if(Ao.h)break n;for(As=0;5>As;++As){var ao=w0[As];!As&&0<$s&&(ao+=1<<$s),iu<ao&&(iu=ao)}var T1=rn(Zo*wu,Gn),n0=Zo,r0=rn(n0,Qn);if(r0==null)var L1=null;else e(65536>=n0),L1=r0;var Np=nn(iu);if(L1==null||Np==null||T1==null){go.a=1;break n}var i0=T1;for(Zs=na=0;Zs<Zo;++Zs){var $l=L1[Zs],cp=$l.G,oo=$l.H,zs=0,Eo=1,ko=0;for(As=0;5>As;++As){ao=w0[As],cp[As]=i0,oo[As]=na,!As&&0<$s&&(ao+=1<<$s);i:{var Ro,Pl=ao,Qu=go,mo=Np,R1=i0,Tp=na,o1=0,Mu=Qu.m,F1=pr(Mu,1);if(tn(mo,0,0,Pl),F1){var zl=pr(Mu,1)+1,M0=pr(Mu,1),s0=pr(Mu,M0==0?1:8);mo[s0]=1,zl==2&&(mo[s0=pr(Mu,8)]=1);var hu=1}else{var Lp=nn(19),M1=pr(Mu,4)+4;if(19<M1){Qu.a=3;var l1=0;break i}for(Ro=0;Ro<M1;++Ro)Lp[$0[Ro]]=pr(Mu,3);var Ou=void 0,hp=void 0,Ju=Qu,a0=Lp,dp=Pl,o0=mo,u1=0,Au=Ju.m,Ho=8,Zu=rn(128,Gn);r:for(;Mn(Zu,0,7,a0,19);){if(pr(Au,1)){var du=2+2*pr(Au,3);if((Ou=2+pr(Au,du))>dp)break r}else Ou=dp;for(hp=0;hp<dp&&Ou--;){Hn(Au);var Nl=Zu[0+(127&Rn(Au))];Bn(Au,Au.u+Nl.g);var Rp=Nl.value;if(16>Rp)o0[hp++]=Rp,Rp!=0&&(Ho=Rp);else{var O0=Rp==16,l0=Rp-16,fm=B0[l0],_c=pr(Au,S0[l0])+fm;if(hp+_c>dp)break r;for(var Z0=O0?Ho:0;0<_c--;)o0[hp++]=Z0}}u1=1;break r}u1||(Ju.a=3),hu=u1}(hu=hu&&!Mu.h)&&(o1=Mn(R1,Tp,8,mo,Pl)),hu&&o1!=0?l1=o1:(Qu.a=3,l1=0)}if(l1==0)break n;if(Eo&&U0[As]==1&&(Eo=i0[na].g==0),zs+=i0[na].g,na+=l1,3>=As){var c1,O1=Np[0];for(c1=1;c1<ao;++c1)Np[c1]>O1&&(O1=Np[c1]);ko+=O1}}if($l.nd=Eo,$l.Qb=0,Eo&&($l.qb=(cp[3][oo[3]+0].value<<24|cp[1][oo[1]+0].value<<16|cp[2][oo[2]+0].value)>>>0,zs==0&&256>cp[0][oo[0]+0].value&&($l.Qb=1,$l.qb+=cp[0][oo[0]+0].value<<8)),$l.jc=!$l.Qb&&6>ko,$l.jc){var Iu,Du=$l;for(Iu=0;Iu<qo;++Iu){var _h=Iu,ju=Du.pd[_h],Fp=Du.G[0][Du.H[0]+_h];256<=Fp.value?(ju.g=Fp.g+256,ju.value=Fp.value):(ju.g=0,ju.value=0,_h>>=js(Fp,8,ju),_h>>=js(Du.G[1][Du.H[1]+_h],16,ju),_h>>=js(Du.G[2][Du.H[2]+_h],0,ju),js(Du.G[3][Du.H[3]+_h],24,ju))}}}Bo.vc=Uo,Bo.Wb=Zo,Bo.Ya=L1,Bo.yc=T1,$a=1;break t}$a=0}if(!(Jn=$a)){jn.a=3;break e}if(0<Ur){if(mr.ua=1<<Ur,!Un(mr.Wa,Ur)){jn.a=1,Jn=0;break e}}else mr.ua=0;var I0=jn,em=Zn,tm=rr,u0=I0.s,_d=u0.xc;if(I0.c=em,I0.i=tm,u0.md=cr(em,_d),u0.wc=_d==0?-1:(1<<_d)-1,Nn){jn.xb=C0;break e}if((Tr=nn(Zn*rr))==null){jn.a=1,Jn=0;break e}Jn=(Jn=Tl(jn,Tr,0,Zn,rr,rr,null))&&!sr.h;break e}return Jn?(Vn!=null?Vn[0]=Tr:(e(Tr==null),e(Nn)),jn.$=0,Nn||xu(mr)):xu(mr),Jn}function pp(hn,_n){var Nn=hn.c*hn.i,jn=Nn+_n+16*_n;return e(hn.c<=_n),hn.V=nn(jn),hn.V==null?(hn.Ta=null,hn.Ua=0,hn.a=1,0):(hn.Ta=hn.V,hn.Ua=hn.Ba+Nn+_n,1)}function Op(hn,_n){var Nn=hn.C,jn=_n-Nn,Vn=hn.V,Jn=hn.Ba+hn.c*Nn;for(e(_n<=hn.l.o);0<jn;){var Zn=16<jn?16:jn,rr=hn.l.ma,sr=hn.l.width,mr=sr*Zn,Tr=rr.ca,Ur=rr.tb+sr*Nn,Dr=hn.Ta,Mr=hn.Ua;co(hn,Zn,Vn,Jn),H1(Dr,Mr,Tr,Ur,mr),No(rr,Nn,Nn+Zn,Tr,Ur,sr),jn-=Zn,Vn+=Zn*hn.c,Nn+=Zn}e(Nn==_n),hn.C=hn.Ma=_n}function Ip(){this.ub=this.yd=this.td=this.Rb=0}function Dp(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function jp(){this.Fb=this.Bb=this.Cb=0,this.Zb=nn(4),this.Lb=nn(4)}function j1(){this.Yb=function(){var hn=[];return function _n(Nn,jn,Vn){for(var Jn=Vn[jn],Zn=0;Zn<Jn&&(Nn.push(Vn.length>jn+1?[]:0),!(Vn.length<jn+1));Zn++)_n(Nn[Zn],jn+1,Vn)}(hn,0,[3,11]),hn}()}function d0(){this.jb=nn(3),this.Wc=on([4,8],j1),this.Xc=on([4,17],j1)}function f1(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new nn(4),this.od=new nn(4)}function Eu(){this.ld=this.La=this.dd=this.tc=0}function Bp(){this.Na=this.la=0}function p1(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function g1(){this.ad=nn(384),this.Za=0,this.Ob=nn(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function m1(){this.uc=this.M=this.Nb=0,this.wa=Array(new Eu),this.Y=0,this.ya=Array(new g1),this.aa=0,this.l=new Qs}function $u(){this.y=nn(16),this.f=nn(8),this.ea=nn(8)}function ku(){this.cb=this.a=0,this.sc="",this.m=new Lr,this.Od=new Ip,this.Kc=new Dp,this.ed=new f1,this.Qa=new jp,this.Ic=this.$c=this.Aa=0,this.D=new m1,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=rn(8,Lr),this.ia=0,this.pb=rn(4,p1),this.Pa=new d0,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new $u),this.Hd=0,this.rb=Array(new Bp),this.sb=0,this.wa=Array(new Eu),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new g1),this.L=this.aa=0,this.gd=on([4,2],Eu),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Qs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function to(){var hn=new ku;return hn!=null&&(hn.a=0,hn.sc="OK",hn.cb=0,hn.Xb=0,s1||(s1=Pu)),hn}function no(hn,_n,Nn){return hn.a==0&&(hn.a=_n,hn.sc=Nn,hn.cb=0),0}function Mo(hn,_n,Nn){return 3<=Nn&&hn[_n+0]==157&&hn[_n+1]==1&&hn[_n+2]==42}function zo(hn,_n){if(hn==null)return 0;if(hn.a=0,hn.sc="OK",_n==null)return no(hn,2,"null VP8Io passed to VP8GetHeaders()");var Nn=_n.data,jn=_n.w,Vn=_n.ha;if(4>Vn)return no(hn,7,"Truncated header.");var Jn=Nn[jn+0]|Nn[jn+1]<<8|Nn[jn+2]<<16,Zn=hn.Od;if(Zn.Rb=!(1&Jn),Zn.td=Jn>>1&7,Zn.yd=Jn>>4&1,Zn.ub=Jn>>5,3<Zn.td)return no(hn,3,"Incorrect keyframe parameters.");if(!Zn.yd)return no(hn,4,"Frame not displayable.");jn+=3,Vn-=3;var rr=hn.Kc;if(Zn.Rb){if(7>Vn)return no(hn,7,"cannot parse picture header");if(!Mo(Nn,jn,Vn))return no(hn,3,"Bad code word");rr.c=16383&(Nn[jn+4]<<8|Nn[jn+3]),rr.Td=Nn[jn+4]>>6,rr.i=16383&(Nn[jn+6]<<8|Nn[jn+5]),rr.Ud=Nn[jn+6]>>6,jn+=7,Vn-=7,hn.za=rr.c+15>>4,hn.Ub=rr.i+15>>4,_n.width=rr.c,_n.height=rr.i,_n.Da=0,_n.j=0,_n.v=0,_n.va=_n.width,_n.o=_n.height,_n.da=0,_n.ib=_n.width,_n.hb=_n.height,_n.U=_n.width,_n.T=_n.height,tn((Jn=hn.Pa).jb,0,255,Jn.jb.length),e((Jn=hn.Qa)!=null),Jn.Cb=0,Jn.Bb=0,Jn.Fb=1,tn(Jn.Zb,0,0,Jn.Zb.length),tn(Jn.Lb,0,0,Jn.Lb)}if(Zn.ub>Vn)return no(hn,7,"bad partition length");ar(Jn=hn.m,Nn,jn,Zn.ub),jn+=Zn.ub,Vn-=Zn.ub,Zn.Rb&&(rr.Ld=nr(Jn),rr.Kd=nr(Jn)),rr=hn.Qa;var sr,mr=hn.Pa;if(e(Jn!=null),e(rr!=null),rr.Cb=nr(Jn),rr.Cb){if(rr.Bb=nr(Jn),nr(Jn)){for(rr.Fb=nr(Jn),sr=0;4>sr;++sr)rr.Zb[sr]=nr(Jn)?or(Jn,7):0;for(sr=0;4>sr;++sr)rr.Lb[sr]=nr(Jn)?or(Jn,6):0}if(rr.Bb)for(sr=0;3>sr;++sr)mr.jb[sr]=nr(Jn)?tr(Jn,8):255}else rr.Bb=0;if(Jn.Ka)return no(hn,3,"cannot parse segment header");if((rr=hn.ed).zd=nr(Jn),rr.Tb=tr(Jn,6),rr.wb=tr(Jn,3),rr.Pc=nr(Jn),rr.Pc&&nr(Jn)){for(mr=0;4>mr;++mr)nr(Jn)&&(rr.vd[mr]=or(Jn,6));for(mr=0;4>mr;++mr)nr(Jn)&&(rr.od[mr]=or(Jn,6))}if(hn.L=rr.Tb==0?0:rr.zd?1:2,Jn.Ka)return no(hn,3,"cannot parse filter header");var Tr=Vn;if(Vn=sr=jn,jn=sr+Tr,rr=Tr,hn.Xb=(1<<tr(hn.m,2))-1,Tr<3*(mr=hn.Xb))Nn=7;else{for(sr+=3*mr,rr-=3*mr,Tr=0;Tr<mr;++Tr){var Ur=Nn[Vn+0]|Nn[Vn+1]<<8|Nn[Vn+2]<<16;Ur>rr&&(Ur=rr),ar(hn.Jc[+Tr],Nn,sr,Ur),sr+=Ur,rr-=Ur,Vn+=3}ar(hn.Jc[+mr],Nn,sr,rr),Nn=sr<jn?0:5}if(Nn!=0)return no(hn,Nn,"cannot parse partitions");for(Nn=tr(sr=hn.m,7),Vn=nr(sr)?or(sr,4):0,jn=nr(sr)?or(sr,4):0,rr=nr(sr)?or(sr,4):0,mr=nr(sr)?or(sr,4):0,sr=nr(sr)?or(sr,4):0,Tr=hn.Qa,Ur=0;4>Ur;++Ur){if(Tr.Cb){var Dr=Tr.Zb[Ur];Tr.Fb||(Dr+=Nn)}else{if(0<Ur){hn.pb[Ur]=hn.pb[0];continue}Dr=Nn}var Mr=hn.pb[Ur];Mr.Sc[0]=Q1[Oo(Dr+Vn,127)],Mr.Sc[1]=A0[Oo(Dr+0,127)],Mr.Eb[0]=2*Q1[Oo(Dr+jn,127)],Mr.Eb[1]=101581*A0[Oo(Dr+rr,127)]>>16,8>Mr.Eb[1]&&(Mr.Eb[1]=8),Mr.Qc[0]=Q1[Oo(Dr+mr,117)],Mr.Qc[1]=A0[Oo(Dr+sr,127)],Mr.lc=Dr+sr}if(!Zn.Rb)return no(hn,4,"Not a key frame.");for(nr(Jn),Zn=hn.Pa,Nn=0;4>Nn;++Nn){for(Vn=0;8>Vn;++Vn)for(jn=0;3>jn;++jn)for(rr=0;11>rr;++rr)mr=ir(Jn,J1[Nn][Vn][jn][rr])?tr(Jn,8):q0[Nn][Vn][jn][rr],Zn.Wc[Nn][Vn].Yb[jn][rr]=mr;for(Vn=0;17>Vn;++Vn)Zn.Xc[Nn][Vn]=Zn.Wc[Nn][hm[Vn]]}return hn.kc=nr(Jn),hn.kc&&(hn.Bd=tr(Jn,8)),hn.cb=1}function Pu(hn,_n,Nn,jn,Vn,Jn,Zn){var rr=_n[Vn].Yb[Nn];for(Nn=0;16>Vn;++Vn){if(!ir(hn,rr[Nn+0]))return Vn;for(;!ir(hn,rr[Nn+1]);)if(rr=_n[++Vn].Yb[0],Nn=0,Vn==16)return 16;var sr=_n[Vn+1].Yb;if(ir(hn,rr[Nn+2])){var mr=hn,Tr=0;if(ir(mr,(Dr=rr)[(Ur=Nn)+3]))if(ir(mr,Dr[Ur+6])){for(rr=0,Ur=2*(Tr=ir(mr,Dr[Ur+8]))+(Dr=ir(mr,Dr[Ur+9+Tr])),Tr=0,Dr=um[Ur];Dr[rr];++rr)Tr+=Tr+ir(mr,Dr[rr]);Tr+=3+(8<<Ur)}else ir(mr,Dr[Ur+7])?(Tr=7+2*ir(mr,165),Tr+=ir(mr,145)):Tr=5+ir(mr,159);else Tr=ir(mr,Dr[Ur+4])?3+ir(mr,Dr[Ur+5]):2;rr=sr[2]}else Tr=1,rr=sr[1];sr=Zn+cm[Vn],0>(mr=hn).b&&Kn(mr);var Ur,Dr=mr.b,Mr=(Ur=mr.Ca>>1)-(mr.I>>Dr)>>31;--mr.b,mr.Ca+=Mr,mr.Ca|=1,mr.I-=(Ur+1&Mr)<<Dr,Jn[sr]=((Tr^Mr)-Mr)*jn[(0<Vn)+0]}return 16}function Nu(hn){var _n=hn.rb[hn.sb-1];_n.la=0,_n.Na=0,tn(hn.zc,0,0,hn.zc.length),hn.ja=0}function Vo(hn,_n){if(hn==null)return 0;if(_n==null)return no(hn,2,"NULL VP8Io parameter in VP8Decode().");if(!hn.cb&&!zo(hn,_n))return 0;if(e(hn.cb),_n.ac==null||_n.ac(_n)){_n.ob&&(hn.L=0);var Nn=Pp[hn.L];if(hn.L==2?(hn.yb=0,hn.zb=0):(hn.yb=_n.v-Nn>>4,hn.zb=_n.j-Nn>>4,0>hn.yb&&(hn.yb=0),0>hn.zb&&(hn.zb=0)),hn.Va=_n.o+15+Nn>>4,hn.Hb=_n.va+15+Nn>>4,hn.Hb>hn.za&&(hn.Hb=hn.za),hn.Va>hn.Ub&&(hn.Va=hn.Ub),0<hn.L){var jn=hn.ed;for(Nn=0;4>Nn;++Nn){var Vn;if(hn.Qa.Cb){var Jn=hn.Qa.Lb[Nn];hn.Qa.Fb||(Jn+=jn.Tb)}else Jn=jn.Tb;for(Vn=0;1>=Vn;++Vn){var Zn=hn.gd[Nn][Vn],rr=Jn;if(jn.Pc&&(rr+=jn.vd[0],Vn&&(rr+=jn.od[0])),0<(rr=0>rr?0:63<rr?63:rr)){var sr=rr;0<jn.wb&&(sr=4<jn.wb?sr>>2:sr>>1)>9-jn.wb&&(sr=9-jn.wb),1>sr&&(sr=1),Zn.dd=sr,Zn.tc=2*rr+sr,Zn.ld=40<=rr?2:15<=rr?1:0}else Zn.tc=0;Zn.La=Vn}}}Nn=0}else no(hn,6,"Frame setup failed"),Nn=hn.a;if(Nn=Nn==0){if(Nn){hn.$c=0,0<hn.Aa||(hn.Ic=J0);e:{Nn=hn.Ic,jn=4*(sr=hn.za);var mr=32*sr,Tr=sr+1,Ur=0<hn.L?sr*(0<hn.Aa?2:1):0,Dr=(hn.Aa==2?2:1)*sr;if((Zn=jn+832+(Vn=3*(16*Nn+Pp[hn.L])/2*mr)+(Jn=hn.Fa!=null&&0<hn.Fa.length?hn.Kc.c*hn.Kc.i:0))!=Zn)Nn=0;else{if(Zn>hn.Vb){if(hn.Vb=0,hn.Ec=nn(Zn),hn.Fc=0,hn.Ec==null){Nn=no(hn,1,"no memory during frame initialization.");break e}hn.Vb=Zn}Zn=hn.Ec,rr=hn.Fc,hn.Ac=Zn,hn.Bc=rr,rr+=jn,hn.Gd=rn(mr,$u),hn.Hd=0,hn.rb=rn(Tr+1,Bp),hn.sb=1,hn.wa=Ur?rn(Ur,Eu):null,hn.Y=0,hn.D.Nb=0,hn.D.wa=hn.wa,hn.D.Y=hn.Y,0<hn.Aa&&(hn.D.Y+=sr),e(!0),hn.oc=Zn,hn.pc=rr,rr+=832,hn.ya=rn(Dr,g1),hn.aa=0,hn.D.ya=hn.ya,hn.D.aa=hn.aa,hn.Aa==2&&(hn.D.aa+=sr),hn.R=16*sr,hn.B=8*sr,sr=(mr=Pp[hn.L])*hn.R,mr=mr/2*hn.B,hn.sa=Zn,hn.ta=rr+sr,hn.qa=hn.sa,hn.ra=hn.ta+16*Nn*hn.R+mr,hn.Ha=hn.qa,hn.Ia=hn.ra+8*Nn*hn.B+mr,hn.$c=0,rr+=Vn,hn.mb=Jn?Zn:null,hn.nb=Jn?rr:null,e(rr+Jn<=hn.Fc+hn.Vb),Nu(hn),tn(hn.Ac,hn.Bc,0,jn),Nn=1}}if(Nn){if(_n.ka=0,_n.y=hn.sa,_n.O=hn.ta,_n.f=hn.qa,_n.N=hn.ra,_n.ea=hn.Ha,_n.Vd=hn.Ia,_n.fa=hn.R,_n.Rc=hn.B,_n.F=null,_n.J=0,!t1){for(Nn=-255;255>=Nn;++Nn)V1[255+Nn]=0>Nn?-Nn:Nn;for(Nn=-1020;1020>=Nn;++Nn)W1[1020+Nn]=-128>Nn?-128:127<Nn?127:Nn;for(Nn=-112;112>=Nn;++Nn)_u[112+Nn]=-16>Nn?-16:15<Nn?15:Nn;for(Nn=-255;510>=Nn;++Nn)tu[255+Nn]=0>Nn?0:255<Nn?255:Nn;t1=1}Jo=Up,Sl=Gl,Zl=B1,lu=f0,yu=U1,Ep=v1,xa=Xo,Xu=Xl,Yu=qu,Ru=Vp,op=mu,Il=Fl,Al=_p,Ts=Wp,Fs=Vl,Gs=Rl,wo=Wl,eu=Hp,Su[0]=pu,Su[1]=mp,Su[2]=$1,Su[3]=y1,Su[4]=z1,Su[5]=ho,Su[6]=G1,Su[7]=yp,Su[8]=_1,Su[9]=m0,lp[0]=zp,lp[1]=p0,lp[2]=zu,lp[3]=tp,lp[4]=To,lp[5]=g0,lp[6]=Gp,Bl[0]=rp,Bl[1]=$p,Bl[2]=v0,Bl[3]=np,Bl[4]=Go,Bl[5]=y0,Bl[6]=Hl,Nn=1}else Nn=0}Nn&&(Nn=function(Mr,_i){for(Mr.M=0;Mr.M<Mr.Va;++Mr.M){var Hr,kr=Mr.Jc[Mr.M&Mr.Xb],Rr=Mr.m,Or=Mr;for(Hr=0;Hr<Or.za;++Hr){var es=Rr,Zr=Or,ps=Zr.Ac,cs=Zr.Bc+4*Hr,Cs=Zr.zc,hs=Zr.ya[Zr.aa+Hr];if(Zr.Qa.Bb?hs.$b=ir(es,Zr.Pa.jb[0])?2+ir(es,Zr.Pa.jb[2]):ir(es,Zr.Pa.jb[1]):hs.$b=0,Zr.kc&&(hs.Ad=ir(es,Zr.Bd)),hs.Za=!ir(es,145)+0,hs.Za){var Xs=hs.Ob,Js=0;for(Zr=0;4>Zr;++Zr){var Ws,Hs=Cs[0+Zr];for(Ws=0;4>Ws;++Ws){Hs=H0[ps[cs+Ws]][Hs];for(var $a=x0[ir(es,Hs[0])];0<$a;)$a=x0[2*$a+ir(es,Hs[$a])];Hs=-$a,ps[cs+Ws]=Hs}en(Xs,Js,ps,cs,4),Js+=4,Cs[0+Zr]=Hs}}else Hs=ir(es,156)?ir(es,128)?1:3:ir(es,163)?2:0,hs.Ob[0]=Hs,tn(ps,cs,Hs,4),tn(Cs,0,Hs,4);hs.Dd=ir(es,142)?ir(es,114)?ir(es,183)?1:3:2:0}if(Or.m.Ka)return no(Mr,7,"Premature end-of-partition0 encountered.");for(;Mr.ja<Mr.za;++Mr.ja){if(Or=kr,es=(Rr=Mr).rb[Rr.sb-1],ps=Rr.rb[Rr.sb+Rr.ja],Hr=Rr.ya[Rr.aa+Rr.ja],cs=Rr.kc?Hr.Ad:0)es.la=ps.la=0,Hr.Za||(es.Na=ps.Na=0),Hr.Hc=0,Hr.Gc=0,Hr.ia=0;else{var Zs,As;if(es=ps,ps=Or,cs=Rr.Pa.Xc,Cs=Rr.ya[Rr.aa+Rr.ja],hs=Rr.pb[Cs.$b],Zr=Cs.ad,Xs=0,Js=Rr.rb[Rr.sb-1],Hs=Ws=0,tn(Zr,Xs,0,384),Cs.Za)var na=0,go=cs[3];else{$a=nn(16);var bo=es.Na+Js.Na;if(bo=s1(ps,cs[1],bo,hs.Eb,0,$a,0),es.Na=Js.Na=(0<bo)+0,1<bo)Jo($a,0,Zr,Xs);else{var El=$a[0]+3>>3;for($a=0;256>$a;$a+=16)Zr[Xs+$a]=El}na=1,go=cs[0]}var $s=15&es.la,Ul=15&Js.la;for($a=0;4>$a;++$a){var Ao=1&Ul;for(El=As=0;4>El;++El)$s=$s>>1|(Ao=(bo=s1(ps,go,bo=Ao+(1&$s),hs.Sc,na,Zr,Xs))>na)<<7,As=As<<2|(3<bo?3:1<bo?2:Zr[Xs+0]!=0),Xs+=16;$s>>=4,Ul=Ul>>1|Ao<<7,Ws=(Ws<<8|As)>>>0}for(go=$s,na=Ul>>4,Zs=0;4>Zs;Zs+=2){for(As=0,$s=es.la>>4+Zs,Ul=Js.la>>4+Zs,$a=0;2>$a;++$a){for(Ao=1&Ul,El=0;2>El;++El)bo=Ao+(1&$s),$s=$s>>1|(Ao=0<(bo=s1(ps,cs[2],bo,hs.Qc,0,Zr,Xs)))<<3,As=As<<2|(3<bo?3:1<bo?2:Zr[Xs+0]!=0),Xs+=16;$s>>=2,Ul=Ul>>1|Ao<<5}Hs|=As<<4*Zs,go|=$s<<4<<Zs,na|=(240&Ul)<<Zs}es.la=go,Js.la=na,Cs.Hc=Ws,Cs.Gc=Hs,Cs.ia=43690&Hs?0:hs.ia,cs=!(Ws|Hs)}if(0<Rr.L&&(Rr.wa[Rr.Y+Rr.ja]=Rr.gd[Hr.$b][Hr.Za],Rr.wa[Rr.Y+Rr.ja].La|=!cs),Or.Ka)return no(Mr,7,"Premature end-of-file encountered.")}if(Nu(Mr),Rr=_i,Or=1,Hr=(kr=Mr).D,es=0<kr.L&&kr.M>=kr.zb&&kr.M<=kr.Va,kr.Aa==0)e:{if(Hr.M=kr.M,Hr.uc=es,au(kr,Hr),Or=1,Hr=(As=kr.D).Nb,es=(Hs=Pp[kr.L])*kr.R,ps=Hs/2*kr.B,$a=16*Hr*kr.R,El=8*Hr*kr.B,cs=kr.sa,Cs=kr.ta-es+$a,hs=kr.qa,Zr=kr.ra-ps+El,Xs=kr.Ha,Js=kr.Ia-ps+El,Ul=($s=As.M)==0,Ws=$s>=kr.Va-1,kr.Aa==2&&au(kr,As),As.uc)for(Ao=(bo=kr).D.M,e(bo.D.uc),As=bo.yb;As<bo.Hb;++As){na=As,go=Ao;var Bo=(Uo=(ao=bo).D).Nb;Zs=ao.R;var Uo=Uo.wa[Uo.Y+na],Zo=ao.sa,iu=ao.ta+16*Bo*Zs+16*na,wu=Uo.dd,Co=Uo.tc;if(Co!=0)if(e(3<=Co),ao.L==1)0<na&&Gs(Zo,iu,Zs,Co+4),Uo.La&&eu(Zo,iu,Zs,Co),0<go&&Fs(Zo,iu,Zs,Co+4),Uo.La&&wo(Zo,iu,Zs,Co);else{var cu=ao.B,Fu=ao.qa,Ku=ao.ra+8*Bo*cu+8*na,bu=ao.Ha,ao=ao.Ia+8*Bo*cu+8*na;Bo=Uo.ld,0<na&&(Xu(Zo,iu,Zs,Co+4,wu,Bo),Ru(Fu,Ku,bu,ao,cu,Co+4,wu,Bo)),Uo.La&&(Il(Zo,iu,Zs,Co,wu,Bo),Ts(Fu,Ku,bu,ao,cu,Co,wu,Bo)),0<go&&(xa(Zo,iu,Zs,Co+4,wu,Bo),Yu(Fu,Ku,bu,ao,cu,Co+4,wu,Bo)),Uo.La&&(op(Zo,iu,Zs,Co,wu,Bo),Al(Fu,Ku,bu,ao,cu,Co,wu,Bo))}}if(kr.ia&&alert("todo:DitherRow"),Rr.put!=null){if(As=16*$s,$s=16*($s+1),Ul?(Rr.y=kr.sa,Rr.O=kr.ta+$a,Rr.f=kr.qa,Rr.N=kr.ra+El,Rr.ea=kr.Ha,Rr.W=kr.Ia+El):(As-=Hs,Rr.y=cs,Rr.O=Cs,Rr.f=hs,Rr.N=Zr,Rr.ea=Xs,Rr.W=Js),Ws||($s-=Hs),$s>Rr.o&&($s=Rr.o),Rr.F=null,Rr.J=null,kr.Fa!=null&&0<kr.Fa.length&&As<$s&&(Rr.J=Xp(kr,Rr,As,$s-As),Rr.F=kr.mb,Rr.F==null&&Rr.F.length==0)){Or=no(kr,3,"Could not decode alpha data.");break e}As<Rr.j&&(Hs=Rr.j-As,As=Rr.j,e(!(1&Hs)),Rr.O+=kr.R*Hs,Rr.N+=kr.B*(Hs>>1),Rr.W+=kr.B*(Hs>>1),Rr.F!=null&&(Rr.J+=Rr.width*Hs)),As<$s&&(Rr.O+=Rr.v,Rr.N+=Rr.v>>1,Rr.W+=Rr.v>>1,Rr.F!=null&&(Rr.J+=Rr.v),Rr.ka=As-Rr.j,Rr.U=Rr.va-Rr.v,Rr.T=$s-As,Or=Rr.put(Rr))}Hr+1!=kr.Ic||Ws||(en(kr.sa,kr.ta-es,cs,Cs+16*kr.R,es),en(kr.qa,kr.ra-ps,hs,Zr+8*kr.B,ps),en(kr.Ha,kr.Ia-ps,Xs,Js+8*kr.B,ps))}if(!Or)return no(Mr,6,"Output aborted.")}return 1}(hn,_n)),_n.bc!=null&&_n.bc(_n),Nn&=1}return Nn?(hn.cb=0,Nn):0}function Ll(hn,_n,Nn,jn,Vn){Vn=hn[_n+Nn+32*jn]+(Vn>>3),hn[_n+Nn+32*jn]=-256&Vn?0>Vn?0:255:Vn}function gp(hn,_n,Nn,jn,Vn,Jn){Ll(hn,_n,0,Nn,jn+Vn),Ll(hn,_n,1,Nn,jn+Jn),Ll(hn,_n,2,Nn,jn-Jn),Ll(hn,_n,3,Nn,jn-Vn)}function _l(hn){return(20091*hn>>16)+hn}function _f(hn,_n,Nn,jn){var Vn,Jn=0,Zn=nn(16);for(Vn=0;4>Vn;++Vn){var rr=hn[_n+0]+hn[_n+8],sr=hn[_n+0]-hn[_n+8],mr=(35468*hn[_n+4]>>16)-_l(hn[_n+12]),Tr=_l(hn[_n+4])+(35468*hn[_n+12]>>16);Zn[Jn+0]=rr+Tr,Zn[Jn+1]=sr+mr,Zn[Jn+2]=sr-mr,Zn[Jn+3]=rr-Tr,Jn+=4,_n++}for(Vn=Jn=0;4>Vn;++Vn)rr=(hn=Zn[Jn+0]+4)+Zn[Jn+8],sr=hn-Zn[Jn+8],mr=(35468*Zn[Jn+4]>>16)-_l(Zn[Jn+12]),Ll(Nn,jn,0,0,rr+(Tr=_l(Zn[Jn+4])+(35468*Zn[Jn+12]>>16))),Ll(Nn,jn,1,0,sr+mr),Ll(Nn,jn,2,0,sr-mr),Ll(Nn,jn,3,0,rr-Tr),Jn++,jn+=32}function v1(hn,_n,Nn,jn){var Vn=hn[_n+0]+4,Jn=35468*hn[_n+4]>>16,Zn=_l(hn[_n+4]),rr=35468*hn[_n+1]>>16;gp(Nn,jn,0,Vn+Zn,hn=_l(hn[_n+1]),rr),gp(Nn,jn,1,Vn+Jn,hn,rr),gp(Nn,jn,2,Vn-Jn,hn,rr),gp(Nn,jn,3,Vn-Zn,hn,rr)}function Gl(hn,_n,Nn,jn,Vn){_f(hn,_n,Nn,jn),Vn&&_f(hn,_n+16,Nn,jn+4)}function B1(hn,_n,Nn,jn){Sl(hn,_n+0,Nn,jn,1),Sl(hn,_n+32,Nn,jn+128,1)}function f0(hn,_n,Nn,jn){var Vn;for(hn=hn[_n+0]+4,Vn=0;4>Vn;++Vn)for(_n=0;4>_n;++_n)Ll(Nn,jn,_n,Vn,hn)}function U1(hn,_n,Nn,jn){hn[_n+0]&&lu(hn,_n+0,Nn,jn),hn[_n+16]&&lu(hn,_n+16,Nn,jn+4),hn[_n+32]&&lu(hn,_n+32,Nn,jn+128),hn[_n+48]&&lu(hn,_n+48,Nn,jn+128+4)}function Up(hn,_n,Nn,jn){var Vn,Jn=nn(16);for(Vn=0;4>Vn;++Vn){var Zn=hn[_n+0+Vn]+hn[_n+12+Vn],rr=hn[_n+4+Vn]+hn[_n+8+Vn],sr=hn[_n+4+Vn]-hn[_n+8+Vn],mr=hn[_n+0+Vn]-hn[_n+12+Vn];Jn[0+Vn]=Zn+rr,Jn[8+Vn]=Zn-rr,Jn[4+Vn]=mr+sr,Jn[12+Vn]=mr-sr}for(Vn=0;4>Vn;++Vn)Zn=(hn=Jn[0+4*Vn]+3)+Jn[3+4*Vn],rr=Jn[1+4*Vn]+Jn[2+4*Vn],sr=Jn[1+4*Vn]-Jn[2+4*Vn],mr=hn-Jn[3+4*Vn],Nn[jn+0]=Zn+rr>>3,Nn[jn+16]=mr+sr>>3,Nn[jn+32]=Zn-rr>>3,Nn[jn+48]=mr-sr>>3,jn+=64}function ep(hn,_n,Nn){var jn,Vn=_n-32,Jn=Dl,Zn=255-hn[Vn-1];for(jn=0;jn<Nn;++jn){var rr,sr=Jn,mr=Zn+hn[_n-1];for(rr=0;rr<Nn;++rr)hn[_n+rr]=sr[mr+hn[Vn+rr]];_n+=32}}function mp(hn,_n){ep(hn,_n,4)}function $p(hn,_n){ep(hn,_n,8)}function p0(hn,_n){ep(hn,_n,16)}function zu(hn,_n){var Nn;for(Nn=0;16>Nn;++Nn)en(hn,_n+32*Nn,hn,_n-32,16)}function tp(hn,_n){var Nn;for(Nn=16;0<Nn;--Nn)tn(hn,_n,hn[_n-1],16),_n+=32}function vp(hn,_n,Nn){var jn;for(jn=0;16>jn;++jn)tn(_n,Nn+32*jn,hn,16)}function zp(hn,_n){var Nn,jn=16;for(Nn=0;16>Nn;++Nn)jn+=hn[_n-1+32*Nn]+hn[_n+Nn-32];vp(jn>>5,hn,_n)}function To(hn,_n){var Nn,jn=8;for(Nn=0;16>Nn;++Nn)jn+=hn[_n-1+32*Nn];vp(jn>>4,hn,_n)}function g0(hn,_n){var Nn,jn=8;for(Nn=0;16>Nn;++Nn)jn+=hn[_n+Nn-32];vp(jn>>4,hn,_n)}function Gp(hn,_n){vp(128,hn,_n)}function fs(hn,_n,Nn){return hn+2*_n+Nn+2>>2}function $1(hn,_n){var Nn,jn=_n-32;for(jn=new Uint8Array([fs(hn[jn-1],hn[jn+0],hn[jn+1]),fs(hn[jn+0],hn[jn+1],hn[jn+2]),fs(hn[jn+1],hn[jn+2],hn[jn+3]),fs(hn[jn+2],hn[jn+3],hn[jn+4])]),Nn=0;4>Nn;++Nn)en(hn,_n+32*Nn,jn,0,jn.length)}function y1(hn,_n){var Nn=hn[_n-1],jn=hn[_n-1+32],Vn=hn[_n-1+64],Jn=hn[_n-1+96];_r(hn,_n+0,16843009*fs(hn[_n-1-32],Nn,jn)),_r(hn,_n+32,16843009*fs(Nn,jn,Vn)),_r(hn,_n+64,16843009*fs(jn,Vn,Jn)),_r(hn,_n+96,16843009*fs(Vn,Jn,Jn))}function pu(hn,_n){var Nn,jn=4;for(Nn=0;4>Nn;++Nn)jn+=hn[_n+Nn-32]+hn[_n-1+32*Nn];for(jn>>=3,Nn=0;4>Nn;++Nn)tn(hn,_n+32*Nn,jn,4)}function z1(hn,_n){var Nn=hn[_n-1+0],jn=hn[_n-1+32],Vn=hn[_n-1+64],Jn=hn[_n-1-32],Zn=hn[_n+0-32],rr=hn[_n+1-32],sr=hn[_n+2-32],mr=hn[_n+3-32];hn[_n+0+96]=fs(jn,Vn,hn[_n-1+96]),hn[_n+1+96]=hn[_n+0+64]=fs(Nn,jn,Vn),hn[_n+2+96]=hn[_n+1+64]=hn[_n+0+32]=fs(Jn,Nn,jn),hn[_n+3+96]=hn[_n+2+64]=hn[_n+1+32]=hn[_n+0+0]=fs(Zn,Jn,Nn),hn[_n+3+64]=hn[_n+2+32]=hn[_n+1+0]=fs(rr,Zn,Jn),hn[_n+3+32]=hn[_n+2+0]=fs(sr,rr,Zn),hn[_n+3+0]=fs(mr,sr,rr)}function G1(hn,_n){var Nn=hn[_n+1-32],jn=hn[_n+2-32],Vn=hn[_n+3-32],Jn=hn[_n+4-32],Zn=hn[_n+5-32],rr=hn[_n+6-32],sr=hn[_n+7-32];hn[_n+0+0]=fs(hn[_n+0-32],Nn,jn),hn[_n+1+0]=hn[_n+0+32]=fs(Nn,jn,Vn),hn[_n+2+0]=hn[_n+1+32]=hn[_n+0+64]=fs(jn,Vn,Jn),hn[_n+3+0]=hn[_n+2+32]=hn[_n+1+64]=hn[_n+0+96]=fs(Vn,Jn,Zn),hn[_n+3+32]=hn[_n+2+64]=hn[_n+1+96]=fs(Jn,Zn,rr),hn[_n+3+64]=hn[_n+2+96]=fs(Zn,rr,sr),hn[_n+3+96]=fs(rr,sr,sr)}function ho(hn,_n){var Nn=hn[_n-1+0],jn=hn[_n-1+32],Vn=hn[_n-1+64],Jn=hn[_n-1-32],Zn=hn[_n+0-32],rr=hn[_n+1-32],sr=hn[_n+2-32],mr=hn[_n+3-32];hn[_n+0+0]=hn[_n+1+64]=Jn+Zn+1>>1,hn[_n+1+0]=hn[_n+2+64]=Zn+rr+1>>1,hn[_n+2+0]=hn[_n+3+64]=rr+sr+1>>1,hn[_n+3+0]=sr+mr+1>>1,hn[_n+0+96]=fs(Vn,jn,Nn),hn[_n+0+64]=fs(jn,Nn,Jn),hn[_n+0+32]=hn[_n+1+96]=fs(Nn,Jn,Zn),hn[_n+1+32]=hn[_n+2+96]=fs(Jn,Zn,rr),hn[_n+2+32]=hn[_n+3+96]=fs(Zn,rr,sr),hn[_n+3+32]=fs(rr,sr,mr)}function yp(hn,_n){var Nn=hn[_n+0-32],jn=hn[_n+1-32],Vn=hn[_n+2-32],Jn=hn[_n+3-32],Zn=hn[_n+4-32],rr=hn[_n+5-32],sr=hn[_n+6-32],mr=hn[_n+7-32];hn[_n+0+0]=Nn+jn+1>>1,hn[_n+1+0]=hn[_n+0+64]=jn+Vn+1>>1,hn[_n+2+0]=hn[_n+1+64]=Vn+Jn+1>>1,hn[_n+3+0]=hn[_n+2+64]=Jn+Zn+1>>1,hn[_n+0+32]=fs(Nn,jn,Vn),hn[_n+1+32]=hn[_n+0+96]=fs(jn,Vn,Jn),hn[_n+2+32]=hn[_n+1+96]=fs(Vn,Jn,Zn),hn[_n+3+32]=hn[_n+2+96]=fs(Jn,Zn,rr),hn[_n+3+64]=fs(Zn,rr,sr),hn[_n+3+96]=fs(rr,sr,mr)}function m0(hn,_n){var Nn=hn[_n-1+0],jn=hn[_n-1+32],Vn=hn[_n-1+64],Jn=hn[_n-1+96];hn[_n+0+0]=Nn+jn+1>>1,hn[_n+2+0]=hn[_n+0+32]=jn+Vn+1>>1,hn[_n+2+32]=hn[_n+0+64]=Vn+Jn+1>>1,hn[_n+1+0]=fs(Nn,jn,Vn),hn[_n+3+0]=hn[_n+1+32]=fs(jn,Vn,Jn),hn[_n+3+32]=hn[_n+1+64]=fs(Vn,Jn,Jn),hn[_n+3+64]=hn[_n+2+64]=hn[_n+0+96]=hn[_n+1+96]=hn[_n+2+96]=hn[_n+3+96]=Jn}function _1(hn,_n){var Nn=hn[_n-1+0],jn=hn[_n-1+32],Vn=hn[_n-1+64],Jn=hn[_n-1+96],Zn=hn[_n-1-32],rr=hn[_n+0-32],sr=hn[_n+1-32],mr=hn[_n+2-32];hn[_n+0+0]=hn[_n+2+32]=Nn+Zn+1>>1,hn[_n+0+32]=hn[_n+2+64]=jn+Nn+1>>1,hn[_n+0+64]=hn[_n+2+96]=Vn+jn+1>>1,hn[_n+0+96]=Jn+Vn+1>>1,hn[_n+3+0]=fs(rr,sr,mr),hn[_n+2+0]=fs(Zn,rr,sr),hn[_n+1+0]=hn[_n+3+32]=fs(Nn,Zn,rr),hn[_n+1+32]=hn[_n+3+64]=fs(jn,Nn,Zn),hn[_n+1+64]=hn[_n+3+96]=fs(Vn,jn,Nn),hn[_n+1+96]=fs(Jn,Vn,jn)}function v0(hn,_n){var Nn;for(Nn=0;8>Nn;++Nn)en(hn,_n+32*Nn,hn,_n-32,8)}function np(hn,_n){var Nn;for(Nn=0;8>Nn;++Nn)tn(hn,_n,hn[_n-1],8),_n+=32}function Wo(hn,_n,Nn){var jn;for(jn=0;8>jn;++jn)tn(_n,Nn+32*jn,hn,8)}function rp(hn,_n){var Nn,jn=8;for(Nn=0;8>Nn;++Nn)jn+=hn[_n+Nn-32]+hn[_n-1+32*Nn];Wo(jn>>4,hn,_n)}function y0(hn,_n){var Nn,jn=4;for(Nn=0;8>Nn;++Nn)jn+=hn[_n+Nn-32];Wo(jn>>3,hn,_n)}function Go(hn,_n){var Nn,jn=4;for(Nn=0;8>Nn;++Nn)jn+=hn[_n-1+32*Nn];Wo(jn>>3,hn,_n)}function Hl(hn,_n){Wo(128,hn,_n)}function Gu(hn,_n,Nn){var jn=hn[_n-Nn],Vn=hn[_n+0],Jn=3*(Vn-jn)+A1[1020+hn[_n-2*Nn]-hn[_n+Nn]],Zn=n1[112+(Jn+4>>3)];hn[_n-Nn]=Dl[255+jn+n1[112+(Jn+3>>3)]],hn[_n+0]=Dl[255+Vn-Zn]}function qp(hn,_n,Nn,jn){var Vn=hn[_n+0],Jn=hn[_n+Nn];return nu[255+hn[_n-2*Nn]-hn[_n-Nn]]>jn||nu[255+Jn-Vn]>jn}function S1(hn,_n,Nn,jn){return 4*nu[255+hn[_n-Nn]-hn[_n+0]]+nu[255+hn[_n-2*Nn]-hn[_n+Nn]]<=jn}function q1(hn,_n,Nn,jn,Vn){var Jn=hn[_n-3*Nn],Zn=hn[_n-2*Nn],rr=hn[_n-Nn],sr=hn[_n+0],mr=hn[_n+Nn],Tr=hn[_n+2*Nn],Ur=hn[_n+3*Nn];return 4*nu[255+rr-sr]+nu[255+Zn-mr]>jn?0:nu[255+hn[_n-4*Nn]-Jn]<=Vn&&nu[255+Jn-Zn]<=Vn&&nu[255+Zn-rr]<=Vn&&nu[255+Ur-Tr]<=Vn&&nu[255+Tr-mr]<=Vn&&nu[255+mr-sr]<=Vn}function Vl(hn,_n,Nn,jn){var Vn=2*jn+1;for(jn=0;16>jn;++jn)S1(hn,_n+jn,Nn,Vn)&&Gu(hn,_n+jn,Nn)}function Rl(hn,_n,Nn,jn){var Vn=2*jn+1;for(jn=0;16>jn;++jn)S1(hn,_n+jn*Nn,1,Vn)&&Gu(hn,_n+jn*Nn,1)}function Wl(hn,_n,Nn,jn){var Vn;for(Vn=3;0<Vn;--Vn)Vl(hn,_n+=4*Nn,Nn,jn)}function Hp(hn,_n,Nn,jn){var Vn;for(Vn=3;0<Vn;--Vn)Rl(hn,_n+=4,Nn,jn)}function gu(hn,_n,Nn,jn,Vn,Jn,Zn,rr){for(Jn=2*Jn+1;0<Vn--;){if(q1(hn,_n,Nn,Jn,Zn))if(qp(hn,_n,Nn,rr))Gu(hn,_n,Nn);else{var sr=hn,mr=_n,Tr=Nn,Ur=sr[mr-2*Tr],Dr=sr[mr-Tr],Mr=sr[mr+0],_i=sr[mr+Tr],Hr=sr[mr+2*Tr],kr=27*(Or=A1[1020+3*(Mr-Dr)+A1[1020+Ur-_i]])+63>>7,Rr=18*Or+63>>7,Or=9*Or+63>>7;sr[mr-3*Tr]=Dl[255+sr[mr-3*Tr]+Or],sr[mr-2*Tr]=Dl[255+Ur+Rr],sr[mr-Tr]=Dl[255+Dr+kr],sr[mr+0]=Dl[255+Mr-kr],sr[mr+Tr]=Dl[255+_i-Rr],sr[mr+2*Tr]=Dl[255+Hr-Or]}_n+=jn}}function yo(hn,_n,Nn,jn,Vn,Jn,Zn,rr){for(Jn=2*Jn+1;0<Vn--;){if(q1(hn,_n,Nn,Jn,Zn))if(qp(hn,_n,Nn,rr))Gu(hn,_n,Nn);else{var sr=hn,mr=_n,Tr=Nn,Ur=sr[mr-Tr],Dr=sr[mr+0],Mr=sr[mr+Tr],_i=n1[112+((Hr=3*(Dr-Ur))+4>>3)],Hr=n1[112+(Hr+3>>3)],kr=_i+1>>1;sr[mr-2*Tr]=Dl[255+sr[mr-2*Tr]+kr],sr[mr-Tr]=Dl[255+Ur+Hr],sr[mr+0]=Dl[255+Dr-_i],sr[mr+Tr]=Dl[255+Mr-kr]}_n+=jn}}function Xo(hn,_n,Nn,jn,Vn,Jn){gu(hn,_n,Nn,1,16,jn,Vn,Jn)}function Xl(hn,_n,Nn,jn,Vn,Jn){gu(hn,_n,1,Nn,16,jn,Vn,Jn)}function mu(hn,_n,Nn,jn,Vn,Jn){var Zn;for(Zn=3;0<Zn;--Zn)yo(hn,_n+=4*Nn,Nn,1,16,jn,Vn,Jn)}function Fl(hn,_n,Nn,jn,Vn,Jn){var Zn;for(Zn=3;0<Zn;--Zn)yo(hn,_n+=4,1,Nn,16,jn,Vn,Jn)}function qu(hn,_n,Nn,jn,Vn,Jn,Zn,rr){gu(hn,_n,Vn,1,8,Jn,Zn,rr),gu(Nn,jn,Vn,1,8,Jn,Zn,rr)}function Vp(hn,_n,Nn,jn,Vn,Jn,Zn,rr){gu(hn,_n,1,Vn,8,Jn,Zn,rr),gu(Nn,jn,1,Vn,8,Jn,Zn,rr)}function _p(hn,_n,Nn,jn,Vn,Jn,Zn,rr){yo(hn,_n+4*Vn,Vn,1,8,Jn,Zn,rr),yo(Nn,jn+4*Vn,Vn,1,8,Jn,Zn,rr)}function Wp(hn,_n,Nn,jn,Vn,Jn,Zn,rr){yo(hn,_n+4,1,Vn,8,Jn,Zn,rr),yo(Nn,jn+4,1,Vn,8,Jn,Zn,rr)}function Do(){this.ba=new ls,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new as,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Yo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ro(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ip(){this.ua=0,this.Wa=new Dn,this.vb=new Dn,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Qn,this.yc=new Gn}function Yl(){this.xb=this.a=0,this.l=new Qs,this.ca=new ls,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Fn,this.Pb=0,this.wd=new Fn,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ip,this.ab=0,this.gc=rn(4,ro),this.Oc=0}function Sp(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function sp(hn,_n,Nn,jn,Vn,Jn,Zn){for(hn=hn==null?0:hn[_n+0],_n=0;_n<Zn;++_n)Vn[Jn+_n]=hn+Nn[jn+_n]&255,hn=Vn[Jn+_n]}function wp(hn,_n,Nn,jn,Vn,Jn,Zn){var rr;if(hn==null)sp(null,null,Nn,jn,Vn,Jn,Zn);else for(rr=0;rr<Zn;++rr)Vn[Jn+rr]=hn[_n+rr]+Nn[jn+rr]&255}function Tu(hn,_n,Nn,jn,Vn,Jn,Zn){if(hn==null)sp(null,null,Nn,jn,Vn,Jn,Zn);else{var rr,sr=hn[_n+0],mr=sr,Tr=sr;for(rr=0;rr<Zn;++rr)mr=Tr+(sr=hn[_n+rr])-mr,Tr=Nn[jn+rr]+(-256&mr?0>mr?0:255:mr)&255,mr=sr,Vn[Jn+rr]=Tr}}function Xp(hn,_n,Nn,jn){var Vn=_n.width,Jn=_n.o;if(e(hn!=null&&_n!=null),0>Nn||0>=jn||Nn+jn>Jn)return null;if(!hn.Cc){if(hn.ga==null){var Zn;if(hn.ga=new Sp,(Zn=hn.ga==null)||(Zn=_n.width*_n.o,e(hn.Gb.length==0),hn.Gb=nn(Zn),hn.Uc=0,hn.Gb==null?Zn=0:(hn.mb=hn.Gb,hn.nb=hn.Uc,hn.rc=null,Zn=1),Zn=!Zn),!Zn){Zn=hn.ga;var rr=hn.Fa,sr=hn.P,mr=hn.qc,Tr=hn.mb,Ur=hn.nb,Dr=sr+1,Mr=mr-1,_i=Zn.l;if(e(rr!=null&&Tr!=null&&_n!=null),up[0]=null,up[1]=sp,up[2]=wp,up[3]=Tu,Zn.ca=Tr,Zn.tb=Ur,Zn.c=_n.width,Zn.i=_n.height,e(0<Zn.c&&0<Zn.i),1>=mr)_n=0;else if(Zn.$a=rr[sr+0]>>0&3,Zn.Z=rr[sr+0]>>2&3,Zn.Lc=rr[sr+0]>>4&3,sr=rr[sr+0]>>6&3,0>Zn.$a||1<Zn.$a||4<=Zn.Z||1<Zn.Lc||sr)_n=0;else if(_i.put=Us,_i.ac=Ps,_i.bc=Ns,_i.ma=Zn,_i.width=_n.width,_i.height=_n.height,_i.Da=_n.Da,_i.v=_n.v,_i.va=_n.va,_i.j=_n.j,_i.o=_n.o,Zn.$a)e:{e(Zn.$a==1),_n=su();t:for(;;){if(_n==null){_n=0;break e}if(e(Zn!=null),Zn.mc=_n,_n.c=Zn.c,_n.i=Zn.i,_n.l=Zn.l,_n.l.ma=Zn,_n.l.width=Zn.c,_n.l.height=Zn.i,_n.a=0,Yn(_n.m,rr,Dr,Mr),!Cu(Zn.c,Zn.i,1,_n,null)||(_n.ab==1&&_n.gc[0].hc==3&&Po(_n.s)?(Zn.ic=1,rr=_n.c*_n.i,_n.Ta=null,_n.Ua=0,_n.V=nn(rr),_n.Ba=0,_n.V==null?(_n.a=1,_n=0):_n=1):(Zn.ic=0,_n=pp(_n,Zn.c)),!_n))break t;_n=1;break e}Zn.mc=null,_n=0}else _n=Mr>=Zn.c*Zn.i;Zn=!_n}if(Zn)return null;hn.ga.Lc!=1?hn.Ga=0:jn=Jn-Nn}e(hn.ga!=null),e(Nn+jn<=Jn);e:{if(_n=(rr=hn.ga).c,Jn=rr.l.o,rr.$a==0){if(Dr=hn.rc,Mr=hn.Vc,_i=hn.Fa,sr=hn.P+1+Nn*_n,mr=hn.mb,Tr=hn.nb+Nn*_n,e(sr<=hn.P+hn.qc),rr.Z!=0)for(e(up[rr.Z]!=null),Zn=0;Zn<jn;++Zn)up[rr.Z](Dr,Mr,_i,sr,mr,Tr,_n),Dr=mr,Mr=Tr,Tr+=_n,sr+=_n;else for(Zn=0;Zn<jn;++Zn)en(mr,Tr,_i,sr,_n),Dr=mr,Mr=Tr,Tr+=_n,sr+=_n;hn.rc=Dr,hn.Vc=Mr}else{if(e(rr.mc!=null),_n=Nn+jn,e((Zn=rr.mc)!=null),e(_n<=Zn.i),Zn.C>=_n)_n=1;else if(rr.ic||Br(),rr.ic){rr=Zn.V,Dr=Zn.Ba,Mr=Zn.c;var Hr=Zn.i,kr=(_i=1,sr=Zn.$/Mr,mr=Zn.$%Mr,Tr=Zn.m,Ur=Zn.s,Zn.$),Rr=Mr*Hr,Or=Mr*_n,es=Ur.wc,Zr=kr<Or?Ks(Ur,mr,sr):null;e(kr<=Rr),e(_n<=Hr),e(Po(Ur));t:for(;;){for(;!Tr.h&&kr<Or;){if(mr&es||(Zr=Ks(Ur,mr,sr)),e(Zr!=null),Hn(Tr),256>(Hr=Ys(Zr.G[0],Zr.H[0],Tr)))rr[Dr+kr]=Hr,++kr,++mr>=Mr&&(mr=0,++sr<=_n&&!(sr%16)&&$o(Zn,sr));else{if(!(280>Hr)){_i=0;break t}Hr=Os(Hr-256,Tr);var ps,cs=Ys(Zr.G[4],Zr.H[4],Tr);if(Hn(Tr),!(kr>=(cs=so(Mr,cs=Os(cs,Tr)))&&Rr-kr>=Hr)){_i=0;break t}for(ps=0;ps<Hr;++ps)rr[Dr+kr+ps]=rr[Dr+kr+ps-cs];for(kr+=Hr,mr+=Hr;mr>=Mr;)mr-=Mr,++sr<=_n&&!(sr%16)&&$o(Zn,sr);kr<Or&&mr&es&&(Zr=Ks(Ur,mr,sr))}e(Tr.h==Tn(Tr))}$o(Zn,sr>_n?_n:sr);break t}!_i||Tr.h&&kr<Rr?(_i=0,Zn.a=Tr.h?5:3):Zn.$=kr,_n=_i}else _n=Tl(Zn,Zn.V,Zn.Ba,Zn.c,Zn.i,_n,Op);if(!_n){jn=0;break e}}Nn+jn>=Jn&&(hn.Cc=1),jn=1}if(!jn)return null;if(hn.Cc&&((jn=hn.ga)!=null&&(jn.mc=null),hn.ga=null,0<hn.Ga))return alert("todo:WebPDequantizeLevels"),null}return hn.nb+Nn*Vn}function En(hn,_n,Nn,jn,Vn,Jn){for(;0<Vn--;){var Zn,rr=hn,sr=_n+(Nn?1:0),mr=hn,Tr=_n+(Nn?0:3);for(Zn=0;Zn<jn;++Zn){var Ur=mr[Tr+4*Zn];Ur!=255&&(Ur*=32897,rr[sr+4*Zn+0]=rr[sr+4*Zn+0]*Ur>>23,rr[sr+4*Zn+1]=rr[sr+4*Zn+1]*Ur>>23,rr[sr+4*Zn+2]=rr[sr+4*Zn+2]*Ur>>23)}_n+=Jn}}function Xn(hn,_n,Nn,jn,Vn){for(;0<jn--;){var Jn;for(Jn=0;Jn<Nn;++Jn){var Zn=hn[_n+2*Jn+0],rr=15&(mr=hn[_n+2*Jn+1]),sr=4369*rr,mr=(240&mr|mr>>4)*sr>>16;hn[_n+2*Jn+0]=(240&Zn|Zn>>4)*sr>>16&240|(15&Zn|Zn<<4)*sr>>16>>4&15,hn[_n+2*Jn+1]=240&mr|rr}_n+=Vn}}function vr(hn,_n,Nn,jn,Vn,Jn,Zn,rr){var sr,mr,Tr=255;for(mr=0;mr<Vn;++mr){for(sr=0;sr<jn;++sr){var Ur=hn[_n+sr];Jn[Zn+4*sr]=Ur,Tr&=Ur}_n+=Nn,Zn+=rr}return Tr!=255}function Nr(hn,_n,Nn,jn,Vn){var Jn;for(Jn=0;Jn<Vn;++Jn)Nn[jn+Jn]=hn[_n+Jn]>>8}function Br(){uu=En,e1=Xn,Io=vr,H1=Nr}function Vr(hn,_n,Nn){On[hn]=function(jn,Vn,Jn,Zn,rr,sr,mr,Tr,Ur,Dr,Mr,_i,Hr,kr,Rr,Or,es){var Zr,ps=es-1>>1,cs=rr[sr+0]|mr[Tr+0]<<16,Cs=Ur[Dr+0]|Mr[_i+0]<<16;e(jn!=null);var hs=3*cs+Cs+131074>>2;for(_n(jn[Vn+0],255&hs,hs>>16,Hr,kr),Jn!=null&&(hs=3*Cs+cs+131074>>2,_n(Jn[Zn+0],255&hs,hs>>16,Rr,Or)),Zr=1;Zr<=ps;++Zr){var Xs=rr[sr+Zr]|mr[Tr+Zr]<<16,Js=Ur[Dr+Zr]|Mr[_i+Zr]<<16,Ws=cs+Xs+Cs+Js+524296,Hs=Ws+2*(Xs+Cs)>>3;hs=Hs+cs>>1,cs=(Ws=Ws+2*(cs+Js)>>3)+Xs>>1,_n(jn[Vn+2*Zr-1],255&hs,hs>>16,Hr,kr+(2*Zr-1)*Nn),_n(jn[Vn+2*Zr-0],255&cs,cs>>16,Hr,kr+(2*Zr-0)*Nn),Jn!=null&&(hs=Ws+Cs>>1,cs=Hs+Js>>1,_n(Jn[Zn+2*Zr-1],255&hs,hs>>16,Rr,Or+(2*Zr-1)*Nn),_n(Jn[Zn+2*Zr+0],255&cs,cs>>16,Rr,Or+(2*Zr+0)*Nn)),cs=Xs,Cs=Js}1&es||(hs=3*cs+Cs+131074>>2,_n(jn[Vn+es-1],255&hs,hs>>16,Hr,kr+(es-1)*Nn),Jn!=null&&(hs=3*Cs+cs+131074>>2,_n(Jn[Zn+es-1],255&hs,hs>>16,Rr,Or+(es-1)*Nn)))}}function is(){ru[x1]=V0,ru[C1]=E0,ru[_0]=W0,ru[E1]=k0,ru[k1]=X0,ru[X1]=xl,ru[r1]=Cl,ru[Y1]=E0,ru[i1]=k0,ru[kp]=X0,ru[K1]=xl}function us(hn){return hn&~N0?0>hn?0:255:hn>>P0}function xs(hn,_n){return us((19077*hn>>8)+(26149*_n>>8)-14234)}function Ls(hn,_n,Nn){return us((19077*hn>>8)-(6419*_n>>8)-(13320*Nn>>8)+8708)}function Rs(hn,_n){return us((19077*hn>>8)+(33050*_n>>8)-17685)}function Vs(hn,_n,Nn,jn,Vn){jn[Vn+0]=xs(hn,Nn),jn[Vn+1]=Ls(hn,_n,Nn),jn[Vn+2]=Rs(hn,_n)}function lo(hn,_n,Nn,jn,Vn){jn[Vn+0]=Rs(hn,_n),jn[Vn+1]=Ls(hn,_n,Nn),jn[Vn+2]=xs(hn,Nn)}function fo(hn,_n,Nn,jn,Vn){var Jn=Ls(hn,_n,Nn);_n=Jn<<3&224|Rs(hn,_n)>>3,jn[Vn+0]=248&xs(hn,Nn)|Jn>>5,jn[Vn+1]=_n}function _o(hn,_n,Nn,jn,Vn){var Jn=240&Rs(hn,_n)|15;jn[Vn+0]=240&xs(hn,Nn)|Ls(hn,_n,Nn)>>4,jn[Vn+1]=Jn}function jo(hn,_n,Nn,jn,Vn){jn[Vn+0]=255,Vs(hn,_n,Nn,jn,Vn+1)}function po(hn,_n,Nn,jn,Vn){lo(hn,_n,Nn,jn,Vn),jn[Vn+3]=255}function So(hn,_n,Nn,jn,Vn){Vs(hn,_n,Nn,jn,Vn),jn[Vn+3]=255}function Oo(hn,_n){return 0>hn?0:hn>_n?_n:hn}function vu(hn,_n,Nn){On[hn]=function(jn,Vn,Jn,Zn,rr,sr,mr,Tr,Ur){for(var Dr=Tr+(-2&Ur)*Nn;Tr!=Dr;)_n(jn[Vn+0],Jn[Zn+0],rr[sr+0],mr,Tr),_n(jn[Vn+1],Jn[Zn+0],rr[sr+0],mr,Tr+Nn),Vn+=2,++Zn,++sr,Tr+=2*Nn;1&Ur&&_n(jn[Vn+0],Jn[Zn+0],rr[sr+0],mr,Tr)}}function w1(hn,_n,Nn){return Nn==0?hn==0?_n==0?6:5:_n==0?4:0:Nn}function Ml(hn,_n,Nn,jn,Vn){switch(hn>>>30){case 3:Sl(_n,Nn,jn,Vn,0);break;case 2:Ep(_n,Nn,jn,Vn);break;case 1:lu(_n,Nn,jn,Vn)}}function au(hn,_n){var Nn,jn,Vn=_n.M,Jn=_n.Nb,Zn=hn.oc,rr=hn.pc+40,sr=hn.oc,mr=hn.pc+584,Tr=hn.oc,Ur=hn.pc+600;for(Nn=0;16>Nn;++Nn)Zn[rr+32*Nn-1]=129;for(Nn=0;8>Nn;++Nn)sr[mr+32*Nn-1]=129,Tr[Ur+32*Nn-1]=129;for(0<Vn?Zn[rr-1-32]=sr[mr-1-32]=Tr[Ur-1-32]=129:(tn(Zn,rr-32-1,127,21),tn(sr,mr-32-1,127,9),tn(Tr,Ur-32-1,127,9)),jn=0;jn<hn.za;++jn){var Dr=_n.ya[_n.aa+jn];if(0<jn){for(Nn=-1;16>Nn;++Nn)en(Zn,rr+32*Nn-4,Zn,rr+32*Nn+12,4);for(Nn=-1;8>Nn;++Nn)en(sr,mr+32*Nn-4,sr,mr+32*Nn+4,4),en(Tr,Ur+32*Nn-4,Tr,Ur+32*Nn+4,4)}var Mr=hn.Gd,_i=hn.Hd+jn,Hr=Dr.ad,kr=Dr.Hc;if(0<Vn&&(en(Zn,rr-32,Mr[_i].y,0,16),en(sr,mr-32,Mr[_i].f,0,8),en(Tr,Ur-32,Mr[_i].ea,0,8)),Dr.Za){var Rr=Zn,Or=rr-32+16;for(0<Vn&&(jn>=hn.za-1?tn(Rr,Or,Mr[_i].y[15],4):en(Rr,Or,Mr[_i+1].y,0,4)),Nn=0;4>Nn;Nn++)Rr[Or+128+Nn]=Rr[Or+256+Nn]=Rr[Or+384+Nn]=Rr[Or+0+Nn];for(Nn=0;16>Nn;++Nn,kr<<=2)Rr=Zn,Or=rr+e0[Nn],Su[Dr.Ob[Nn]](Rr,Or),Ml(kr,Hr,16*+Nn,Rr,Or)}else if(Rr=w1(jn,Vn,Dr.Ob[0]),lp[Rr](Zn,rr),kr!=0)for(Nn=0;16>Nn;++Nn,kr<<=2)Ml(kr,Hr,16*+Nn,Zn,rr+e0[Nn]);for(Nn=Dr.Gc,Rr=w1(jn,Vn,Dr.Dd),Bl[Rr](sr,mr),Bl[Rr](Tr,Ur),kr=Hr,Rr=sr,Or=mr,255&(Dr=Nn>>0)&&(170&Dr?Zl(kr,256,Rr,Or):yu(kr,256,Rr,Or)),Dr=Tr,kr=Ur,255&(Nn>>=8)&&(170&Nn?Zl(Hr,320,Dr,kr):yu(Hr,320,Dr,kr)),Vn<hn.Ub-1&&(en(Mr[_i].y,0,Zn,rr+480,16),en(Mr[_i].f,0,sr,mr+224,8),en(Mr[_i].ea,0,Tr,Ur+224,8)),Nn=8*Jn*hn.B,Mr=hn.sa,_i=hn.ta+16*jn+16*Jn*hn.R,Hr=hn.qa,Dr=hn.ra+8*jn+Nn,kr=hn.Ha,Rr=hn.Ia+8*jn+Nn,Nn=0;16>Nn;++Nn)en(Mr,_i+Nn*hn.R,Zn,rr+32*Nn,16);for(Nn=0;8>Nn;++Nn)en(Hr,Dr+Nn*hn.B,sr,mr+32*Nn,8),en(kr,Rr+Nn*hn.B,Tr,Ur+32*Nn,8)}}function ap(hn,_n,Nn,jn,Vn,Jn,Zn,rr,sr){var mr=[0],Tr=[0],Ur=0,Dr=sr!=null?sr.kd:0,Mr=sr!=null?sr:new Yo;if(hn==null||12>Nn)return 7;Mr.data=hn,Mr.w=_n,Mr.ha=Nn,_n=[_n],Nn=[Nn],Mr.gb=[Mr.gb];e:{var _i=_n,Hr=Nn,kr=Mr.gb;if(e(hn!=null),e(Hr!=null),e(kr!=null),kr[0]=0,12<=Hr[0]&&!St(hn,_i[0],"RIFF")){if(St(hn,_i[0]+8,"WEBP")){kr=3;break e}var Rr=xr(hn,_i[0]+4);if(12>Rr||4294967286<Rr){kr=3;break e}if(Dr&&Rr>Hr[0]-8){kr=7;break e}kr[0]=Rr,_i[0]+=12,Hr[0]-=12}kr=0}if(kr!=0)return kr;for(Rr=0<Mr.gb[0],Nn=Nn[0];;){e:{var Or=hn;Hr=_n,kr=Nn;var es=mr,Zr=Tr,ps=_i=[0];if((hs=Ur=[Ur])[0]=0,8>kr[0])kr=7;else{if(!St(Or,Hr[0],"VP8X")){if(xr(Or,Hr[0]+4)!=10){kr=3;break e}if(18>kr[0]){kr=7;break e}var cs=xr(Or,Hr[0]+8),Cs=1+br(Or,Hr[0]+12);if(2147483648<=Cs*(Or=1+br(Or,Hr[0]+15))){kr=3;break e}ps!=null&&(ps[0]=cs),es!=null&&(es[0]=Cs),Zr!=null&&(Zr[0]=Or),Hr[0]+=18,kr[0]-=18,hs[0]=1}kr=0}}if(Ur=Ur[0],_i=_i[0],kr!=0)return kr;if(Hr=!!(2&_i),!Rr&&Ur)return 3;if(Jn!=null&&(Jn[0]=!!(16&_i)),Zn!=null&&(Zn[0]=Hr),rr!=null&&(rr[0]=0),Zn=mr[0],_i=Tr[0],Ur&&Hr&&sr==null){kr=0;break}if(4>Nn){kr=7;break}if(Rr&&Ur||!Rr&&!Ur&&!St(hn,_n[0],"ALPH")){Nn=[Nn],Mr.na=[Mr.na],Mr.P=[Mr.P],Mr.Sa=[Mr.Sa];e:{cs=hn,kr=_n,Rr=Nn;var hs=Mr.gb;es=Mr.na,Zr=Mr.P,ps=Mr.Sa,Cs=22,e(cs!=null),e(Rr!=null),Or=kr[0];var Xs=Rr[0];for(e(es!=null),e(ps!=null),es[0]=null,Zr[0]=null,ps[0]=0;;){if(kr[0]=Or,Rr[0]=Xs,8>Xs){kr=7;break e}var Js=xr(cs,Or+4);if(4294967286<Js){kr=3;break e}var Ws=8+Js+1&-2;if(Cs+=Ws,0<hs&&Cs>hs){kr=3;break e}if(!St(cs,Or,"VP8 ")||!St(cs,Or,"VP8L")){kr=0;break e}if(Xs[0]<Ws){kr=7;break e}St(cs,Or,"ALPH")||(es[0]=cs,Zr[0]=Or+8,ps[0]=Js),Or+=Ws,Xs-=Ws}}if(Nn=Nn[0],Mr.na=Mr.na[0],Mr.P=Mr.P[0],Mr.Sa=Mr.Sa[0],kr!=0)break}Nn=[Nn],Mr.Ja=[Mr.Ja],Mr.xa=[Mr.xa];e:if(hs=hn,kr=_n,Rr=Nn,es=Mr.gb[0],Zr=Mr.Ja,ps=Mr.xa,cs=kr[0],Or=!St(hs,cs,"VP8 "),Cs=!St(hs,cs,"VP8L"),e(hs!=null),e(Rr!=null),e(Zr!=null),e(ps!=null),8>Rr[0])kr=7;else{if(Or||Cs){if(hs=xr(hs,cs+4),12<=es&&hs>es-12){kr=3;break e}if(Dr&&hs>Rr[0]-8){kr=7;break e}Zr[0]=hs,kr[0]+=8,Rr[0]-=8,ps[0]=Cs}else ps[0]=5<=Rr[0]&&hs[cs+0]==47&&!(hs[cs+4]>>5),Zr[0]=Rr[0];kr=0}if(Nn=Nn[0],Mr.Ja=Mr.Ja[0],Mr.xa=Mr.xa[0],_n=_n[0],kr!=0)break;if(4294967286<Mr.Ja)return 3;if(rr==null||Hr||(rr[0]=Mr.xa?2:1),Zn=[Zn],_i=[_i],Mr.xa){if(5>Nn){kr=7;break}rr=Zn,Dr=_i,Hr=Jn,hn==null||5>Nn?hn=0:5<=Nn&&hn[_n+0]==47&&!(hn[_n+4]>>5)?(Rr=[0],hs=[0],es=[0],Yn(Zr=new Fn,hn,_n,Nn),ms(Zr,Rr,hs,es)?(rr!=null&&(rr[0]=Rr[0]),Dr!=null&&(Dr[0]=hs[0]),Hr!=null&&(Hr[0]=es[0]),hn=1):hn=0):hn=0}else{if(10>Nn){kr=7;break}rr=_i,hn==null||10>Nn||!Mo(hn,_n+3,Nn-3)?hn=0:(Dr=hn[_n+0]|hn[_n+1]<<8|hn[_n+2]<<16,Hr=16383&(hn[_n+7]<<8|hn[_n+6]),hn=16383&(hn[_n+9]<<8|hn[_n+8]),1&Dr||3<(Dr>>1&7)||!(Dr>>4&1)||Dr>>5>=Mr.Ja||!Hr||!hn?hn=0:(Zn&&(Zn[0]=Hr),rr&&(rr[0]=hn),hn=1))}if(!hn||(Zn=Zn[0],_i=_i[0],Ur&&(mr[0]!=Zn||Tr[0]!=_i)))return 3;sr!=null&&(sr[0]=Mr,sr.offset=_n-sr.w,e(4294967286>_n-sr.w),e(sr.offset==sr.ha-Nn));break}return kr==0||kr==7&&Ur&&sr==null?(Jn!=null&&(Jn[0]|=Mr.na!=null&&0<Mr.na.length),jn!=null&&(jn[0]=Zn),Vn!=null&&(Vn[0]=_i),0):kr}function Yp(hn,_n,Nn){var jn=_n.width,Vn=_n.height,Jn=0,Zn=0,rr=jn,sr=Vn;if(_n.Da=hn!=null&&0<hn.Da,_n.Da&&(rr=hn.cd,sr=hn.bd,Jn=hn.v,Zn=hn.j,11>Nn||(Jn&=-2,Zn&=-2),0>Jn||0>Zn||0>=rr||0>=sr||Jn+rr>jn||Zn+sr>Vn))return 0;if(_n.v=Jn,_n.j=Zn,_n.va=Jn+rr,_n.o=Zn+sr,_n.U=rr,_n.T=sr,_n.da=hn!=null&&0<hn.da,_n.da){if(!lr(rr,sr,Nn=[hn.ib],Jn=[hn.hb]))return 0;_n.ib=Nn[0],_n.hb=Jn[0]}return _n.ob=hn!=null&&hn.ob,_n.Kb=hn==null||!hn.Sd,_n.da&&(_n.ob=_n.ib<3*jn/4&&_n.hb<3*Vn/4,_n.Kb=0),1}function Kl(hn){if(hn==null)return 2;if(11>hn.S){var _n=hn.f.RGBA;_n.fb+=(hn.height-1)*_n.A,_n.A=-_n.A}else _n=hn.f.kb,hn=hn.height,_n.O+=(hn-1)*_n.fa,_n.fa=-_n.fa,_n.N+=(hn-1>>1)*_n.Ab,_n.Ab=-_n.Ab,_n.W+=(hn-1>>1)*_n.Db,_n.Db=-_n.Db,_n.F!=null&&(_n.J+=(hn-1)*_n.lb,_n.lb=-_n.lb);return 0}function Ql(hn,_n,Nn,jn){if(jn==null||0>=hn||0>=_n)return 2;if(Nn!=null){if(Nn.Da){var Vn=Nn.cd,Jn=Nn.bd,Zn=-2&Nn.v,rr=-2&Nn.j;if(0>Zn||0>rr||0>=Vn||0>=Jn||Zn+Vn>hn||rr+Jn>_n)return 2;hn=Vn,_n=Jn}if(Nn.da){if(!lr(hn,_n,Vn=[Nn.ib],Jn=[Nn.hb]))return 2;hn=Vn[0],_n=Jn[0]}}jn.width=hn,jn.height=_n;e:{var sr=jn.width,mr=jn.height;if(hn=jn.S,0>=sr||0>=mr||!(hn>=x1&&13>hn))hn=2;else{if(0>=jn.Rd&&jn.sd==null){Zn=Jn=Vn=_n=0;var Tr=(rr=sr*t0[hn])*mr;if(11>hn||(Jn=(mr+1)/2*(_n=(sr+1)/2),hn==12&&(Zn=(Vn=sr)*mr)),(mr=nn(Tr+2*Jn+Zn))==null){hn=1;break e}jn.sd=mr,11>hn?((sr=jn.f.RGBA).eb=mr,sr.fb=0,sr.A=rr,sr.size=Tr):((sr=jn.f.kb).y=mr,sr.O=0,sr.fa=rr,sr.Fd=Tr,sr.f=mr,sr.N=0+Tr,sr.Ab=_n,sr.Cd=Jn,sr.ea=mr,sr.W=0+Tr+Jn,sr.Db=_n,sr.Ed=Jn,hn==12&&(sr.F=mr,sr.J=0+Tr+2*Jn),sr.Tc=Zn,sr.lb=Vn)}if(_n=1,Vn=jn.S,Jn=jn.width,Zn=jn.height,Vn>=x1&&13>Vn)if(11>Vn)hn=jn.f.RGBA,_n&=(rr=Math.abs(hn.A))*(Zn-1)+Jn<=hn.size,_n&=rr>=Jn*t0[Vn],_n&=hn.eb!=null;else{hn=jn.f.kb,rr=(Jn+1)/2,Tr=(Zn+1)/2,sr=Math.abs(hn.fa),mr=Math.abs(hn.Ab);var Ur=Math.abs(hn.Db),Dr=Math.abs(hn.lb),Mr=Dr*(Zn-1)+Jn;_n&=sr*(Zn-1)+Jn<=hn.Fd,_n&=mr*(Tr-1)+rr<=hn.Cd,_n=(_n&=Ur*(Tr-1)+rr<=hn.Ed)&sr>=Jn&mr>=rr&Ur>=rr,_n&=hn.y!=null,_n&=hn.f!=null,_n&=hn.ea!=null,Vn==12&&(_n&=Dr>=Jn,_n&=Mr<=hn.Tc,_n&=hn.F!=null)}else _n=0;hn=_n?0:2}}return hn!=0||Nn!=null&&Nn.fd&&(hn=Kl(jn)),hn}var qo=64,bp=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Hu=24,Ap=32,Kp=8,Ko=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ar("Predictor0","PredictorAdd0"),On.Predictor0=function(){return 4278190080},On.Predictor1=function(hn){return hn},On.Predictor2=function(hn,_n,Nn){return _n[Nn+0]},On.Predictor3=function(hn,_n,Nn){return _n[Nn+1]},On.Predictor4=function(hn,_n,Nn){return _n[Nn-1]},On.Predictor5=function(hn,_n,Nn){return Pr(Pr(hn,_n[Nn+1]),_n[Nn+0])},On.Predictor6=function(hn,_n,Nn){return Pr(hn,_n[Nn-1])},On.Predictor7=function(hn,_n,Nn){return Pr(hn,_n[Nn+0])},On.Predictor8=function(hn,_n,Nn){return Pr(_n[Nn-1],_n[Nn+0])},On.Predictor9=function(hn,_n,Nn){return Pr(_n[Nn+0],_n[Nn+1])},On.Predictor10=function(hn,_n,Nn){return Pr(Pr(hn,_n[Nn-1]),Pr(_n[Nn+0],_n[Nn+1]))},On.Predictor11=function(hn,_n,Nn){var jn=_n[Nn+0];return 0>=Wr(jn>>24&255,hn>>24&255,(_n=_n[Nn-1])>>24&255)+Wr(jn>>16&255,hn>>16&255,_n>>16&255)+Wr(jn>>8&255,hn>>8&255,_n>>8&255)+Wr(255&jn,255&hn,255&_n)?jn:hn},On.Predictor12=function(hn,_n,Nn){var jn=_n[Nn+0];return(Gr((hn>>24&255)+(jn>>24&255)-((_n=_n[Nn-1])>>24&255))<<24|Gr((hn>>16&255)+(jn>>16&255)-(_n>>16&255))<<16|Gr((hn>>8&255)+(jn>>8&255)-(_n>>8&255))<<8|Gr((255&hn)+(255&jn)-(255&_n)))>>>0},On.Predictor13=function(hn,_n,Nn){var jn=_n[Nn-1];return(Sr((hn=Pr(hn,_n[Nn+0]))>>24&255,jn>>24&255)<<24|Sr(hn>>16&255,jn>>16&255)<<16|Sr(hn>>8&255,jn>>8&255)<<8|Sr(hn>>0&255,jn>>0&255))>>>0};var Qp=On.PredictorAdd0;On.PredictorAdd1=Jr,Ar("Predictor2","PredictorAdd2"),Ar("Predictor3","PredictorAdd3"),Ar("Predictor4","PredictorAdd4"),Ar("Predictor5","PredictorAdd5"),Ar("Predictor6","PredictorAdd6"),Ar("Predictor7","PredictorAdd7"),Ar("Predictor8","PredictorAdd8"),Ar("Predictor9","PredictorAdd9"),Ar("Predictor10","PredictorAdd10"),Ar("Predictor11","PredictorAdd11"),Ar("Predictor12","PredictorAdd12"),Ar("Predictor13","PredictorAdd13");var Jp=On.PredictorAdd2;rs("ColorIndexInverseTransform","MapARGB","32b",function(hn){return hn>>8&255},function(hn){return hn}),rs("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(hn){return hn},function(hn){return hn>>8&255});var b1,ou=On.ColorIndexInverseTransform,xp=On.MapARGB,Cp=On.VP8LColorIndexInverseTransformAlpha,Zp=On.MapAlpha,Vu=On.VP8LPredictorsAdd=[];Vu.length=16,(On.VP8LPredictors=[]).length=16,(On.VP8LPredictorsAdd_C=[]).length=16,(On.VP8LPredictors_C=[]).length=16;var Jl,Qo,Wu,Ol,Lo,Lu,Jo,Sl,Ep,Zl,lu,yu,xa,Xu,Yu,Ru,op,Il,Al,Ts,Fs,Gs,wo,eu,uu,e1,Io,H1,V1=nn(511),W1=nn(2041),_u=nn(225),tu=nn(767),t1=0,A1=W1,n1=_u,Dl=tu,nu=V1,x1=0,C1=1,_0=2,E1=3,k1=4,X1=5,r1=6,Y1=7,i1=8,kp=9,K1=10,S0=[2,3,7],B0=[3,3,11],w0=[280,256,256,256,40],U0=[0,1,1,1,0],$0=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],b0=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],z0=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],G0=8,Q1=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],A0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],s1=null,um=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],cm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],x0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],q0=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],H0=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],J1=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hm=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],lp=[],Su=[],Bl=[],C0=1,Z1=2,up=[],ru=[];Vr("UpsampleRgbLinePair",Vs,3),Vr("UpsampleBgrLinePair",lo,3),Vr("UpsampleRgbaLinePair",So,4),Vr("UpsampleBgraLinePair",po,4),Vr("UpsampleArgbLinePair",jo,4),Vr("UpsampleRgba4444LinePair",_o,2),Vr("UpsampleRgb565LinePair",fo,2);var V0=On.UpsampleRgbLinePair,W0=On.UpsampleBgrLinePair,E0=On.UpsampleRgbaLinePair,k0=On.UpsampleBgraLinePair,X0=On.UpsampleArgbLinePair,xl=On.UpsampleRgba4444LinePair,Cl=On.UpsampleRgb565LinePair,P1=16,N1=1<<P1-1,a1=-227,_g=482,P0=6,N0=(256<<P0)-1,T0=0,L0=nn(256),Y0=nn(256),K0=nn(256),R0=nn(256),F0=nn(_g-a1),Q0=nn(_g-a1);vu("YuvToRgbRow",Vs,3),vu("YuvToBgrRow",lo,3),vu("YuvToRgbaRow",So,4),vu("YuvToBgraRow",po,4),vu("YuvToArgbRow",jo,4),vu("YuvToRgba4444Row",_o,2),vu("YuvToRgb565Row",fo,2);var e0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Pp=[0,2,8],dm=[8,7,6,4,4,2,2,2,1,1,1,1],J0=1;this.WebPDecodeRGBA=function(hn,_n,Nn,jn,Vn){var Jn=C1,Zn=new Do,rr=new ls;Zn.ba=rr,rr.S=Jn,rr.width=[rr.width],rr.height=[rr.height];var sr=rr.width,mr=rr.height,Tr=new bs;if(Tr==null||hn==null)var Ur=2;else e(Tr!=null),Ur=ap(hn,_n,Nn,Tr.width,Tr.height,Tr.Pd,Tr.Qd,Tr.format,null);if(Ur!=0?sr=0:(sr!=null&&(sr[0]=Tr.width[0]),mr!=null&&(mr[0]=Tr.height[0]),sr=1),sr){rr.width=rr.width[0],rr.height=rr.height[0],jn!=null&&(jn[0]=rr.width),Vn!=null&&(Vn[0]=rr.height);e:{if(jn=new Qs,(Vn=new Yo).data=hn,Vn.w=_n,Vn.ha=Nn,Vn.kd=1,_n=[0],e(Vn!=null),((hn=ap(Vn.data,Vn.w,Vn.ha,null,null,null,_n,null,Vn))==0||hn==7)&&_n[0]&&(hn=4),(_n=hn)==0){if(e(Zn!=null),jn.data=Vn.data,jn.w=Vn.w+Vn.offset,jn.ha=Vn.ha-Vn.offset,jn.put=Us,jn.ac=Ps,jn.bc=Ns,jn.ma=Zn,Vn.xa){if((hn=su())==null){Zn=1;break e}if(function(Dr,Mr){var _i=[0],Hr=[0],kr=[0];t:for(;;){if(Dr==null)return 0;if(Mr==null)return Dr.a=2,0;if(Dr.l=Mr,Dr.a=0,Yn(Dr.m,Mr.data,Mr.w,Mr.ha),!ms(Dr.m,_i,Hr,kr)){Dr.a=3;break t}if(Dr.xb=Z1,Mr.width=_i[0],Mr.height=Hr[0],!Cu(_i[0],Hr[0],1,Dr,null))break t;return 1}return e(Dr.a!=0),0}(hn,jn)){if(jn=(_n=Ql(jn.width,jn.height,Zn.Oa,Zn.ba))==0){t:{jn=hn;n:for(;;){if(jn==null){jn=0;break t}if(e(jn.s.yc!=null),e(jn.s.Ya!=null),e(0<jn.s.Wb),e((Nn=jn.l)!=null),e((Vn=Nn.ma)!=null),jn.xb!=0){if(jn.ca=Vn.ba,jn.tb=Vn.tb,e(jn.ca!=null),!Yp(Vn.Oa,Nn,E1)){jn.a=2;break n}if(!pp(jn,Nn.width)||Nn.da)break n;if((Nn.da||gr(jn.ca.S))&&Br(),11>jn.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),jn.ca.f.kb.F!=null&&Br()),jn.Pb&&0<jn.s.ua&&jn.s.vb.X==null&&!Un(jn.s.vb,jn.s.Wa.Xa)){jn.a=1;break n}jn.xb=0}if(!Tl(jn,jn.V,jn.Ba,jn.c,jn.i,Nn.o,eo))break n;Vn.Dc=jn.Ma,jn=1;break t}e(jn.a!=0),jn=0}jn=!jn}jn&&(_n=hn.a)}else _n=hn.a}else{if((hn=new to)==null){Zn=1;break e}if(hn.Fa=Vn.na,hn.P=Vn.P,hn.qc=Vn.Sa,zo(hn,jn)){if((_n=Ql(jn.width,jn.height,Zn.Oa,Zn.ba))==0){if(hn.Aa=0,Nn=Zn.Oa,e((Vn=hn)!=null),Nn!=null){if(0<(sr=0>(sr=Nn.Md)?0:100<sr?255:255*sr/100)){for(mr=Tr=0;4>mr;++mr)12>(Ur=Vn.pb[mr]).lc&&(Ur.ia=sr*dm[0>Ur.lc?0:Ur.lc]>>3),Tr|=Ur.ia;Tr&&(alert("todo:VP8InitRandom"),Vn.ia=1)}Vn.Ga=Nn.Id,100<Vn.Ga?Vn.Ga=100:0>Vn.Ga&&(Vn.Ga=0)}Vo(hn,jn)||(_n=hn.a)}}else _n=hn.a}_n==0&&Zn.Oa!=null&&Zn.Oa.fd&&(_n=Kl(Zn.ba))}Zn=_n}Jn=Zn!=0?null:11>Jn?rr.f.RGBA.eb:rr.f.kb.y}else Jn=null;return Jn};var t0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function cn(On,Wn){for(var zn="",Mn=0;Mn<4;Mn++)zn+=String.fromCharCode(On[Wn++]);return zn}function dn(On,Wn){return(On[Wn+0]<<0|On[Wn+1]<<8|On[Wn+2]<<16)>>>0}function Sn(On,Wn){return(On[Wn+0]<<0|On[Wn+1]<<8|On[Wn+2]<<16|On[Wn+3]<<24)>>>0}new un;var mn=[0],fn=[0],vn=[],bn=new un,wn=_e,pn=function(On,Wn){var zn={},Mn=0,Gn=!1,er=0,Qn=0;if(zn.frames=[],!function(Rn,Tn,Bn,Hn){for(var Kn=0;Kn<Hn;Kn++)if(Rn[Tn+Kn]!=Bn.charCodeAt(Kn))return!0;return!1}(On,Wn,"RIFF",4)){var ar,tr;for(Sn(On,Wn+=4),Wn+=8;Wn<On.length;){var or=cn(On,Wn),Yn=Sn(On,Wn+=4);Wn+=4;var ur=Yn+(1&Yn);switch(or){case"VP8 ":case"VP8L":zn.frames[Mn]===void 0&&(zn.frames[Mn]={}),(Fn=zn.frames[Mn]).src_off=Gn?Qn:Wn-8,Fn.src_size=er+Yn+8,Mn++,Gn&&(Gn=!1,er=0,Qn=0);break;case"VP8X":(Fn=zn.header={}).feature_flags=On[Wn];var pr=Wn+4;Fn.canvas_width=1+dn(On,pr),pr+=3,Fn.canvas_height=1+dn(On,pr),pr+=3;break;case"ALPH":Gn=!0,er=ur+8,Qn=Wn-8;break;case"ANIM":(Fn=zn.header).bgcolor=Sn(On,Wn),pr=Wn+4,Fn.loop_count=(ar=On)[(tr=pr)+0]<<0|ar[tr+1]<<8,pr+=2;break;case"ANMF":var Lr,Fn;(Fn=zn.frames[Mn]={}).offset_x=2*dn(On,Wn),Wn+=3,Fn.offset_y=2*dn(On,Wn),Wn+=3,Fn.width=1+dn(On,Wn),Wn+=3,Fn.height=1+dn(On,Wn),Wn+=3,Fn.duration=dn(On,Wn),Wn+=3,Lr=On[Wn++],Fn.dispose=1&Lr,Fn.blend=Lr>>1&1}or!="ANMF"&&(Wn+=ur)}return zn}}(wn,0);pn.response=wn,pn.rgbaoutput=!0,pn.dataurl=!1;var yn=pn.header?pn.header:null,An=pn.frames?pn.frames:null;if(yn){yn.loop_counter=yn.loop_count,mn=[yn.canvas_height],fn=[yn.canvas_width];for(var kn=0;kn<An.length&&An[kn].blend!=0;kn++);}var xn=An[0],Pn=bn.WebPDecodeRGBA(wn,xn.src_off,xn.src_size,fn,mn);xn.rgba=Pn,xn.imgwidth=fn[0],xn.imgheight=mn[0];for(var In=0;In<fn[0]*mn[0]*4;In++)vn[In]=Pn[In];return this.width=fn,this.height=mn,this.data=vn,this}(function(_e){var e=function(){return typeof zlibSync=="function"},St=function(mn,fn,vn,bn){var wn=4,pn=rn;switch(bn){case _e.image_compression.FAST:wn=1,pn=nn;break;case _e.image_compression.MEDIUM:wn=6,pn=on;break;case _e.image_compression.SLOW:wn=9,pn=un}mn=en(mn,fn,vn,pn);var yn=zlibSync(mn,{level:wn});return _e.__addimage__.arrayBufferToBinaryString(yn)},en=function(mn,fn,vn,bn){for(var wn,pn,yn,An=mn.length/fn,kn=new Uint8Array(mn.length+An),xn=dn(),Pn=0;Pn<An;Pn+=1){if(yn=Pn*fn,wn=mn.subarray(yn,yn+fn),bn)kn.set(bn(wn,vn,pn),yn+Pn);else{for(var In,On=xn.length,Wn=[];In<On;In+=1)Wn[In]=xn[In](wn,vn,pn);var zn=Sn(Wn.concat());kn.set(Wn[zn],yn+Pn)}pn=wn}return kn},tn=function(mn){var fn=Array.apply([],mn);return fn.unshift(0),fn},nn=function(mn,fn){var vn,bn=[],wn=mn.length;bn[0]=1;for(var pn=0;pn<wn;pn+=1)vn=mn[pn-fn]||0,bn[pn+1]=mn[pn]-vn+256&255;return bn},rn=function(mn,fn,vn){var bn,wn=[],pn=mn.length;wn[0]=2;for(var yn=0;yn<pn;yn+=1)bn=vn&&vn[yn]||0,wn[yn+1]=mn[yn]-bn+256&255;return wn},on=function(mn,fn,vn){var bn,wn,pn=[],yn=mn.length;pn[0]=3;for(var An=0;An<yn;An+=1)bn=mn[An-fn]||0,wn=vn&&vn[An]||0,pn[An+1]=mn[An]+256-(bn+wn>>>1)&255;return pn},un=function(mn,fn,vn){var bn,wn,pn,yn,An=[],kn=mn.length;An[0]=4;for(var xn=0;xn<kn;xn+=1)bn=mn[xn-fn]||0,wn=vn&&vn[xn]||0,pn=vn&&vn[xn-fn]||0,yn=cn(bn,wn,pn),An[xn+1]=mn[xn]-yn+256&255;return An},cn=function(mn,fn,vn){if(mn===fn&&fn===vn)return mn;var bn=Math.abs(fn-vn),wn=Math.abs(mn-vn),pn=Math.abs(mn+fn-vn-vn);return bn<=wn&&bn<=pn?mn:wn<=pn?fn:vn},dn=function(){return[tn,nn,rn,on,un]},Sn=function(mn){var fn=mn.map(function(vn){return vn.reduce(function(bn,wn){return bn+Math.abs(wn)},0)});return fn.indexOf(Math.min.apply(null,fn))};_e.processPNG=function(mn,fn,vn,bn){var wn,pn,yn,An,kn,xn,Pn,In,On,Wn,zn,Mn,Gn,er,Qn,ar=this.decode.FLATE_DECODE,tr="";if(this.__addimage__.isArrayBuffer(mn)&&(mn=new Uint8Array(mn)),this.__addimage__.isArrayBufferView(mn)){if(mn=(yn=new Kt(mn)).imgData,pn=yn.bits,wn=yn.colorSpace,kn=yn.colors,[4,6].indexOf(yn.colorType)!==-1){if(yn.bits===8){On=(In=yn.pixelBitlength==32?new Uint32Array(yn.decodePixels().buffer):yn.pixelBitlength==16?new Uint16Array(yn.decodePixels().buffer):new Uint8Array(yn.decodePixels().buffer)).length,zn=new Uint8Array(On*yn.colors),Wn=new Uint8Array(On);var or,Yn=yn.pixelBitlength-yn.bits;for(er=0,Qn=0;er<On;er++){for(Gn=In[er],or=0;or<Yn;)zn[Qn++]=Gn>>>or&255,or+=yn.bits;Wn[er]=Gn>>>or&255}}if(yn.bits===16){On=(In=new Uint32Array(yn.decodePixels().buffer)).length,zn=new Uint8Array(On*(32/yn.pixelBitlength)*yn.colors),Wn=new Uint8Array(On*(32/yn.pixelBitlength)),Mn=yn.colors>1,er=0,Qn=0;for(var ur=0;er<On;)Gn=In[er++],zn[Qn++]=Gn>>>0&255,Mn&&(zn[Qn++]=Gn>>>16&255,Gn=In[er++],zn[Qn++]=Gn>>>0&255),Wn[ur++]=Gn>>>16&255;pn=8}bn!==_e.image_compression.NONE&&e()?(mn=St(zn,yn.width*yn.colors,yn.colors,bn),Pn=St(Wn,yn.width,1,bn)):(mn=zn,Pn=Wn,ar=void 0)}if(yn.colorType===3&&(wn=this.color_spaces.INDEXED,xn=yn.palette,yn.transparency.indexed)){var pr=yn.transparency.indexed,Lr=0;for(er=0,On=pr.length;er<On;++er)Lr+=pr[er];if((Lr/=255)===On-1&&pr.indexOf(0)!==-1)An=[pr.indexOf(0)];else if(Lr!==On){for(In=yn.decodePixels(),Wn=new Uint8Array(In.length),er=0,On=In.length;er<On;er++)Wn[er]=pr[In[er]];Pn=St(Wn,yn.width,1)}}var Fn=function(Rn){var Tn;switch(Rn){case _e.image_compression.FAST:Tn=11;break;case _e.image_compression.MEDIUM:Tn=13;break;case _e.image_compression.SLOW:Tn=14;break;default:Tn=12}return Tn}(bn);return ar===this.decode.FLATE_DECODE&&(tr="/Predictor "+Fn+" "),tr+="/Colors "+kn+" /BitsPerComponent "+pn+" /Columns "+yn.width,(this.__addimage__.isArrayBuffer(mn)||this.__addimage__.isArrayBufferView(mn))&&(mn=this.__addimage__.arrayBufferToBinaryString(mn)),(Pn&&this.__addimage__.isArrayBuffer(Pn)||this.__addimage__.isArrayBufferView(Pn))&&(Pn=this.__addimage__.arrayBufferToBinaryString(Pn)),{alias:vn,data:mn,index:fn,filter:ar,decodeParameters:tr,transparency:An,palette:xn,sMask:Pn,predictor:Fn,width:yn.width,height:yn.height,bitsPerComponent:pn,colorSpace:wn}}}})(E.API),function(_e){_e.processGIF89A=function(e,St,en,tn){var nn=new Zt(e),rn=nn.width,on=nn.height,un=[];nn.decodeAndBlitFrameRGBA(0,un);var cn={data:un,width:rn,height:on},dn=new Qt(100).encode(cn,100);return _e.processJPEG.call(this,dn,St,en,tn)},_e.processGIF87A=_e.processGIF89A}(E.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var _e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(_e);for(var e=0;e<_e;e++){var St=this.datav.getUint8(this.pos++,!0),en=this.datav.getUint8(this.pos++,!0),tn=this.datav.getUint8(this.pos++,!0),nn=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:tn,green:en,blue:St,quad:nn}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var _e="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[_e]()}catch(St){a.log("bit decode error:"+St)}},te.prototype.bit1=function(){var _e,e=Math.ceil(this.width/8),St=e%4;for(_e=this.height-1;_e>=0;_e--){for(var en=this.bottom_up?_e:this.height-1-_e,tn=0;tn<e;tn++)for(var nn=this.datav.getUint8(this.pos++,!0),rn=en*this.width*4+8*tn*4,on=0;on<8&&8*tn+on<this.width;on++){var un=this.palette[nn>>7-on&1];this.data[rn+4*on]=un.blue,this.data[rn+4*on+1]=un.green,this.data[rn+4*on+2]=un.red,this.data[rn+4*on+3]=255}St!==0&&(this.pos+=4-St)}},te.prototype.bit4=function(){for(var _e=Math.ceil(this.width/2),e=_e%4,St=this.height-1;St>=0;St--){for(var en=this.bottom_up?St:this.height-1-St,tn=0;tn<_e;tn++){var nn=this.datav.getUint8(this.pos++,!0),rn=en*this.width*4+2*tn*4,on=nn>>4,un=15&nn,cn=this.palette[on];if(this.data[rn]=cn.blue,this.data[rn+1]=cn.green,this.data[rn+2]=cn.red,this.data[rn+3]=255,2*tn+1>=this.width)break;cn=this.palette[un],this.data[rn+4]=cn.blue,this.data[rn+4+1]=cn.green,this.data[rn+4+2]=cn.red,this.data[rn+4+3]=255}e!==0&&(this.pos+=4-e)}},te.prototype.bit8=function(){for(var _e=this.width%4,e=this.height-1;e>=0;e--){for(var St=this.bottom_up?e:this.height-1-e,en=0;en<this.width;en++){var tn=this.datav.getUint8(this.pos++,!0),nn=St*this.width*4+4*en;if(tn<this.palette.length){var rn=this.palette[tn];this.data[nn]=rn.red,this.data[nn+1]=rn.green,this.data[nn+2]=rn.blue,this.data[nn+3]=255}else this.data[nn]=255,this.data[nn+1]=255,this.data[nn+2]=255,this.data[nn+3]=255}_e!==0&&(this.pos+=4-_e)}},te.prototype.bit15=function(){for(var _e=this.width%3,e=parseInt("11111",2),St=this.height-1;St>=0;St--){for(var en=this.bottom_up?St:this.height-1-St,tn=0;tn<this.width;tn++){var nn=this.datav.getUint16(this.pos,!0);this.pos+=2;var rn=(nn&e)/e*255|0,on=(nn>>5&e)/e*255|0,un=(nn>>10&e)/e*255|0,cn=nn>>15?255:0,dn=en*this.width*4+4*tn;this.data[dn]=un,this.data[dn+1]=on,this.data[dn+2]=rn,this.data[dn+3]=cn}this.pos+=_e}},te.prototype.bit16=function(){for(var _e=this.width%3,e=parseInt("11111",2),St=parseInt("111111",2),en=this.height-1;en>=0;en--){for(var tn=this.bottom_up?en:this.height-1-en,nn=0;nn<this.width;nn++){var rn=this.datav.getUint16(this.pos,!0);this.pos+=2;var on=(rn&e)/e*255|0,un=(rn>>5&St)/St*255|0,cn=(rn>>11)/e*255|0,dn=tn*this.width*4+4*nn;this.data[dn]=cn,this.data[dn+1]=un,this.data[dn+2]=on,this.data[dn+3]=255}this.pos+=_e}},te.prototype.bit24=function(){for(var _e=this.height-1;_e>=0;_e--){for(var e=this.bottom_up?_e:this.height-1-_e,St=0;St<this.width;St++){var en=this.datav.getUint8(this.pos++,!0),tn=this.datav.getUint8(this.pos++,!0),nn=this.datav.getUint8(this.pos++,!0),rn=e*this.width*4+4*St;this.data[rn]=nn,this.data[rn+1]=tn,this.data[rn+2]=en,this.data[rn+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var _e=this.height-1;_e>=0;_e--)for(var e=this.bottom_up?_e:this.height-1-_e,St=0;St<this.width;St++){var en=this.datav.getUint8(this.pos++,!0),tn=this.datav.getUint8(this.pos++,!0),nn=this.datav.getUint8(this.pos++,!0),rn=this.datav.getUint8(this.pos++,!0),on=e*this.width*4+4*St;this.data[on]=nn,this.data[on+1]=tn,this.data[on+2]=en,this.data[on+3]=rn}},te.prototype.getData=function(){return this.data},function(_e){_e.processBMP=function(e,St,en,tn){var nn=new te(e,!1),rn=nn.width,on=nn.height,un={data:nn.getData(),width:rn,height:on},cn=new Qt(100).encode(un,100);return _e.processJPEG.call(this,cn,St,en,tn)}}(E.API),ee.prototype.getData=function(){return this.data},function(_e){_e.processWEBP=function(e,St,en,tn){var nn=new ee(e),rn=nn.width,on=nn.height,un={data:nn.getData(),width:rn,height:on},cn=new Qt(100).encode(un,100);return _e.processJPEG.call(this,cn,St,en,tn)}}(E.API),E.API.processRGBA=function(_e,e,St){for(var en=_e.data,tn=en.length,nn=new Uint8Array(tn/4*3),rn=new Uint8Array(tn/4),on=0,un=0,cn=0;cn<tn;cn+=4){var dn=en[cn],Sn=en[cn+1],mn=en[cn+2],fn=en[cn+3];nn[on++]=dn,nn[on++]=Sn,nn[on++]=mn,rn[un++]=fn}var vn=this.__addimage__.arrayBufferToBinaryString(nn);return{alpha:this.__addimage__.arrayBufferToBinaryString(rn),data:vn,index:e,alias:St,colorSpace:"DeviceRGB",bitsPerComponent:8,width:_e.width,height:_e.height}},E.API.setLanguage=function(_e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[_e]!==void 0&&(this.internal.languageSettings.languageCode=_e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt=E.API,Gt=Vt.getCharWidthsArray=function(_e,e){var St,en,tn=(e=e||{}).font||this.internal.getFont(),nn=e.fontSize||this.internal.getFontSize(),rn=e.charSpace||this.internal.getCharSpace(),on=e.widths?e.widths:tn.metadata.Unicode.widths,un=on.fof?on.fof:1,cn=e.kerning?e.kerning:tn.metadata.Unicode.kerning,dn=cn.fof?cn.fof:1,Sn=e.doKerning!==!1,mn=0,fn=_e.length,vn=0,bn=on[0]||un,wn=[];for(St=0;St<fn;St++)en=_e.charCodeAt(St),typeof tn.metadata.widthOfString=="function"?wn.push((tn.metadata.widthOfGlyph(tn.metadata.characterToGlyph(en))+rn*(1e3/nn)||0)/1e3):(mn=Sn&&_typeof(cn[en])==="object"&&!isNaN(parseInt(cn[en][vn],10))?cn[en][vn]/dn:0,wn.push((on[en]||bn)/un+mn)),vn=en;return wn},Yt=Vt.getStringUnitWidth=function(_e,e){var St=(e=e||{}).fontSize||this.internal.getFontSize(),en=e.font||this.internal.getFont(),tn=e.charSpace||this.internal.getCharSpace();return Vt.processArabic&&(_e=Vt.processArabic(_e)),typeof en.metadata.widthOfString=="function"?en.metadata.widthOfString(_e,St,tn)/St:Gt.apply(this,arguments).reduce(function(nn,rn){return nn+rn},0)},Jt=function(_e,e,St,en){for(var tn=[],nn=0,rn=_e.length,on=0;nn!==rn&&on+e[nn]<St;)on+=e[nn],nn++;tn.push(_e.slice(0,nn));var un=nn;for(on=0;nn!==rn;)on+e[nn]>en&&(tn.push(_e.slice(un,nn)),on=0,un=nn),on+=e[nn],nn++;return un!==nn&&tn.push(_e.slice(un,nn)),tn},Xt=function(_e,e,St){St||(St={});var en,tn,nn,rn,on,un,cn,dn=[],Sn=[dn],mn=St.textIndent||0,fn=0,vn=0,bn=_e.split(" "),wn=Gt.apply(this,[" ",St])[0];if(un=St.lineIndent===-1?bn[0].length+2:St.lineIndent||0){var pn=Array(un).join(" "),yn=[];bn.map(function(kn){(kn=kn.split(/\s*\n/)).length>1?yn=yn.concat(kn.map(function(xn,Pn){return(Pn&&xn.length?`
`:"")+xn})):yn.push(kn[0])}),bn=yn,un=Yt.apply(this,[pn,St])}for(nn=0,rn=bn.length;nn<rn;nn++){var An=0;if(en=bn[nn],un&&en[0]==`
`&&(en=en.substr(1),An=1),mn+fn+(vn=(tn=Gt.apply(this,[en,St])).reduce(function(kn,xn){return kn+xn},0))>e||An){if(vn>e){for(on=Jt.apply(this,[en,tn,e-(mn+fn),e]),dn.push(on.shift()),dn=[on.pop()];on.length;)Sn.push([on.shift()]);vn=tn.slice(en.length-(dn[0]?dn[0].length:0)).reduce(function(kn,xn){return kn+xn},0)}else dn=[en];Sn.push(dn),mn=vn+un,fn=wn}else dn.push(en),mn+=fn+vn,fn=wn}return cn=un?function(kn,xn){return(xn?pn:"")+kn.join(" ")}:function(kn){return kn.join(" ")},Sn.map(cn)},Vt.splitTextToSize=function(_e,e,St){var en,tn=(St=St||{}).fontSize||this.internal.getFontSize(),nn=function(dn){if(dn.widths&&dn.kerning)return{widths:dn.widths,kerning:dn.kerning};var Sn=this.internal.getFont(dn.fontName,dn.fontStyle);return Sn.metadata.Unicode?{widths:Sn.metadata.Unicode.widths||{0:1},kerning:Sn.metadata.Unicode.kerning||{}}:{font:Sn.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,St);en=Array.isArray(_e)?_e:String(_e).split(/\r?\n/);var rn=1*this.internal.scaleFactor*e/tn;nn.textIndent=St.textIndent?1*St.textIndent*this.internal.scaleFactor/tn:0,nn.lineIndent=St.lineIndent;var on,un,cn=[];for(on=0,un=en.length;on<un;on++)cn=cn.concat(Xt.apply(this,[en[on],rn,nn]));return cn},function(_e){_e.__fontmetrics__=_e.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",St={},en={},tn=0;tn<e.length;tn++)St[e[tn]]="0123456789abcdef"[tn],en["0123456789abcdef"[tn]]=e[tn];var nn=function(Sn){return"0x"+parseInt(Sn,10).toString(16)},rn=_e.__fontmetrics__.compress=function(Sn){var mn,fn,vn,bn,wn=["{"];for(var pn in Sn){if(mn=Sn[pn],isNaN(parseInt(pn,10))?fn="'"+pn+"'":(pn=parseInt(pn,10),fn=(fn=nn(pn).slice(2)).slice(0,-1)+en[fn.slice(-1)]),typeof mn=="number")mn<0?(vn=nn(mn).slice(3),bn="-"):(vn=nn(mn).slice(2),bn=""),vn=bn+vn.slice(0,-1)+en[vn.slice(-1)];else{if(_typeof(mn)!=="object")throw new Error("Don't know what to do with value type "+_typeof(mn)+".");vn=rn(mn)}wn.push(fn+vn)}return wn.push("}"),wn.join("")},on=_e.__fontmetrics__.uncompress=function(Sn){if(typeof Sn!="string")throw new Error("Invalid argument passed to uncompress.");for(var mn,fn,vn,bn,wn={},pn=1,yn=wn,An=[],kn="",xn="",Pn=Sn.length-1,In=1;In<Pn;In+=1)(bn=Sn[In])=="'"?mn?(vn=mn.join(""),mn=void 0):mn=[]:mn?mn.push(bn):bn=="{"?(An.push([yn,vn]),yn={},vn=void 0):bn=="}"?((fn=An.pop())[0][fn[1]]=yn,vn=void 0,yn=fn[0]):bn=="-"?pn=-1:vn===void 0?St.hasOwnProperty(bn)?(kn+=St[bn],vn=parseInt(kn,16)*pn,pn=1,kn=""):kn+=bn:St.hasOwnProperty(bn)?(xn+=St[bn],yn[vn]=parseInt(xn,16)*pn,pn=1,vn=void 0,xn=""):xn+=bn;return wn},un={codePages:["WinAnsiEncoding"],WinAnsiEncoding:on("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},cn={Unicode:{Courier:un,"Courier-Bold":un,"Courier-BoldOblique":un,"Courier-Oblique":un,Helvetica:un,"Helvetica-Bold":un,"Helvetica-BoldOblique":un,"Helvetica-Oblique":un,"Times-Roman":un,"Times-Bold":un,"Times-BoldItalic":un,"Times-Italic":un}},dn={Unicode:{"Courier-Oblique":on("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":on("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":on("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:on("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":on("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":on("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:on("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:on("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":on("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:on("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":on("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":on("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":on("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":on("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};_e.events.push(["addFont",function(Sn){var mn=Sn.font,fn=dn.Unicode[mn.postScriptName];fn&&(mn.metadata.Unicode={},mn.metadata.Unicode.widths=fn.widths,mn.metadata.Unicode.kerning=fn.kerning);var vn=cn.Unicode[mn.postScriptName];vn&&(mn.metadata.Unicode.encoding=vn,mn.encoding=vn.codePages[0])}])}(E.API),function(_e){var e=function(St){for(var en=St.length,tn=new Uint8Array(en),nn=0;nn<en;nn++)tn[nn]=St.charCodeAt(nn);return tn};_e.API.events.push(["addFont",function(St){var en=void 0,tn=St.font,nn=St.instance;if(!tn.isStandardFont){if(nn===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+tn.postScriptName+"').");if(typeof(en=nn.existsFileInVFS(tn.postScriptName)===!1?nn.loadFile(tn.postScriptName):nn.getFileFromVFS(tn.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+tn.postScriptName+"').");(function(rn,on){on=/^\x00\x01\x00\x00/.test(on)?e(on):e(u(on)),rn.metadata=_e.API.TTFFont.open(on),rn.metadata.Unicode=rn.metadata.Unicode||{encoding:{},kerning:{},widths:[]},rn.metadata.glyIdsUsed=[0]})(tn,en)}}])}(E),function(_e){function e(){return(n.canvg?Promise.resolve(n.canvg):__vitePreload(()=>import("./index.es.96283ad3.js"),[])).catch(function(St){return Promise.reject(new Error("Could not load canvg: "+St))}).then(function(St){return St.default?St.default:St})}E.API.addSvgAsImage=function(St,en,tn,nn,rn,on,un,cn){if(isNaN(en)||isNaN(tn))throw a.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(nn)||isNaN(rn))throw a.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var dn=document.createElement("canvas");dn.width=nn,dn.height=rn;var Sn=dn.getContext("2d");Sn.fillStyle="#fff",Sn.fillRect(0,0,dn.width,dn.height);var mn={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},fn=this;return e().then(function(vn){return vn.fromString(Sn,St,mn)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(vn){return vn.render(mn)}).then(function(){fn.addImage(dn.toDataURL("image/jpeg",1),en,tn,nn,rn,un,cn)})}}(),E.API.putTotalPages=function(_e){var e,St=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(_e,"g"),St=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(_e,this.internal.getFont()),"g"),St=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var en=1;en<=this.internal.getNumberOfPages();en++)for(var tn=0;tn<this.internal.pages[en].length;tn++)this.internal.pages[en][tn]=this.internal.pages[en][tn].replace(e,St);return this},E.API.viewerPreferences=function(_e,e){var St;_e=_e||{},e=e||!1;var en,tn,nn,rn={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},on=Object.keys(rn),un=[],cn=0,dn=0,Sn=0;function mn(vn,bn){var wn,pn=!1;for(wn=0;wn<vn.length;wn+=1)vn[wn]===bn&&(pn=!0);return pn}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(rn)),this.internal.viewerpreferences.isSubscribed=!1),St=this.internal.viewerpreferences.configuration,_e==="reset"||e===!0){var fn=on.length;for(Sn=0;Sn<fn;Sn+=1)St[on[Sn]].value=St[on[Sn]].defaultValue,St[on[Sn]].explicitSet=!1}if(_typeof(_e)==="object"){for(tn in _e)if(nn=_e[tn],mn(on,tn)&&nn!==void 0){if(St[tn].type==="boolean"&&typeof nn=="boolean")St[tn].value=nn;else if(St[tn].type==="name"&&mn(St[tn].valueSet,nn))St[tn].value=nn;else if(St[tn].type==="integer"&&Number.isInteger(nn))St[tn].value=nn;else if(St[tn].type==="array"){for(cn=0;cn<nn.length;cn+=1)if(en=!0,nn[cn].length===1&&typeof nn[cn][0]=="number")un.push(String(nn[cn]-1));else if(nn[cn].length>1){for(dn=0;dn<nn[cn].length;dn+=1)typeof nn[cn][dn]!="number"&&(en=!1);en===!0&&un.push([nn[cn][0]-1,nn[cn][1]-1].join(" "))}St[tn].value="["+un.join(" ")+"]"}else St[tn].value=St[tn].defaultValue;St[tn].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var vn,bn=[];for(vn in St)St[vn].explicitSet===!0&&(St[vn].type==="name"?bn.push("/"+vn+" /"+St[vn].value):bn.push("/"+vn+" "+St[vn].value));bn.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+bn.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=St,this},function(_e){var e=function(){var en='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',tn=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),nn=unescape(encodeURIComponent(en)),rn=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),on=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),un=unescape(encodeURIComponent("</x:xmpmeta>")),cn=nn.length+rn.length+on.length+tn.length+un.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+cn+" >>"),this.internal.write("stream"),this.internal.write(tn+nn+rn+on+un),this.internal.write("endstream"),this.internal.write("endobj")},St=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};_e.addMetadata=function(en,tn){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:en,namespaceuri:tn||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",St),this.internal.events.subscribe("postPutResources",e)),this}}(E.API),function(_e){var e=_e.API,St=e.pdfEscape16=function(nn,rn){for(var on,un=rn.metadata.Unicode.widths,cn=["","0","00","000","0000"],dn=[""],Sn=0,mn=nn.length;Sn<mn;++Sn){if(on=rn.metadata.characterToGlyph(nn.charCodeAt(Sn)),rn.metadata.glyIdsUsed.push(on),rn.metadata.toUnicode[on]=nn.charCodeAt(Sn),un.indexOf(on)==-1&&(un.push(on),un.push([parseInt(rn.metadata.widthOfGlyph(on),10)])),on=="0")return dn.join("");on=on.toString(16),dn.push(cn[4-on.length],on)}return dn.join("")},en=function(nn){var rn,on,un,cn,dn,Sn,mn;for(dn=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,un=[],Sn=0,mn=(on=Object.keys(nn).sort(function(fn,vn){return fn-vn})).length;Sn<mn;Sn++)rn=on[Sn],un.length>=100&&(dn+=`
`+un.length+` beginbfchar
`+un.join(`
`)+`
endbfchar`,un=[]),nn[rn]!==void 0&&nn[rn]!==null&&typeof nn[rn].toString=="function"&&(cn=("0000"+nn[rn].toString(16)).slice(-4),rn=("0000"+(+rn).toString(16)).slice(-4),un.push("<"+rn+"><"+cn+">"));return un.length&&(dn+=`
`+un.length+` beginbfchar
`+un.join(`
`)+`
endbfchar
`),dn+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(nn){(function(rn){var on=rn.font,un=rn.out,cn=rn.newObject,dn=rn.putStream;if(on.metadata instanceof _e.API.TTFFont&&on.encoding==="Identity-H"){for(var Sn=on.metadata.Unicode.widths,mn=on.metadata.subset.encode(on.metadata.glyIdsUsed,1),fn="",vn=0;vn<mn.length;vn++)fn+=String.fromCharCode(mn[vn]);var bn=cn();dn({data:fn,addLength1:!0,objectId:bn}),un("endobj");var wn=cn();dn({data:en(on.metadata.toUnicode),addLength1:!0,objectId:wn}),un("endobj");var pn=cn();un("<<"),un("/Type /FontDescriptor"),un("/FontName /"+F(on.fontName)),un("/FontFile2 "+bn+" 0 R"),un("/FontBBox "+_e.API.PDFObject.convert(on.metadata.bbox)),un("/Flags "+on.metadata.flags),un("/StemV "+on.metadata.stemV),un("/ItalicAngle "+on.metadata.italicAngle),un("/Ascent "+on.metadata.ascender),un("/Descent "+on.metadata.decender),un("/CapHeight "+on.metadata.capHeight),un(">>"),un("endobj");var yn=cn();un("<<"),un("/Type /Font"),un("/BaseFont /"+F(on.fontName)),un("/FontDescriptor "+pn+" 0 R"),un("/W "+_e.API.PDFObject.convert(Sn)),un("/CIDToGIDMap /Identity"),un("/DW 1000"),un("/Subtype /CIDFontType2"),un("/CIDSystemInfo"),un("<<"),un("/Supplement 0"),un("/Registry (Adobe)"),un("/Ordering ("+on.encoding+")"),un(">>"),un(">>"),un("endobj"),on.objectNumber=cn(),un("<<"),un("/Type /Font"),un("/Subtype /Type0"),un("/ToUnicode "+wn+" 0 R"),un("/BaseFont /"+F(on.fontName)),un("/Encoding /"+on.encoding),un("/DescendantFonts ["+yn+" 0 R]"),un(">>"),un("endobj"),on.isAlreadyPutted=!0}})(nn)}]),e.events.push(["putFont",function(nn){(function(rn){var on=rn.font,un=rn.out,cn=rn.newObject,dn=rn.putStream;if(on.metadata instanceof _e.API.TTFFont&&on.encoding==="WinAnsiEncoding"){for(var Sn=on.metadata.rawData,mn="",fn=0;fn<Sn.length;fn++)mn+=String.fromCharCode(Sn[fn]);var vn=cn();dn({data:mn,addLength1:!0,objectId:vn}),un("endobj");var bn=cn();dn({data:en(on.metadata.toUnicode),addLength1:!0,objectId:bn}),un("endobj");var wn=cn();un("<<"),un("/Descent "+on.metadata.decender),un("/CapHeight "+on.metadata.capHeight),un("/StemV "+on.metadata.stemV),un("/Type /FontDescriptor"),un("/FontFile2 "+vn+" 0 R"),un("/Flags 96"),un("/FontBBox "+_e.API.PDFObject.convert(on.metadata.bbox)),un("/FontName /"+F(on.fontName)),un("/ItalicAngle "+on.metadata.italicAngle),un("/Ascent "+on.metadata.ascender),un(">>"),un("endobj"),on.objectNumber=cn();for(var pn=0;pn<on.metadata.hmtx.widths.length;pn++)on.metadata.hmtx.widths[pn]=parseInt(on.metadata.hmtx.widths[pn]*(1e3/on.metadata.head.unitsPerEm));un("<</Subtype/TrueType/Type/Font/ToUnicode "+bn+" 0 R/BaseFont/"+F(on.fontName)+"/FontDescriptor "+wn+" 0 R/Encoding/"+on.encoding+" /FirstChar 29 /LastChar 255 /Widths "+_e.API.PDFObject.convert(on.metadata.hmtx.widths)+">>"),un("endobj"),on.isAlreadyPutted=!0}})(nn)}]);var tn=function(nn){var rn,on=nn.text||"",un=nn.x,cn=nn.y,dn=nn.options||{},Sn=nn.mutex||{},mn=Sn.pdfEscape,fn=Sn.activeFontKey,vn=Sn.fonts,bn=fn,wn="",pn=0,yn="",An=vn[bn].encoding;if(vn[bn].encoding!=="Identity-H")return{text:on,x:un,y:cn,options:dn,mutex:Sn};for(yn=on,bn=fn,Array.isArray(on)&&(yn=on[0]),pn=0;pn<yn.length;pn+=1)vn[bn].metadata.hasOwnProperty("cmap")&&(rn=vn[bn].metadata.cmap.unicode.codeMap[yn[pn].charCodeAt(0)]),rn||yn[pn].charCodeAt(0)<256&&vn[bn].metadata.hasOwnProperty("Unicode")?wn+=yn[pn]:wn+="";var kn="";return parseInt(bn.slice(1))<14||An==="WinAnsiEncoding"?kn=mn(wn,bn).split("").map(function(xn){return xn.charCodeAt(0).toString(16)}).join(""):An==="Identity-H"&&(kn=St(wn,vn[bn])),Sn.isHex=!0,{text:kn,x:un,y:cn,options:dn,mutex:Sn}};e.events.push(["postProcessText",function(nn){var rn=nn.text||"",on=[],un={text:rn,x:nn.x,y:nn.y,options:nn.options,mutex:nn.mutex};if(Array.isArray(rn)){var cn=0;for(cn=0;cn<rn.length;cn+=1)Array.isArray(rn[cn])&&rn[cn].length===3?on.push([tn(Object.assign({},un,{text:rn[cn][0]})).text,rn[cn][1],rn[cn][2]]):on.push(tn(Object.assign({},un,{text:rn[cn]})).text);nn.text=on}else nn.text=tn(Object.assign({},un,{text:rn})).text}])}(E),function(_e){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};_e.existsFileInVFS=function(St){return e.call(this),this.internal.vFS[St]!==void 0},_e.addFileToVFS=function(St,en){return e.call(this),this.internal.vFS[St]=en,this},_e.getFileFromVFS=function(St){return e.call(this),this.internal.vFS[St]!==void 0?this.internal.vFS[St]:null}}(E.API),function(_e){_e.__bidiEngine__=_e.prototype.__bidiEngine__=function(en){var tn,nn,rn,on,un,cn,dn,Sn=e,mn=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],fn=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],vn={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},bn={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},wn=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],pn=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),yn=!1,An=0;this.__bidiEngine__={};var kn=function(Mn){var Gn=Mn.charCodeAt(),er=Gn>>8,Qn=bn[er];return Qn!==void 0?Sn[256*Qn+(255&Gn)]:er===252||er===253?"AL":pn.test(er)?"L":er===8?"R":"N"},xn=function(Mn){for(var Gn,er=0;er<Mn.length;er++){if((Gn=kn(Mn.charAt(er)))==="L")return!1;if(Gn==="R")return!0}return!1},Pn=function(Mn,Gn,er,Qn){var ar,tr,or,Yn,ur=Gn[Qn];switch(ur){case"L":case"R":yn=!1;break;case"N":case"AN":break;case"EN":yn&&(ur="AN");break;case"AL":yn=!0,ur="R";break;case"WS":ur="N";break;case"CS":Qn<1||Qn+1>=Gn.length||(ar=er[Qn-1])!=="EN"&&ar!=="AN"||(tr=Gn[Qn+1])!=="EN"&&tr!=="AN"?ur="N":yn&&(tr="AN"),ur=tr===ar?tr:"N";break;case"ES":ur=(ar=Qn>0?er[Qn-1]:"B")==="EN"&&Qn+1<Gn.length&&Gn[Qn+1]==="EN"?"EN":"N";break;case"ET":if(Qn>0&&er[Qn-1]==="EN"){ur="EN";break}if(yn){ur="N";break}for(or=Qn+1,Yn=Gn.length;or<Yn&&Gn[or]==="ET";)or++;ur=or<Yn&&Gn[or]==="EN"?"EN":"N";break;case"NSM":if(rn&&!on){for(Yn=Gn.length,or=Qn+1;or<Yn&&Gn[or]==="NSM";)or++;if(or<Yn){var pr=Mn[Qn],Lr=pr>=1425&&pr<=2303||pr===64286;if(ar=Gn[or],Lr&&(ar==="R"||ar==="AL")){ur="R";break}}}ur=Qn<1||(ar=Gn[Qn-1])==="B"?"N":er[Qn-1];break;case"B":yn=!1,tn=!0,ur=An;break;case"S":nn=!0,ur="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":yn=!1;break;case"BN":ur="N"}return ur},In=function(Mn,Gn,er){var Qn=Mn.split("");return er&&On(Qn,er,{hiLevel:An}),Qn.reverse(),Gn&&Gn.reverse(),Qn.join("")},On=function(Mn,Gn,er){var Qn,ar,tr,or,Yn,ur=-1,pr=Mn.length,Lr=0,Fn=[],Rn=An?fn:mn,Tn=[];for(yn=!1,tn=!1,nn=!1,ar=0;ar<pr;ar++)Tn[ar]=kn(Mn[ar]);for(tr=0;tr<pr;tr++){if(Yn=Lr,Fn[tr]=Pn(Mn,Tn,Fn,tr),Qn=240&(Lr=Rn[Yn][vn[Fn[tr]]]),Lr&=15,Gn[tr]=or=Rn[Lr][5],Qn>0)if(Qn===16){for(ar=ur;ar<tr;ar++)Gn[ar]=1;ur=-1}else ur=-1;if(Rn[Lr][6])ur===-1&&(ur=tr);else if(ur>-1){for(ar=ur;ar<tr;ar++)Gn[ar]=or;ur=-1}Tn[tr]==="B"&&(Gn[tr]=0),er.hiLevel|=or}nn&&function(Bn,Hn,Kn){for(var nr=0;nr<Kn;nr++)if(Bn[nr]==="S"){Hn[nr]=An;for(var ir=nr-1;ir>=0&&Bn[ir]==="WS";ir--)Hn[ir]=An}}(Tn,Gn,pr)},Wn=function(Mn,Gn,er,Qn,ar){if(!(ar.hiLevel<Mn)){if(Mn===1&&An===1&&!tn)return Gn.reverse(),void(er&&er.reverse());for(var tr,or,Yn,ur,pr=Gn.length,Lr=0;Lr<pr;){if(Qn[Lr]>=Mn){for(Yn=Lr+1;Yn<pr&&Qn[Yn]>=Mn;)Yn++;for(ur=Lr,or=Yn-1;ur<or;ur++,or--)tr=Gn[ur],Gn[ur]=Gn[or],Gn[or]=tr,er&&(tr=er[ur],er[ur]=er[or],er[or]=tr);Lr=Yn}Lr++}}},zn=function(Mn,Gn,er){var Qn=Mn.split(""),ar={hiLevel:An};return er||(er=[]),On(Qn,er,ar),function(tr,or,Yn){if(Yn.hiLevel!==0&&dn)for(var ur,pr=0;pr<tr.length;pr++)or[pr]===1&&(ur=wn.indexOf(tr[pr]))>=0&&(tr[pr]=wn[ur+1])}(Qn,er,ar),Wn(2,Qn,Gn,er,ar),Wn(1,Qn,Gn,er,ar),Qn.join("")};return this.__bidiEngine__.doBidiReorder=function(Mn,Gn,er){if(function(ar,tr){if(tr)for(var or=0;or<ar.length;or++)tr[or]=or;on===void 0&&(on=xn(ar)),cn===void 0&&(cn=xn(ar))}(Mn,Gn),rn||!un||cn)if(rn&&un&&on^cn)An=on?1:0,Mn=In(Mn,Gn,er);else if(!rn&&un&&cn)An=on?1:0,Mn=zn(Mn,Gn,er),Mn=In(Mn,Gn);else if(!rn||on||un||cn){if(rn&&!un&&on^cn)Mn=In(Mn,Gn),on?(An=0,Mn=zn(Mn,Gn,er)):(An=1,Mn=zn(Mn,Gn,er),Mn=In(Mn,Gn));else if(rn&&on&&!un&&cn)An=1,Mn=zn(Mn,Gn,er),Mn=In(Mn,Gn);else if(!rn&&!un&&on^cn){var Qn=dn;on?(An=1,Mn=zn(Mn,Gn,er),An=0,dn=!1,Mn=zn(Mn,Gn,er),dn=Qn):(An=0,Mn=zn(Mn,Gn,er),Mn=In(Mn,Gn),An=1,dn=!1,Mn=zn(Mn,Gn,er),dn=Qn,Mn=In(Mn,Gn))}}else An=0,Mn=zn(Mn,Gn,er);else An=on?1:0,Mn=zn(Mn,Gn,er);return Mn},this.__bidiEngine__.setOptions=function(Mn){Mn&&(rn=Mn.isInputVisual,un=Mn.isOutputVisual,on=Mn.isInputRtl,cn=Mn.isOutputRtl,dn=Mn.isSymmetricSwapping)},this.__bidiEngine__.setOptions(en),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],St=new _e.__bidiEngine__({isInputVisual:!0});_e.API.events.push(["postProcessText",function(en){var tn=en.text,nn=(en.x,en.y,en.options||{}),rn=(en.mutex,nn.lang,[]);if(nn.isInputVisual=typeof nn.isInputVisual!="boolean"||nn.isInputVisual,St.setOptions(nn),Object.prototype.toString.call(tn)==="[object Array]"){var on=0;for(rn=[],on=0;on<tn.length;on+=1)Object.prototype.toString.call(tn[on])==="[object Array]"?rn.push([St.doBidiReorder(tn[on][0]),tn[on][1],tn[on][2]]):rn.push([St.doBidiReorder(tn[on])]);en.text=rn}else en.text=St.doBidiReorder(tn);St.setOptions({isInputVisual:!0})}])}(E),E.API.TTFFont=function(){function _e(e){var St;if(this.rawData=e,St=this.contents=new ne(e),this.contents.pos=4,St.readString(4)==="ttcf")throw new Error("TTCF not supported.");St.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return _e.open=function(e){return new _e(e)},_e.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se(this),this.name=new pe(this),this.cmap=new ue(this),this.toUnicode={},this.hhea=new he(this),this.maxp=new ge(this),this.hmtx=new me(this),this.post=new fe(this),this.os2=new le(this),this.loca=new Ne(this),this.glyf=new be(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},_e.prototype.registerTTF=function(){var e,St,en,tn,nn;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var rn,on,un,cn;for(cn=[],rn=0,on=(un=this.bbox).length;rn<on;rn++)e=un[rn],cn.push(Math.round(e*this.scaleFactor));return cn}.call(this),this.stemV=0,this.post.exists?(en=255&(tn=this.post.italic_angle),(32768&(St=tn>>16))!=0&&(St=-(1+(65535^St))),this.italicAngle=+(St+"."+en)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(nn=this.familyClass)===1||nn===2||nn===3||nn===4||nn===5||nn===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},_e.prototype.characterToGlyph=function(e){var St;return((St=this.cmap.unicode)!=null?St.codeMap[e]:void 0)||0},_e.prototype.widthOfGlyph=function(e){var St;return St=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*St},_e.prototype.widthOfString=function(e,St,en){var tn,nn,rn,on;for(rn=0,nn=0,on=(e=""+e).length;0<=on?nn<on:nn>on;nn=0<=on?++nn:--nn)tn=e.charCodeAt(nn),rn+=this.widthOfGlyph(this.characterToGlyph(tn))+en*(1e3/St)||0;return rn*(St/1e3)},_e.prototype.lineHeight=function(e,St){var en;return St==null&&(St=!1),en=St?this.lineGap:0,(this.ascender+en-this.decender)/1e3*e},_e}();var re,ne=function(){function _e(e){this.data=e!=null?e:[],this.pos=0,this.length=this.data.length}return _e.prototype.readByte=function(){return this.data[this.pos++]},_e.prototype.writeByte=function(e){return this.data[this.pos++]=e},_e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},_e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},_e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},_e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},_e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},_e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},_e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},_e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},_e.prototype.readString=function(e){var St,en;for(en=[],St=0;0<=e?St<e:St>e;St=0<=e?++St:--St)en[St]=String.fromCharCode(this.readByte());return en.join("")},_e.prototype.writeString=function(e){var St,en,tn;for(tn=[],St=0,en=e.length;0<=en?St<en:St>en;St=0<=en?++St:--St)tn.push(this.writeByte(e.charCodeAt(St)));return tn},_e.prototype.readShort=function(){return this.readInt16()},_e.prototype.writeShort=function(e){return this.writeInt16(e)},_e.prototype.readLongLong=function(){var e,St,en,tn,nn,rn,on,un;return e=this.readByte(),St=this.readByte(),en=this.readByte(),tn=this.readByte(),nn=this.readByte(),rn=this.readByte(),on=this.readByte(),un=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^St)+1099511627776*(255^en)+4294967296*(255^tn)+16777216*(255^nn)+65536*(255^rn)+256*(255^on)+(255^un)+1):72057594037927940*e+281474976710656*St+1099511627776*en+4294967296*tn+16777216*nn+65536*rn+256*on+un},_e.prototype.writeLongLong=function(e){var St,en;return St=Math.floor(e/4294967296),en=4294967295&e,this.writeByte(St>>24&255),this.writeByte(St>>16&255),this.writeByte(St>>8&255),this.writeByte(255&St),this.writeByte(en>>24&255),this.writeByte(en>>16&255),this.writeByte(en>>8&255),this.writeByte(255&en)},_e.prototype.readInt=function(){return this.readInt32()},_e.prototype.writeInt=function(e){return this.writeInt32(e)},_e.prototype.read=function(e){var St,en;for(St=[],en=0;0<=e?en<e:en>e;en=0<=e?++en:--en)St.push(this.readByte());return St},_e.prototype.write=function(e){var St,en,tn,nn;for(nn=[],en=0,tn=e.length;en<tn;en++)St=e[en],nn.push(this.writeByte(St));return nn},_e}(),ie=function(){var _e;function e(St){var en,tn,nn;for(this.scalarType=St.readInt(),this.tableCount=St.readShort(),this.searchRange=St.readShort(),this.entrySelector=St.readShort(),this.rangeShift=St.readShort(),this.tables={},tn=0,nn=this.tableCount;0<=nn?tn<nn:tn>nn;tn=0<=nn?++tn:--tn)en={tag:St.readString(4),checksum:St.readInt(),offset:St.readInt(),length:St.readInt()},this.tables[en.tag]=en}return e.prototype.encode=function(St){var en,tn,nn,rn,on,un,cn,dn,Sn,mn,fn,vn,bn;for(bn in fn=Object.keys(St).length,un=Math.log(2),Sn=16*Math.floor(Math.log(fn)/un),rn=Math.floor(Sn/un),dn=16*fn-Sn,(tn=new ne).writeInt(this.scalarType),tn.writeShort(fn),tn.writeShort(Sn),tn.writeShort(rn),tn.writeShort(dn),nn=16*fn,cn=tn.pos+nn,on=null,vn=[],St)for(mn=St[bn],tn.writeString(bn),tn.writeInt(_e(mn)),tn.writeInt(cn),tn.writeInt(mn.length),vn=vn.concat(mn),bn==="head"&&(on=cn),cn+=mn.length;cn%4;)vn.push(0),cn++;return tn.write(vn),en=2981146554-_e(tn.data),tn.pos=on+8,tn.writeUInt32(en),tn.data},_e=function(St){var en,tn,nn,rn;for(St=ve.call(St);St.length%4;)St.push(0);for(nn=new ne(St),tn=0,en=0,rn=St.length;en<rn;en=en+=4)tn+=nn.readUInt32();return 4294967295&tn},e}(),ae={}.hasOwnProperty,oe=function(_e,e){for(var St in e)ae.call(e,St)&&(_e[St]=e[St]);function en(){this.constructor=_e}return en.prototype=e.prototype,_e.prototype=new en,_e.__super__=e.prototype,_e};re=function(){function _e(e){var St;this.file=e,St=this.file.directory.tables[this.tag],this.exists=!!St,St&&(this.offset=St.offset,this.length=St.length,this.parse(this.file.contents))}return _e.prototype.parse=function(){},_e.prototype.encode=function(){},_e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},_e}();var se=function(_e){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="head",e.prototype.parse=function(St){return St.pos=this.offset,this.version=St.readInt(),this.revision=St.readInt(),this.checkSumAdjustment=St.readInt(),this.magicNumber=St.readInt(),this.flags=St.readShort(),this.unitsPerEm=St.readShort(),this.created=St.readLongLong(),this.modified=St.readLongLong(),this.xMin=St.readShort(),this.yMin=St.readShort(),this.xMax=St.readShort(),this.yMax=St.readShort(),this.macStyle=St.readShort(),this.lowestRecPPEM=St.readShort(),this.fontDirectionHint=St.readShort(),this.indexToLocFormat=St.readShort(),this.glyphDataFormat=St.readShort()},e.prototype.encode=function(St){var en;return(en=new ne).writeInt(this.version),en.writeInt(this.revision),en.writeInt(this.checkSumAdjustment),en.writeInt(this.magicNumber),en.writeShort(this.flags),en.writeShort(this.unitsPerEm),en.writeLongLong(this.created),en.writeLongLong(this.modified),en.writeShort(this.xMin),en.writeShort(this.yMin),en.writeShort(this.xMax),en.writeShort(this.yMax),en.writeShort(this.macStyle),en.writeShort(this.lowestRecPPEM),en.writeShort(this.fontDirectionHint),en.writeShort(St),en.writeShort(this.glyphDataFormat),en.data},e}(),ce=function(){function _e(e,St){var en,tn,nn,rn,on,un,cn,dn,Sn,mn,fn,vn,bn,wn,pn,yn,An;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=St+e.readInt(),Sn=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(un=0;un<256;++un)this.codeMap[un]=e.readByte();break;case 4:for(fn=e.readUInt16(),mn=fn/2,e.pos+=6,nn=function(){var kn,xn;for(xn=[],un=kn=0;0<=mn?kn<mn:kn>mn;un=0<=mn?++kn:--kn)xn.push(e.readUInt16());return xn}(),e.pos+=2,bn=function(){var kn,xn;for(xn=[],un=kn=0;0<=mn?kn<mn:kn>mn;un=0<=mn?++kn:--kn)xn.push(e.readUInt16());return xn}(),cn=function(){var kn,xn;for(xn=[],un=kn=0;0<=mn?kn<mn:kn>mn;un=0<=mn?++kn:--kn)xn.push(e.readUInt16());return xn}(),dn=function(){var kn,xn;for(xn=[],un=kn=0;0<=mn?kn<mn:kn>mn;un=0<=mn?++kn:--kn)xn.push(e.readUInt16());return xn}(),tn=(this.length-e.pos+this.offset)/2,on=function(){var kn,xn;for(xn=[],un=kn=0;0<=tn?kn<tn:kn>tn;un=0<=tn?++kn:--kn)xn.push(e.readUInt16());return xn}(),un=pn=0,An=nn.length;pn<An;un=++pn)for(wn=nn[un],en=yn=vn=bn[un];vn<=wn?yn<=wn:yn>=wn;en=vn<=wn?++yn:--yn)dn[un]===0?rn=en+cn[un]:(rn=on[dn[un]/2+(en-vn)-(mn-un)]||0)!==0&&(rn+=cn[un]),this.codeMap[en]=65535&rn}e.pos=Sn}return _e.encode=function(e,St){var en,tn,nn,rn,on,un,cn,dn,Sn,mn,fn,vn,bn,wn,pn,yn,An,kn,xn,Pn,In,On,Wn,zn,Mn,Gn,er,Qn,ar,tr,or,Yn,ur,pr,Lr,Fn,Rn,Tn,Bn,Hn,Kn,nr,ir,_r,Cr,br;switch(Qn=new ne,rn=Object.keys(e).sort(function(xr,Un){return xr-Un}),St){case"macroman":for(bn=0,wn=function(){var xr=[];for(vn=0;vn<256;++vn)xr.push(0);return xr}(),yn={0:0},nn={},ar=0,ur=rn.length;ar<ur;ar++)yn[ir=e[tn=rn[ar]]]==null&&(yn[ir]=++bn),nn[tn]={old:e[tn],new:yn[e[tn]]},wn[tn]=yn[e[tn]];return Qn.writeUInt16(1),Qn.writeUInt16(0),Qn.writeUInt32(12),Qn.writeUInt16(0),Qn.writeUInt16(262),Qn.writeUInt16(0),Qn.write(wn),{charMap:nn,subtable:Qn.data,maxGlyphID:bn+1};case"unicode":for(Gn=[],Sn=[],An=0,yn={},en={},pn=cn=null,tr=0,pr=rn.length;tr<pr;tr++)yn[xn=e[tn=rn[tr]]]==null&&(yn[xn]=++An),en[tn]={old:xn,new:yn[xn]},on=yn[xn]-tn,pn!=null&&on===cn||(pn&&Sn.push(pn),Gn.push(tn),cn=on),pn=tn;for(pn&&Sn.push(pn),Sn.push(65535),Gn.push(65535),zn=2*(Wn=Gn.length),On=2*Math.pow(Math.log(Wn)/Math.LN2,2),mn=Math.log(On/2)/Math.LN2,In=2*Wn-On,un=[],Pn=[],fn=[],vn=or=0,Lr=Gn.length;or<Lr;vn=++or){if(Mn=Gn[vn],dn=Sn[vn],Mn===65535){un.push(0),Pn.push(0);break}if(Mn-(er=en[Mn].new)>=32768)for(un.push(0),Pn.push(2*(fn.length+Wn-vn)),tn=Yn=Mn;Mn<=dn?Yn<=dn:Yn>=dn;tn=Mn<=dn?++Yn:--Yn)fn.push(en[tn].new);else un.push(er-Mn),Pn.push(0)}for(Qn.writeUInt16(3),Qn.writeUInt16(1),Qn.writeUInt32(12),Qn.writeUInt16(4),Qn.writeUInt16(16+8*Wn+2*fn.length),Qn.writeUInt16(0),Qn.writeUInt16(zn),Qn.writeUInt16(On),Qn.writeUInt16(mn),Qn.writeUInt16(In),Kn=0,Fn=Sn.length;Kn<Fn;Kn++)tn=Sn[Kn],Qn.writeUInt16(tn);for(Qn.writeUInt16(0),nr=0,Rn=Gn.length;nr<Rn;nr++)tn=Gn[nr],Qn.writeUInt16(tn);for(_r=0,Tn=un.length;_r<Tn;_r++)on=un[_r],Qn.writeUInt16(on);for(Cr=0,Bn=Pn.length;Cr<Bn;Cr++)kn=Pn[Cr],Qn.writeUInt16(kn);for(br=0,Hn=fn.length;br<Hn;br++)bn=fn[br],Qn.writeUInt16(bn);return{charMap:en,subtable:Qn.data,maxGlyphID:An+1}}},_e}(),ue=function(_e){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="cmap",e.prototype.parse=function(St){var en,tn,nn;for(St.pos=this.offset,this.version=St.readUInt16(),nn=St.readUInt16(),this.tables=[],this.unicode=null,tn=0;0<=nn?tn<nn:tn>nn;tn=0<=nn?++tn:--tn)en=new ce(St,this.offset),this.tables.push(en),en.isUnicode&&this.unicode==null&&(this.unicode=en);return!0},e.encode=function(St,en){var tn,nn;return en==null&&(en="macroman"),tn=ce.encode(St,en),(nn=new ne).writeUInt16(0),nn.writeUInt16(1),tn.table=nn.data.concat(tn.subtable),tn},e}(),he=function(_e){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="hhea",e.prototype.parse=function(St){return St.pos=this.offset,this.version=St.readInt(),this.ascender=St.readShort(),this.decender=St.readShort(),this.lineGap=St.readShort(),this.advanceWidthMax=St.readShort(),this.minLeftSideBearing=St.readShort(),this.minRightSideBearing=St.readShort(),this.xMaxExtent=St.readShort(),this.caretSlopeRise=St.readShort(),this.caretSlopeRun=St.readShort(),this.caretOffset=St.readShort(),St.pos+=8,this.metricDataFormat=St.readShort(),this.numberOfMetrics=St.readUInt16()},e}(),le=function(_e){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="OS/2",e.prototype.parse=function(St){if(St.pos=this.offset,this.version=St.readUInt16(),this.averageCharWidth=St.readShort(),this.weightClass=St.readUInt16(),this.widthClass=St.readUInt16(),this.type=St.readShort(),this.ySubscriptXSize=St.readShort(),this.ySubscriptYSize=St.readShort(),this.ySubscriptXOffset=St.readShort(),this.ySubscriptYOffset=St.readShort(),this.ySuperscriptXSize=St.readShort(),this.ySuperscriptYSize=St.readShort(),this.ySuperscriptXOffset=St.readShort(),this.ySuperscriptYOffset=St.readShort(),this.yStrikeoutSize=St.readShort(),this.yStrikeoutPosition=St.readShort(),this.familyClass=St.readShort(),this.panose=function(){var en,tn;for(tn=[],en=0;en<10;++en)tn.push(St.readByte());return tn}(),this.charRange=function(){var en,tn;for(tn=[],en=0;en<4;++en)tn.push(St.readInt());return tn}(),this.vendorID=St.readString(4),this.selection=St.readShort(),this.firstCharIndex=St.readShort(),this.lastCharIndex=St.readShort(),this.version>0&&(this.ascent=St.readShort(),this.descent=St.readShort(),this.lineGap=St.readShort(),this.winAscent=St.readShort(),this.winDescent=St.readShort(),this.codePageRange=function(){var en,tn;for(tn=[],en=0;en<2;en=++en)tn.push(St.readInt());return tn}(),this.version>1))return this.xHeight=St.readShort(),this.capHeight=St.readShort(),this.defaultChar=St.readShort(),this.breakChar=St.readShort(),this.maxContext=St.readShort()},e}(),fe=function(_e){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="post",e.prototype.parse=function(St){var en,tn,nn;switch(St.pos=this.offset,this.format=St.readInt(),this.italicAngle=St.readInt(),this.underlinePosition=St.readShort(),this.underlineThickness=St.readShort(),this.isFixedPitch=St.readInt(),this.minMemType42=St.readInt(),this.maxMemType42=St.readInt(),this.minMemType1=St.readInt(),this.maxMemType1=St.readInt(),this.format){case 65536:break;case 131072:var rn;for(tn=St.readUInt16(),this.glyphNameIndex=[],rn=0;0<=tn?rn<tn:rn>tn;rn=0<=tn?++rn:--rn)this.glyphNameIndex.push(St.readUInt16());for(this.names=[],nn=[];St.pos<this.offset+this.length;)en=St.readByte(),nn.push(this.names.push(St.readString(en)));return nn;case 151552:return tn=St.readUInt16(),this.offsets=St.read(tn);case 196608:break;case 262144:return this.map=function(){var on,un,cn;for(cn=[],rn=on=0,un=this.file.maxp.numGlyphs;0<=un?on<un:on>un;rn=0<=un?++on:--on)cn.push(St.readUInt32());return cn}.call(this)}},e}(),de=function(_e,e){this.raw=_e,this.length=_e.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},pe=function(_e){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="name",e.prototype.parse=function(St){var en,tn,nn,rn,on,un,cn,dn,Sn,mn,fn;for(St.pos=this.offset,St.readShort(),en=St.readShort(),un=St.readShort(),tn=[],rn=0;0<=en?rn<en:rn>en;rn=0<=en?++rn:--rn)tn.push({platformID:St.readShort(),encodingID:St.readShort(),languageID:St.readShort(),nameID:St.readShort(),length:St.readShort(),offset:this.offset+un+St.readShort()});for(cn={},rn=Sn=0,mn=tn.length;Sn<mn;rn=++Sn)nn=tn[rn],St.pos=nn.offset,dn=St.readString(nn.length),on=new de(dn,nn),cn[fn=nn.nameID]==null&&(cn[fn]=[]),cn[nn.nameID].push(on);this.strings=cn,this.copyright=cn[0],this.fontFamily=cn[1],this.fontSubfamily=cn[2],this.uniqueSubfamily=cn[3],this.fontName=cn[4],this.version=cn[5];try{this.postscriptName=cn[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=cn[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=cn[7],this.manufacturer=cn[8],this.designer=cn[9],this.description=cn[10],this.vendorUrl=cn[11],this.designerUrl=cn[12],this.license=cn[13],this.licenseUrl=cn[14],this.preferredFamily=cn[15],this.preferredSubfamily=cn[17],this.compatibleFull=cn[18],this.sampleText=cn[19]},e}(),ge=function(_e){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="maxp",e.prototype.parse=function(St){return St.pos=this.offset,this.version=St.readInt(),this.numGlyphs=St.readUInt16(),this.maxPoints=St.readUInt16(),this.maxContours=St.readUInt16(),this.maxCompositePoints=St.readUInt16(),this.maxComponentContours=St.readUInt16(),this.maxZones=St.readUInt16(),this.maxTwilightPoints=St.readUInt16(),this.maxStorage=St.readUInt16(),this.maxFunctionDefs=St.readUInt16(),this.maxInstructionDefs=St.readUInt16(),this.maxStackElements=St.readUInt16(),this.maxSizeOfInstructions=St.readUInt16(),this.maxComponentElements=St.readUInt16(),this.maxComponentDepth=St.readUInt16()},e}(),me=function(_e){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="hmtx",e.prototype.parse=function(St){var en,tn,nn,rn,on,un,cn;for(St.pos=this.offset,this.metrics=[],en=0,un=this.file.hhea.numberOfMetrics;0<=un?en<un:en>un;en=0<=un?++en:--en)this.metrics.push({advance:St.readUInt16(),lsb:St.readInt16()});for(nn=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var dn,Sn;for(Sn=[],en=dn=0;0<=nn?dn<nn:dn>nn;en=0<=nn?++dn:--dn)Sn.push(St.readInt16());return Sn}(),this.widths=function(){var dn,Sn,mn,fn;for(fn=[],dn=0,Sn=(mn=this.metrics).length;dn<Sn;dn++)rn=mn[dn],fn.push(rn.advance);return fn}.call(this),tn=this.widths[this.widths.length-1],cn=[],en=on=0;0<=nn?on<nn:on>nn;en=0<=nn?++on:--on)cn.push(this.widths.push(tn));return cn},e.prototype.forGlyph=function(St){return St in this.metrics?this.metrics[St]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[St-this.metrics.length]}},e}(),ve=[].slice,be=function(_e){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(St){var en,tn,nn,rn,on,un,cn,dn,Sn,mn;return St in this.cache?this.cache[St]:(rn=this.file.loca,en=this.file.contents,tn=rn.indexOf(St),(nn=rn.lengthOf(St))===0?this.cache[St]=null:(en.pos=this.offset+tn,on=(un=new ne(en.read(nn))).readShort(),dn=un.readShort(),mn=un.readShort(),cn=un.readShort(),Sn=un.readShort(),this.cache[St]=on===-1?new we(un,dn,mn,cn,Sn):new ye(un,on,dn,mn,cn,Sn),this.cache[St]))},e.prototype.encode=function(St,en,tn){var nn,rn,on,un,cn;for(on=[],rn=[],un=0,cn=en.length;un<cn;un++)nn=St[en[un]],rn.push(on.length),nn&&(on=on.concat(nn.encode(tn)));return rn.push(on.length),{table:on,offsets:rn}},e}(),ye=function(){function _e(e,St,en,tn,nn,rn){this.raw=e,this.numberOfContours=St,this.xMin=en,this.yMin=tn,this.xMax=nn,this.yMax=rn,this.compound=!1}return _e.prototype.encode=function(){return this.raw.data},_e}(),we=function(){function _e(e,St,en,tn,nn){var rn,on;for(this.raw=e,this.xMin=St,this.yMin=en,this.xMax=tn,this.yMax=nn,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],rn=this.raw;on=rn.readShort(),this.glyphOffsets.push(rn.pos),this.glyphIDs.push(rn.readUInt16()),32&on;)rn.pos+=1&on?4:2,128&on?rn.pos+=8:64&on?rn.pos+=4:8&on&&(rn.pos+=2)}return _e.prototype.encode=function(){var e,St,en;for(St=new ne(ve.call(this.raw.data)),e=0,en=this.glyphIDs.length;e<en;++e)St.pos=this.glyphOffsets[e];return St.data},_e}(),Ne=function(_e){function e(){return e.__super__.constructor.apply(this,arguments)}return oe(e,re),e.prototype.tag="loca",e.prototype.parse=function(St){var en,tn;return St.pos=this.offset,en=this.file.head.indexToLocFormat,this.offsets=en===0?function(){var nn,rn;for(rn=[],tn=0,nn=this.length;tn<nn;tn+=2)rn.push(2*St.readUInt16());return rn}.call(this):function(){var nn,rn;for(rn=[],tn=0,nn=this.length;tn<nn;tn+=4)rn.push(St.readUInt32());return rn}.call(this)},e.prototype.indexOf=function(St){return this.offsets[St]},e.prototype.lengthOf=function(St){return this.offsets[St+1]-this.offsets[St]},e.prototype.encode=function(St,en){for(var tn=new Uint32Array(this.offsets.length),nn=0,rn=0,on=0;on<tn.length;++on)if(tn[on]=nn,rn<en.length&&en[rn]==on){++rn,tn[on]=nn;var un=this.offsets[on],cn=this.offsets[on+1]-un;cn>0&&(nn+=cn)}for(var dn=new Array(4*tn.length),Sn=0;Sn<tn.length;++Sn)dn[4*Sn+3]=255&tn[Sn],dn[4*Sn+2]=(65280&tn[Sn])>>8,dn[4*Sn+1]=(16711680&tn[Sn])>>16,dn[4*Sn]=(4278190080&tn[Sn])>>24;return dn},e}(),Le=function(){function _e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return _e.prototype.generateCmap=function(){var e,St,en,tn,nn;for(St in tn=this.font.cmap.tables[0].codeMap,e={},nn=this.subset)en=nn[St],e[St]=tn[en];return e},_e.prototype.glyphsFor=function(e){var St,en,tn,nn,rn,on,un;for(tn={},rn=0,on=e.length;rn<on;rn++)tn[nn=e[rn]]=this.font.glyf.glyphFor(nn);for(nn in St=[],tn)(en=tn[nn])!=null&&en.compound&&St.push.apply(St,en.glyphIDs);if(St.length>0)for(nn in un=this.glyphsFor(St))en=un[nn],tn[nn]=en;return tn},_e.prototype.encode=function(e,St){var en,tn,nn,rn,on,un,cn,dn,Sn,mn,fn,vn,bn,wn,pn;for(tn in en=ue.encode(this.generateCmap(),"unicode"),rn=this.glyphsFor(e),fn={0:0},pn=en.charMap)fn[(un=pn[tn]).old]=un.new;for(vn in mn=en.maxGlyphID,rn)vn in fn||(fn[vn]=mn++);return dn=function(yn){var An,kn;for(An in kn={},yn)kn[yn[An]]=An;return kn}(fn),Sn=Object.keys(dn).sort(function(yn,An){return yn-An}),bn=function(){var yn,An,kn;for(kn=[],yn=0,An=Sn.length;yn<An;yn++)on=Sn[yn],kn.push(dn[on]);return kn}(),nn=this.font.glyf.encode(rn,bn,fn),cn=this.font.loca.encode(nn.offsets,bn),wn={cmap:this.font.cmap.raw(),glyf:nn.table,loca:cn,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(St)},this.font.os2.exists&&(wn["OS/2"]=this.font.os2.raw()),this.font.directory.encode(wn)},_e}();E.API.PDFObject=function(){var _e;function e(){}return _e=function(St,en){return(Array(en+1).join("0")+St).slice(-en)},e.convert=function(St){var en,tn,nn,rn;if(Array.isArray(St))return"["+function(){var on,un,cn;for(cn=[],on=0,un=St.length;on<un;on++)en=St[on],cn.push(e.convert(en));return cn}().join(" ")+"]";if(typeof St=="string")return"/"+St;if(St!=null&&St.isString)return"("+St+")";if(St instanceof Date)return"(D:"+_e(St.getUTCFullYear(),4)+_e(St.getUTCMonth(),2)+_e(St.getUTCDate(),2)+_e(St.getUTCHours(),2)+_e(St.getUTCMinutes(),2)+_e(St.getUTCSeconds(),2)+"Z)";if({}.toString.call(St)==="[object Object]"){for(tn in nn=["<<"],St)rn=St[tn],nn.push("/"+tn+" "+e.convert(rn));return nn.push(">>"),nn.join(`
`)}return""+St},e}();const fileTobase64=_e=>new Promise((e,St)=>{if(_e){const en=new FileReader;en.addEventListener("load",()=>{typeof en.result=="string"&&e(en.result)}),en.addEventListener("error",St),en.readAsDataURL(_e)}else throw St("file is null")});function commonjsRequire(_e){throw new Error('Could not dynamically require "'+_e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(e,St){module.exports=St()})(globalThis,()=>(()=>{var __webpack_modules__=[,(_e,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.UNSUPPORTED_FEATURES=e.TextRenderingMode=e.StreamType=e.RenderingIntentFlag=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FontType=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMode=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.arrayByteLength=Dn,e.arraysToBytes=lr,e.assert=Fn,e.bytesToString=Un,e.createPromiseCapability=io,e.createValidAbsoluteUrl=Tn,e.escapeString=Er,e.getModificationDate=Bs,e.getVerbosityLevel=Yn,e.info=ur,e.isArrayBuffer=ys,e.isArrayEqual=ws,e.isAscii=zr,e.objectFromMap=Ar,e.objectSize=hr,e.setVerbosityLevel=or,e.shadow=Bn,e.string32=cr,e.stringToBytes=qn,e.stringToPDFString=ns,e.stringToUTF16BEString=rs,e.stringToUTF8String=Qr,e.unreachable=Lr,e.utf8StringToString=ks,e.warn=pr;const St=[1,0,0,1,0,0];e.IDENTITY_MATRIX=St;const en=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=en;const tn=1.35;e.LINE_FACTOR=tn;const nn=.35;e.LINE_DESCENT_FACTOR=nn;const rn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=rn;const on={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=on;const un="pdfjs_internal_editor_";e.AnnotationEditorPrefix=un;const cn={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};e.AnnotationEditorType=cn;const dn={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};e.AnnotationEditorParamsType=dn;const Sn={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=Sn;const mn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=mn;const fn={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=fn;const vn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=vn;const bn={MARKED:"Marked",REVIEW:"Review"};e.AnnotationStateModelType=bn;const wn={MARKED:"Marked",UNMARKED:"Unmarked"};e.AnnotationMarkedState=wn;const pn={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};e.AnnotationReviewState=pn;const yn={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=yn;const An={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=An;const kn={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=kn;const xn={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=xn;const Pn={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=Pn;const In={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=In;const On={O:"PageOpen",C:"PageClose"};e.PageActionEventType=On;const Wn={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};e.StreamType=Wn;const zn={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};e.FontType=zn;const Mn={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=Mn;const Gn={NONE:0,BINARY:1};e.CMapCompressionType=Gn;const er={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=er;const Qn={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};e.UNSUPPORTED_FEATURES=Qn;const ar={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=ar;let tr=Mn.WARNINGS;function or(yr){Number.isInteger(yr)&&(tr=yr)}function Yn(){return tr}function ur(yr){tr>=Mn.INFOS&&console.log(`Info: ${yr}`)}function pr(yr){tr>=Mn.WARNINGS&&console.log(`Warning: ${yr}`)}function Lr(yr){throw new Error(yr)}function Fn(yr,gr){yr||Lr(gr)}function Rn(yr){if(!yr)return!1;switch(yr.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Tn(yr,gr=null,wr=null){if(!yr)return null;try{if(wr&&typeof yr=="string"){if(wr.addDefaultProtocol&&yr.startsWith("www.")){const ls=yr.match(/\./g);ls&&ls.length>=2&&(yr=`http://${yr}`)}if(wr.tryConvertEncoding)try{yr=Qr(yr)}catch{}}const Kr=gr?new URL(yr,gr):new URL(yr);if(Rn(Kr))return Kr}catch{}return null}function Bn(yr,gr,wr){return Object.defineProperty(yr,gr,{value:wr,enumerable:!0,configurable:!0,writable:!1}),wr}const Hn=function(){function gr(wr,Kr){this.constructor===gr&&Lr("Cannot initialize BaseException."),this.message=wr,this.name=Kr}return gr.prototype=new Error,gr.constructor=gr,gr}();e.BaseException=Hn;class Kn extends Hn{constructor(gr,wr){super(gr,"PasswordException"),this.code=wr}}e.PasswordException=Kn;class nr extends Hn{constructor(gr,wr){super(gr,"UnknownErrorException"),this.details=wr}}e.UnknownErrorException=nr;class ir extends Hn{constructor(gr){super(gr,"InvalidPDFException")}}e.InvalidPDFException=ir;class _r extends Hn{constructor(gr){super(gr,"MissingPDFException")}}e.MissingPDFException=_r;class Cr extends Hn{constructor(gr,wr){super(gr,"UnexpectedResponseException"),this.status=wr}}e.UnexpectedResponseException=Cr;class br extends Hn{constructor(gr){super(gr,"FormatError")}}e.FormatError=br;class xr extends Hn{constructor(gr){super(gr,"AbortException")}}e.AbortException=xr;function Un(yr){(typeof yr!="object"||yr===null||yr.length===void 0)&&Lr("Invalid argument for bytesToString");const gr=yr.length,wr=8192;if(gr<wr)return String.fromCharCode.apply(null,yr);const Kr=[];for(let ls=0;ls<gr;ls+=wr){const bs=Math.min(ls+wr,gr),as=yr.subarray(ls,bs);Kr.push(String.fromCharCode.apply(null,as))}return Kr.join("")}function qn(yr){typeof yr!="string"&&Lr("Invalid argument for stringToBytes");const gr=yr.length,wr=new Uint8Array(gr);for(let Kr=0;Kr<gr;++Kr)wr[Kr]=yr.charCodeAt(Kr)&255;return wr}function Dn(yr){if(yr.length!==void 0)return yr.length;if(yr.byteLength!==void 0)return yr.byteLength;Lr("Invalid argument for arrayByteLength")}function lr(yr){const gr=yr.length;if(gr===1&&yr[0]instanceof Uint8Array)return yr[0];let wr=0;for(let bs=0;bs<gr;bs++)wr+=Dn(yr[bs]);let Kr=0;const ls=new Uint8Array(wr);for(let bs=0;bs<gr;bs++){let as=yr[bs];as instanceof Uint8Array||(typeof as=="string"?as=qn(as):as=new Uint8Array(as));const ss=as.byteLength;ls.set(as,Kr),Kr+=ss}return ls}function cr(yr){return String.fromCharCode(yr>>24&255,yr>>16&255,yr>>8&255,yr&255)}function hr(yr){return Object.keys(yr).length}function Ar(yr){const gr=Object.create(null);for(const[wr,Kr]of yr)gr[wr]=Kr;return gr}function Fr(){const yr=new Uint8Array(4);return yr[0]=1,new Uint32Array(yr.buffer,0,1)[0]===1}function Pr(){try{return new Function(""),!0}catch{return!1}}class Gr{static get isLittleEndian(){return Bn(this,"isLittleEndian",Fr())}static get isEvalSupported(){return Bn(this,"isEvalSupported",Pr())}static get isOffscreenCanvasSupported(){return Bn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}e.FeatureTest=Gr;const Sr=[...Array(256).keys()].map(yr=>yr.toString(16).padStart(2,"0"));class Wr{static makeHexColor(gr,wr,Kr){return`#${Sr[gr]}${Sr[wr]}${Sr[Kr]}`}static scaleMinMax(gr,wr){let Kr;gr[0]?(gr[0]<0&&(Kr=wr[0],wr[0]=wr[1],wr[1]=Kr),wr[0]*=gr[0],wr[1]*=gr[0],gr[3]<0&&(Kr=wr[2],wr[2]=wr[3],wr[3]=Kr),wr[2]*=gr[3],wr[3]*=gr[3]):(Kr=wr[0],wr[0]=wr[2],wr[2]=Kr,Kr=wr[1],wr[1]=wr[3],wr[3]=Kr,gr[1]<0&&(Kr=wr[2],wr[2]=wr[3],wr[3]=Kr),wr[2]*=gr[1],wr[3]*=gr[1],gr[2]<0&&(Kr=wr[0],wr[0]=wr[1],wr[1]=Kr),wr[0]*=gr[2],wr[1]*=gr[2]),wr[0]+=gr[4],wr[1]+=gr[4],wr[2]+=gr[5],wr[3]+=gr[5]}static transform(gr,wr){return[gr[0]*wr[0]+gr[2]*wr[1],gr[1]*wr[0]+gr[3]*wr[1],gr[0]*wr[2]+gr[2]*wr[3],gr[1]*wr[2]+gr[3]*wr[3],gr[0]*wr[4]+gr[2]*wr[5]+gr[4],gr[1]*wr[4]+gr[3]*wr[5]+gr[5]]}static applyTransform(gr,wr){const Kr=gr[0]*wr[0]+gr[1]*wr[2]+wr[4],ls=gr[0]*wr[1]+gr[1]*wr[3]+wr[5];return[Kr,ls]}static applyInverseTransform(gr,wr){const Kr=wr[0]*wr[3]-wr[1]*wr[2],ls=(gr[0]*wr[3]-gr[1]*wr[2]+wr[2]*wr[5]-wr[4]*wr[3])/Kr,bs=(-gr[0]*wr[1]+gr[1]*wr[0]+wr[4]*wr[1]-wr[5]*wr[0])/Kr;return[ls,bs]}static getAxialAlignedBoundingBox(gr,wr){const Kr=Wr.applyTransform(gr,wr),ls=Wr.applyTransform(gr.slice(2,4),wr),bs=Wr.applyTransform([gr[0],gr[3]],wr),as=Wr.applyTransform([gr[2],gr[1]],wr);return[Math.min(Kr[0],ls[0],bs[0],as[0]),Math.min(Kr[1],ls[1],bs[1],as[1]),Math.max(Kr[0],ls[0],bs[0],as[0]),Math.max(Kr[1],ls[1],bs[1],as[1])]}static inverseTransform(gr){const wr=gr[0]*gr[3]-gr[1]*gr[2];return[gr[3]/wr,-gr[1]/wr,-gr[2]/wr,gr[0]/wr,(gr[2]*gr[5]-gr[4]*gr[3])/wr,(gr[4]*gr[1]-gr[5]*gr[0])/wr]}static singularValueDecompose2dScale(gr){const wr=[gr[0],gr[2],gr[1],gr[3]],Kr=gr[0]*wr[0]+gr[1]*wr[2],ls=gr[0]*wr[1]+gr[1]*wr[3],bs=gr[2]*wr[0]+gr[3]*wr[2],as=gr[2]*wr[1]+gr[3]*wr[3],ss=(Kr+as)/2,_s=Math.sqrt((Kr+as)**2-4*(Kr*as-bs*ls))/2,Ms=ss+_s||1,Ps=ss-_s||1;return[Math.sqrt(Ms),Math.sqrt(Ps)]}static normalizeRect(gr){const wr=gr.slice(0);return gr[0]>gr[2]&&(wr[0]=gr[2],wr[2]=gr[0]),gr[1]>gr[3]&&(wr[1]=gr[3],wr[3]=gr[1]),wr}static intersect(gr,wr){const Kr=Math.max(Math.min(gr[0],gr[2]),Math.min(wr[0],wr[2])),ls=Math.min(Math.max(gr[0],gr[2]),Math.max(wr[0],wr[2]));if(Kr>ls)return null;const bs=Math.max(Math.min(gr[1],gr[3]),Math.min(wr[1],wr[3])),as=Math.min(Math.max(gr[1],gr[3]),Math.max(wr[1],wr[3]));return bs>as?null:[Kr,bs,ls,as]}static bezierBoundingBox(gr,wr,Kr,ls,bs,as,ss,_s){const Ms=[],Ps=[[],[]];let Us,Ns,ms,Os,so,Ys,js,Ks;for(let No=0;No<2;++No){if(No===0?(Ns=6*gr-12*Kr+6*bs,Us=-3*gr+9*Kr-9*bs+3*ss,ms=3*Kr-3*gr):(Ns=6*wr-12*ls+6*as,Us=-3*wr+9*ls-9*as+3*_s,ms=3*ls-3*wr),Math.abs(Us)<1e-12){if(Math.abs(Ns)<1e-12)continue;Os=-ms/Ns,0<Os&&Os<1&&Ms.push(Os);continue}js=Ns*Ns-4*ms*Us,Ks=Math.sqrt(js),!(js<0)&&(so=(-Ns+Ks)/(2*Us),0<so&&so<1&&Ms.push(so),Ys=(-Ns-Ks)/(2*Us),0<Ys&&Ys<1&&Ms.push(Ys))}let co=Ms.length,eo;const Po=co;for(;co--;)Os=Ms[co],eo=1-Os,Ps[0][co]=eo*eo*eo*gr+3*eo*eo*Os*Kr+3*eo*Os*Os*bs+Os*Os*Os*ss,Ps[1][co]=eo*eo*eo*wr+3*eo*eo*Os*ls+3*eo*Os*Os*as+Os*Os*Os*_s;return Ps[0][Po]=gr,Ps[1][Po]=wr,Ps[0][Po+1]=ss,Ps[1][Po+1]=_s,Ps[0].length=Ps[1].length=Po+2,[Math.min(...Ps[0]),Math.min(...Ps[1]),Math.max(...Ps[0]),Math.max(...Ps[1])]}}e.Util=Wr;const Jr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ns(yr){if(yr[0]>="\xEF"){let wr;if(yr[0]==="\xFE"&&yr[1]==="\xFF"?wr="utf-16be":yr[0]==="\xFF"&&yr[1]==="\xFE"?wr="utf-16le":yr[0]==="\xEF"&&yr[1]==="\xBB"&&yr[2]==="\xBF"&&(wr="utf-8"),wr)try{const Kr=new TextDecoder(wr,{fatal:!0}),ls=qn(yr);return Kr.decode(ls)}catch(Kr){pr(`stringToPDFString: "${Kr}".`)}}const gr=[];for(let wr=0,Kr=yr.length;wr<Kr;wr++){const ls=Jr[yr.charCodeAt(wr)];gr.push(ls?String.fromCharCode(ls):yr.charAt(wr))}return gr.join("")}function Er(yr){return yr.replace(/([()\\\n\r])/g,gr=>gr===`
`?"\\n":gr==="\r"?"\\r":`\\${gr}`)}function zr(yr){return/^[\x00-\x7F]*$/.test(yr)}function rs(yr){const gr=["\xFE\xFF"];for(let wr=0,Kr=yr.length;wr<Kr;wr++){const ls=yr.charCodeAt(wr);gr.push(String.fromCharCode(ls>>8&255),String.fromCharCode(ls&255))}return gr.join("")}function Qr(yr){return decodeURIComponent(escape(yr))}function ks(yr){return unescape(encodeURIComponent(yr))}function ys(yr){return typeof yr=="object"&&yr!==null&&yr.byteLength!==void 0}function ws(yr,gr){if(yr.length!==gr.length)return!1;for(let wr=0,Kr=yr.length;wr<Kr;wr++)if(yr[wr]!==gr[wr])return!1;return!0}function Bs(yr=new Date){return[yr.getUTCFullYear().toString(),(yr.getUTCMonth()+1).toString().padStart(2,"0"),yr.getUTCDate().toString().padStart(2,"0"),yr.getUTCHours().toString().padStart(2,"0"),yr.getUTCMinutes().toString().padStart(2,"0"),yr.getUTCSeconds().toString().padStart(2,"0")].join("")}function io(){const yr=Object.create(null);let gr=!1;return Object.defineProperty(yr,"settled",{get(){return gr}}),yr.promise=new Promise(function(wr,Kr){yr.resolve=function(ls){gr=!0,wr(ls)},yr.reject=function(ls){gr=!0,Kr(ls)}}),yr}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var _e,St,en,tn,nn,rn,on,un,cn,dn,Sn,_m,fn,vn;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(12),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:wn,NodeCMapReaderFactory:pn,NodeStandardFontDataFactory:yn}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=wn,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=pn,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=yn}let createPDFNetworkStream;function setPDFNetworkStreamFactory(wn){createPDFNetworkStream=wn}function getDocument(wn){const pn=new PDFDocumentLoadingTask;let yn;if(typeof wn=="string"||wn instanceof URL)yn={url:wn};else if((0,_util.isArrayBuffer)(wn))yn={data:wn};else if(wn instanceof PDFDataRangeTransport)yn={range:wn};else{if(typeof wn!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!wn.url&&!wn.data&&!wn.range)throw new Error("Invalid parameter object: need either .data, .range or .url");yn=wn}const An=Object.create(null);let kn=null,xn=null;for(const In in yn){const On=yn[In];switch(In){case"url":if(typeof window<"u")try{An[In]=new URL(On,window.location).href;continue}catch(Wn){(0,_util.warn)(`Cannot create valid URL: "${Wn}".`)}else if(typeof On=="string"||On instanceof URL){An[In]=On.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":kn=On;continue;case"worker":xn=On;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&On instanceof Buffer)An[In]=new Uint8Array(On);else{if(On instanceof Uint8Array)break;if(typeof On=="string")An[In]=(0,_util.stringToBytes)(On);else if(typeof On=="object"&&On!==null&&!isNaN(On.length))An[In]=new Uint8Array(On);else if((0,_util.isArrayBuffer)(On))An[In]=new Uint8Array(On);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}An[In]=On}if(An.CMapReaderFactory=An.CMapReaderFactory||DefaultCMapReaderFactory,An.StandardFontDataFactory=An.StandardFontDataFactory||DefaultStandardFontDataFactory,An.ignoreErrors=An.stopAtErrors!==!0,An.fontExtraProperties=An.fontExtraProperties===!0,An.pdfBug=An.pdfBug===!0,An.enableXfa=An.enableXfa===!0,(!Number.isInteger(An.rangeChunkSize)||An.rangeChunkSize<1)&&(An.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof An.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(An.docBaseUrl))&&(An.docBaseUrl=null),(!Number.isInteger(An.maxImageSize)||An.maxImageSize<-1)&&(An.maxImageSize=-1),typeof An.cMapUrl!="string"&&(An.cMapUrl=null),typeof An.standardFontDataUrl!="string"&&(An.standardFontDataUrl=null),typeof An.useWorkerFetch!="boolean"&&(An.useWorkerFetch=An.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&An.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof An.isEvalSupported!="boolean"&&(An.isEvalSupported=!0),typeof An.isOffscreenCanvasSupported!="boolean"&&(An.isOffscreenCanvasSupported=!_is_node.isNodeJS),typeof An.disableFontFace!="boolean"&&(An.disableFontFace=_is_node.isNodeJS),typeof An.useSystemFonts!="boolean"&&(An.useSystemFonts=!_is_node.isNodeJS&&!An.disableFontFace),(typeof An.ownerDocument!="object"||An.ownerDocument===null)&&(An.ownerDocument=globalThis.document),typeof An.disableRange!="boolean"&&(An.disableRange=!1),typeof An.disableStream!="boolean"&&(An.disableStream=!1),typeof An.disableAutoFetch!="boolean"&&(An.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(An.verbosity),!xn){const In={verbosity:An.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};xn=In.port?PDFWorker.fromPort(In):new PDFWorker(In),pn._worker=xn}const Pn=pn.docId;return xn.promise.then(function(){if(pn.destroyed)throw new Error("Loading aborted");const In=_fetchDocument(xn,An,kn,Pn),On=new Promise(function(Wn){let zn;kn?zn=new _transport_stream.PDFDataTransportStream({length:An.length,initialData:An.initialData,progressiveDone:An.progressiveDone,contentDispositionFilename:An.contentDispositionFilename,disableRange:An.disableRange,disableStream:An.disableStream},kn):An.data||(zn=createPDFNetworkStream({url:An.url,length:An.length,httpHeaders:An.httpHeaders,withCredentials:An.withCredentials,rangeChunkSize:An.rangeChunkSize,disableRange:An.disableRange,disableStream:An.disableStream})),Wn(zn)});return Promise.all([In,On]).then(function([Wn,zn]){if(pn.destroyed)throw new Error("Loading aborted");const Mn=new _message_handler.MessageHandler(Pn,Wn,xn.port),Gn=new WorkerTransport(Mn,pn,zn,An);pn._transport=Gn,Mn.send("Ready",null)})}).catch(pn._capability.reject),pn}async function _fetchDocument(wn,pn,yn,An){if(wn.destroyed)throw new Error("Worker was destroyed");yn&&(pn.length=yn.length,pn.initialData=yn.initialData,pn.progressiveDone=yn.progressiveDone,pn.contentDispositionFilename=yn.contentDispositionFilename);const kn=await wn.messageHandler.sendWithPromise("GetDocRequest",{docId:An,apiVersion:"3.0.279",data:pn.data,password:pn.password,disableAutoFetch:pn.disableAutoFetch,rangeChunkSize:pn.rangeChunkSize,length:pn.length,docBaseUrl:pn.docBaseUrl,enableXfa:pn.enableXfa,evaluatorOptions:{maxImageSize:pn.maxImageSize,disableFontFace:pn.disableFontFace,ignoreErrors:pn.ignoreErrors,isEvalSupported:pn.isEvalSupported,isOffscreenCanvasSupported:pn.isOffscreenCanvasSupported,fontExtraProperties:pn.fontExtraProperties,useSystemFonts:pn.useSystemFonts,cMapUrl:pn.useWorkerFetch?pn.cMapUrl:null,standardFontDataUrl:pn.useWorkerFetch?pn.standardFontDataUrl:null}});if(pn.data&&(pn.data=null),wn.destroyed)throw new Error("Worker was destroyed");return kn}const e=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${ym(e,_e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var pn;this.destroyed=!0,await((pn=this._transport)==null?void 0:pn.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=e;_e=new WeakMap,Xr(PDFDocumentLoadingTask,_e,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(pn,yn,An=!1,kn=null){this.length=pn,this.initialData=yn,this.progressiveDone=An,this.contentDispositionFilename=kn,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(pn){this._rangeListeners.push(pn)}addProgressListener(pn){this._progressListeners.push(pn)}addProgressiveReadListener(pn){this._progressiveReadListeners.push(pn)}addProgressiveDoneListener(pn){this._progressiveDoneListeners.push(pn)}onDataRange(pn,yn){for(const An of this._rangeListeners)An(pn,yn)}onDataProgress(pn,yn){this._readyCapability.promise.then(()=>{for(const An of this._progressListeners)An(pn,yn)})}onDataProgressiveRead(pn){this._readyCapability.promise.then(()=>{for(const yn of this._progressiveReadListeners)yn(pn)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const pn of this._progressiveDoneListeners)pn()})}transportReady(){this._readyCapability.resolve()}requestDataRange(pn,yn){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(pn,yn){this._pdfInfo=pn,this._transport=yn}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(pn){return this._transport.getPage(pn)}getPageIndex(pn){return this._transport.getPageIndex(pn)}getDestinations(){return this._transport.getDestinations()}getDestination(pn){return this._transport.getDestination(pn)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(pn=!1){return this._transport.startCleanup(pn||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(pn,yn,An,kn,xn=!1){this._pageIndex=pn,this._pageInfo=yn,this._ownerDocument=kn,this._transport=An,this._stats=xn?new _display_utils.StatTimer:null,this._pdfBug=xn,this.commonObjs=An.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:pn,rotation:yn=this.rotate,offsetX:An=0,offsetY:kn=0,dontFlip:xn=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:pn,rotation:yn,offsetX:An,offsetY:kn,dontFlip:xn})}getAnnotations({intent:pn="display"}={}){const yn=this._transport.getRenderingIntent(pn);let An=this._annotationPromises.get(yn.cacheKey);return An||(An=this._transport.getAnnotations(this._pageIndex,yn.renderingIntent),this._annotationPromises.set(yn.cacheKey,An)),An}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var pn;return((pn=this._transport._htmlForXfa)==null?void 0:pn.children[this._pageIndex])||null}render({canvasContext:pn,viewport:yn,intent:An="display",annotationMode:kn=_util.AnnotationMode.ENABLE,transform:xn=null,canvasFactory:Pn=null,background:In=null,optionalContentConfigPromise:On=null,annotationCanvasMap:Wn=null,pageColors:zn=null,printAnnotationStorage:Mn=null}){var ur,pr;(ur=this._stats)==null||ur.time("Overall");const Gn=this._transport.getRenderingIntent(An,kn,Mn);this.pendingCleanup=!1,On||(On=this._transport.getOptionalContentConfig());let er=this._intentStates.get(Gn.cacheKey);er||(er=Object.create(null),this._intentStates.set(Gn.cacheKey,er)),er.streamReaderCancelTimeout&&(clearTimeout(er.streamReaderCancelTimeout),er.streamReaderCancelTimeout=null);const Qn=Pn||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),ar=!!(Gn.renderingIntent&_util.RenderingIntentFlag.PRINT);er.displayReadyCapability||(er.displayReadyCapability=(0,_util.createPromiseCapability)(),er.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(pr=this._stats)==null||pr.time("Page Request"),this._pumpOperatorList(Gn));const tr=Lr=>{var Fn,Rn;er.renderTasks.delete(or),(this.cleanupAfterRender||ar)&&(this.pendingCleanup=!0),this._tryCleanup(),Lr?(or.capability.reject(Lr),this._abortOperatorList({intentState:er,reason:Lr instanceof Error?Lr:new Error(Lr)})):or.capability.resolve(),(Fn=this._stats)==null||Fn.timeEnd("Rendering"),(Rn=this._stats)==null||Rn.timeEnd("Overall")},or=new InternalRenderTask({callback:tr,params:{canvasContext:pn,viewport:yn,transform:xn,background:In},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Wn,operatorList:er.operatorList,pageIndex:this._pageIndex,canvasFactory:Qn,useRequestAnimationFrame:!ar,pdfBug:this._pdfBug,pageColors:zn});(er.renderTasks||(er.renderTasks=new Set)).add(or);const Yn=or.task;return Promise.all([er.displayReadyCapability.promise,On]).then(([Lr,Fn])=>{var Rn;if(this.pendingCleanup){tr();return}(Rn=this._stats)==null||Rn.time("Rendering"),or.initializeGraphics({transparency:Lr,optionalContentConfig:Fn}),or.operatorListChanged()}).catch(tr),Yn}getOperatorList({intent:pn="display",annotationMode:yn=_util.AnnotationMode.ENABLE,printAnnotationStorage:An=null}={}){var On;function kn(){Pn.operatorList.lastChunk&&(Pn.opListReadCapability.resolve(Pn.operatorList),Pn.renderTasks.delete(In))}const xn=this._transport.getRenderingIntent(pn,yn,An,!0);let Pn=this._intentStates.get(xn.cacheKey);Pn||(Pn=Object.create(null),this._intentStates.set(xn.cacheKey,Pn));let In;return Pn.opListReadCapability||(In=Object.create(null),In.operatorListChanged=kn,Pn.opListReadCapability=(0,_util.createPromiseCapability)(),(Pn.renderTasks||(Pn.renderTasks=new Set)).add(In),Pn.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(On=this._stats)==null||On.time("Page Request"),this._pumpOperatorList(xn)),Pn.opListReadCapability.promise}streamTextContent({disableCombineTextItems:pn=!1,includeMarkedContent:yn=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:pn!==!0,includeMarkedContent:yn===!0},{highWaterMark:100,size(kn){return kn.items.length}})}getTextContent(pn={}){if(this._transport._htmlForXfa)return this.getXfa().then(An=>_xfa_text.XfaText.textContent(An));const yn=this.streamTextContent(pn);return new Promise(function(An,kn){function xn(){Pn.read().then(function({value:On,done:Wn}){if(Wn){An(In);return}Object.assign(In.styles,On.styles),In.items.push(...On.items),xn()},kn)}const Pn=yn.getReader(),In={items:[],styles:Object.create(null)};xn()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const pn=[];for(const yn of this._intentStates.values())if(this._abortOperatorList({intentState:yn,reason:new Error("Page was destroyed."),force:!0}),!yn.opListReadCapability)for(const An of yn.renderTasks)pn.push(An.completed),An.cancel();this.objs.clear();for(const yn of this._bitmaps)yn.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(pn)}cleanup(pn=!1){return this.pendingCleanup=!0,this._tryCleanup(pn)}_tryCleanup(pn=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:yn,operatorList:An}of this._intentStates.values())if(yn.size>0||!An.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,pn&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const yn of this._bitmaps)yn.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(pn,yn){var kn,xn;const An=this._intentStates.get(yn);!An||((kn=this._stats)==null||kn.timeEnd("Page Request"),(xn=An.displayReadyCapability)==null||xn.resolve(pn))}_renderPageChunk(pn,yn){for(let An=0,kn=pn.length;An<kn;An++)yn.operatorList.fnArray.push(pn.fnArray[An]),yn.operatorList.argsArray.push(pn.argsArray[An]);yn.operatorList.lastChunk=pn.lastChunk,yn.operatorList.separateAnnots=pn.separateAnnots;for(const An of yn.renderTasks)An.operatorListChanged();pn.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:pn,cacheKey:yn,annotationStorageMap:An}){const xn=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:pn,cacheKey:yn,annotationStorage:An}).getReader(),Pn=this._intentStates.get(yn);Pn.streamReader=xn;const In=()=>{xn.read().then(({value:On,done:Wn})=>{if(Wn){Pn.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(On,Pn),In())},On=>{if(Pn.streamReader=null,!this._transport.destroyed){if(Pn.operatorList){Pn.operatorList.lastChunk=!0;for(const Wn of Pn.renderTasks)Wn.operatorListChanged();this._tryCleanup()}if(Pn.displayReadyCapability)Pn.displayReadyCapability.reject(On);else if(Pn.opListReadCapability)Pn.opListReadCapability.reject(On);else throw On}})};In()}_abortOperatorList({intentState:pn,reason:yn,force:An=!1}){if(!!pn.streamReader){if(!An){if(pn.renderTasks.size>0)return;if(yn instanceof _display_utils.RenderingCancelledException){pn.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:pn,reason:yn,force:!0}),pn.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(pn.streamReader.cancel(new _util.AbortException(yn.message)).catch(()=>{}),pn.streamReader=null,!this._transport.destroyed){for(const[kn,xn]of this._intentStates)if(xn===pn){this._intentStates.delete(kn);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Xr(this,St,[]);Xr(this,en,Promise.resolve())}postMessage(pn,yn){const An={data:structuredClone(pn,yn)};fr(this,en).then(()=>{for(const kn of fr(this,St))kn.call(this,An)})}addEventListener(pn,yn){fr(this,St).push(yn)}removeEventListener(pn,yn){const An=fr(this,St).indexOf(yn);fr(this,St).splice(An,1)}terminate(){fr(this,St).length=0}}St=new WeakMap,en=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const wn=(tn=document==null?void 0:document.currentScript)==null?void 0:tn.src;wn&&(PDFWorkerUtil.fallbackWorkerSrc=wn.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(wn,pn){let yn;try{if(yn=new URL(wn),!yn.origin||yn.origin==="null")return!1}catch{return!1}const An=new URL(pn,yn);return yn.origin===An.origin},PDFWorkerUtil.createCDNWrapper=function(wn){const pn=`importScripts("${wn}");`;return URL.createObjectURL(new Blob([pn]))}}const _PDFWorker=class{constructor({name:wn=null,port:pn=null,verbosity:yn=(0,_util.getVerbosityLevel)()}={}){if(pn&&fr(_PDFWorker,nn).has(pn))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=wn,this.destroyed=!1,this.verbosity=yn,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,pn){fr(_PDFWorker,nn).set(pn,this),this._initializeFromPort(pn);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(wn){this._port=wn,this._messageHandler=new _message_handler.MessageHandler("main","worker",wn),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:wn}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,wn)||(wn=PDFWorkerUtil.createCDNWrapper(new URL(wn,window.location).href));const pn=new Worker(wn),yn=new _message_handler.MessageHandler("main","worker",pn),An=()=>{pn.removeEventListener("error",kn),yn.destroy(),pn.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},kn=()=>{this._webWorker||An()};pn.addEventListener("error",kn),yn.on("test",Pn=>{if(pn.removeEventListener("error",kn),this.destroyed){An();return}Pn?(this._messageHandler=yn,this._port=pn,this._webWorker=pn,this._readyCapability.resolve(),yn.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),yn.destroy(),pn.terminate())}),yn.on("ready",Pn=>{if(pn.removeEventListener("error",kn),this.destroyed){An();return}try{xn()}catch{this._setupFakeWorker()}});const xn=()=>{const Pn=new Uint8Array;yn.send("test",Pn,[Pn.buffer])};xn();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(wn=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const pn=new LoopbackPort;this._port=pn;const yn=`fake${PDFWorkerUtil.fakeWorkerId++}`,An=new _message_handler.MessageHandler(yn+"_worker",yn,pn);wn.setup(An,pn);const kn=new _message_handler.MessageHandler(yn,yn+"_worker",pn);this._messageHandler=kn,this._readyCapability.resolve(),kn.send("configure",{verbosity:this.verbosity})}).catch(wn=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${wn.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),fr(_PDFWorker,nn).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(wn){if(!(wn!=null&&wn.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return fr(this,nn).has(wn.port)?fr(this,nn).get(wn.port):new _PDFWorker(wn)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var wn;try{return((wn=globalThis.pdfjsWorker)==null?void 0:wn.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;nn=new WeakMap,Xr(PDFWorker,nn,new WeakMap),exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(pn,yn,An,kn){Xr(this,rn,null);Xr(this,on,new Map);Xr(this,un,new Map);Xr(this,cn,null);this.messageHandler=pn,this.loadingTask=yn,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:kn.ownerDocument,styleElement:kn.styleElement}),this._params=kn,kn.useWorkerFetch||(this.CMapReaderFactory=new kn.CMapReaderFactory({baseUrl:kn.cMapUrl,isCompressed:kn.cMapPacked}),this.StandardFontDataFactory=new kn.StandardFontDataFactory({baseUrl:kn.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=An,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return fr(this,rn)}getRenderingIntent(pn,yn=_util.AnnotationMode.ENABLE,An=null,kn=!1){let xn=_util.RenderingIntentFlag.DISPLAY,Pn=null;switch(pn){case"any":xn=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":xn=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${pn}`)}switch(yn){case _util.AnnotationMode.DISABLE:xn+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:xn+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:xn+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Pn=(xn&_util.RenderingIntentFlag.PRINT&&An instanceof _annotation_storage.PrintAnnotationStorage?An:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${yn}`)}return kn&&(xn+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:xn,cacheKey:`${xn}_${_annotation_storage.AnnotationStorage.getHash(Pn)}`,annotationStorageMap:Pn}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const pn=[];for(const An of fr(this,on).values())pn.push(An._destroy());fr(this,on).clear(),fr(this,un).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const yn=this.messageHandler.sendWithPromise("Terminate",null);return pn.push(yn),Promise.all(pn).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),ds(this,cn,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:pn,loadingTask:yn}=this;pn.on("GetReader",(An,kn)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=xn=>{this._lastProgress={loaded:xn.loaded,total:xn.total}},kn.onPull=()=>{this._fullReader.read().then(function({value:xn,done:Pn}){if(Pn){kn.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(xn),"GetReader - expected an ArrayBuffer."),kn.enqueue(new Uint8Array(xn),1,[xn])}).catch(xn=>{kn.error(xn)})},kn.onCancel=xn=>{this._fullReader.cancel(xn),kn.ready.catch(Pn=>{if(!this.destroyed)throw Pn})}}),pn.on("ReaderHeadersReady",An=>{const kn=(0,_util.createPromiseCapability)(),xn=this._fullReader;return xn.headersReady.then(()=>{var Pn;(!xn.isStreamingSupported||!xn.isRangeSupported)&&(this._lastProgress&&((Pn=yn.onProgress)==null||Pn.call(yn,this._lastProgress)),xn.onProgress=In=>{var On;(On=yn.onProgress)==null||On.call(yn,{loaded:In.loaded,total:In.total})}),kn.resolve({isStreamingSupported:xn.isStreamingSupported,isRangeSupported:xn.isRangeSupported,contentLength:xn.contentLength})},kn.reject),kn.promise}),pn.on("GetRangeReader",(An,kn)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const xn=this._networkStream.getRangeReader(An.begin,An.end);if(!xn){kn.close();return}kn.onPull=()=>{xn.read().then(function({value:Pn,done:In}){if(In){kn.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(Pn),"GetRangeReader - expected an ArrayBuffer."),kn.enqueue(new Uint8Array(Pn),1,[Pn])}).catch(Pn=>{kn.error(Pn)})},kn.onCancel=Pn=>{xn.cancel(Pn),kn.ready.catch(In=>{if(!this.destroyed)throw In})}}),pn.on("GetDoc",({pdfInfo:An})=>{this._numPages=An.numPages,this._htmlForXfa=An.htmlForXfa,delete An.htmlForXfa,yn._capability.resolve(new PDFDocumentProxy(An,this))}),pn.on("DocException",function(An){let kn;switch(An.name){case"PasswordException":kn=new _util.PasswordException(An.message,An.code);break;case"InvalidPDFException":kn=new _util.InvalidPDFException(An.message);break;case"MissingPDFException":kn=new _util.MissingPDFException(An.message);break;case"UnexpectedResponseException":kn=new _util.UnexpectedResponseException(An.message,An.status);break;case"UnknownErrorException":kn=new _util.UnknownErrorException(An.message,An.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}yn._capability.reject(kn)}),pn.on("PasswordRequest",An=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),yn.onPassword){const kn=xn=>{xn instanceof Error?this._passwordCapability.reject(xn):this._passwordCapability.resolve({password:xn})};try{yn.onPassword(kn,An.code)}catch(xn){this._passwordCapability.reject(xn)}}else this._passwordCapability.reject(new _util.PasswordException(An.message,An.code));return this._passwordCapability.promise}),pn.on("DataLoaded",An=>{var kn;(kn=yn.onProgress)==null||kn.call(yn,{loaded:An.length,total:An.length}),this.downloadInfoCapability.resolve(An)}),pn.on("StartRenderPage",An=>{if(this.destroyed)return;fr(this,on).get(An.pageIndex)._startRenderPage(An.transparency,An.cacheKey)}),pn.on("commonobj",([An,kn,xn])=>{var Pn;if(!this.destroyed&&!this.commonObjs.has(An))switch(kn){case"Font":const In=this._params;if("error"in xn){const zn=xn.error;(0,_util.warn)(`Error during font loading: ${zn}`),this.commonObjs.resolve(An,zn);break}let On=null;In.pdfBug&&((Pn=globalThis.FontInspector)==null?void 0:Pn.enabled)&&(On={registerFont(zn,Mn){globalThis.FontInspector.fontAdded(zn,Mn)}});const Wn=new _font_loader.FontFaceObject(xn,{isEvalSupported:In.isEvalSupported,disableFontFace:In.disableFontFace,ignoreErrors:In.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:On});this.fontLoader.bind(Wn).catch(zn=>pn.sendWithPromise("FontFallback",{id:An})).finally(()=>{!In.fontExtraProperties&&Wn.data&&(Wn.data=null),this.commonObjs.resolve(An,Wn)});break;case"FontPath":case"Image":this.commonObjs.resolve(An,xn);break;default:throw new Error(`Got unknown common object type ${kn}`)}}),pn.on("obj",([An,kn,xn,Pn])=>{var On;if(this.destroyed)return;const In=fr(this,on).get(kn);if(!In.objs.has(An))switch(xn){case"Image":In.objs.resolve(An,Pn);const Wn=8e6;if(Pn){let zn;if(Pn.bitmap){const{bitmap:Mn,width:Gn,height:er}=Pn;zn=Gn*er*4,In._bitmaps.add(Mn)}else zn=((On=Pn.data)==null?void 0:On.length)||0;zn>Wn&&(In.cleanupAfterRender=!0)}break;case"Pattern":In.objs.resolve(An,Pn);break;default:throw new Error(`Got unknown object type ${xn}`)}}),pn.on("DocProgress",An=>{var kn;this.destroyed||(kn=yn.onProgress)==null||kn.call(yn,{loaded:An.loaded,total:An.total})}),pn.on("DocStats",An=>{this.destroyed||ds(this,rn,Object.freeze({streamTypes:Object.freeze(An.streamTypes),fontTypes:Object.freeze(An.fontTypes)}))}),pn.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),pn.on("FetchBuiltInCMap",An=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(An):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),pn.on("FetchStandardFontData",An=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(An):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:pn}){var yn,An;this.destroyed||(An=(yn=this.loadingTask).onUnsupportedFeature)==null||An.call(yn,pn)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var pn,yn;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(yn=(pn=this._fullReader)==null?void 0:pn.filename)!=null?yn:null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(pn){if(!Number.isInteger(pn)||pn<=0||pn>this._numPages)return Promise.reject(new Error("Invalid page request."));const yn=pn-1,An=fr(this,un).get(yn);if(An)return An;const kn=this.messageHandler.sendWithPromise("GetPage",{pageIndex:yn}).then(xn=>{if(this.destroyed)throw new Error("Transport destroyed");const Pn=new PDFPageProxy(yn,xn,this,this._params.ownerDocument,this._params.pdfBug);return fr(this,on).set(yn,Pn),Pn});return fr(this,un).set(yn,kn),kn}getPageIndex(pn){return typeof pn!="object"||pn===null||!Number.isInteger(pn.num)||pn.num<0||!Number.isInteger(pn.gen)||pn.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:pn.num,gen:pn.gen})}getAnnotations(pn,yn){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:pn,intent:yn})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(pn){return typeof pn!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:pn})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(pn){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:pn})}getStructTree(pn){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:pn})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(pn=>new _optional_content_config.OptionalContentConfig(pn))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return fr(this,cn)||ds(this,cn,this.messageHandler.sendWithPromise("GetMetadata",null).then(pn=>{var yn,An,kn,xn;return{info:pn[0],metadata:pn[1]?new _metadata.Metadata(pn[1]):null,contentDispositionFilename:(An=(yn=this._fullReader)==null?void 0:yn.filename)!=null?An:null,contentLength:(xn=(kn=this._fullReader)==null?void 0:kn.contentLength)!=null?xn:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(pn=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const yn of fr(this,on).values())if(!yn.cleanup())throw new Error(`startCleanup: Page ${yn.pageNumber} is currently rendering.`);this.commonObjs.clear(),pn||this.fontLoader.clear(),ds(this,cn,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const pn=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:pn.disableAutoFetch,enableXfa:pn.enableXfa})}}rn=new WeakMap,on=new WeakMap,un=new WeakMap,cn=new WeakMap;class PDFObjects{constructor(){Xr(this,Sn);Xr(this,dn,Object.create(null))}get(pn,yn=null){if(yn){const kn=ts(this,Sn,_m).call(this,pn);return kn.capability.promise.then(()=>yn(kn.data)),null}const An=fr(this,dn)[pn];if(!(An!=null&&An.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${pn}.`);return An.data}has(pn){const yn=fr(this,dn)[pn];return(yn==null?void 0:yn.capability.settled)||!1}resolve(pn,yn=null){const An=ts(this,Sn,_m).call(this,pn);An.data=yn,An.capability.resolve()}clear(){ds(this,dn,Object.create(null))}}dn=new WeakMap,Sn=new WeakSet,_m=function(pn){const yn=fr(this,dn)[pn];return yn||(fr(this,dn)[pn]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(pn){Xr(this,fn,null);ds(this,fn,pn),this.onContinue=null}get promise(){return fr(this,fn).capability.promise}cancel(){fr(this,fn).cancel()}get separateAnnots(){const{separateAnnots:pn}=fr(this,fn).operatorList;if(!pn)return!1;const{annotationCanvasMap:yn}=fr(this,fn);return pn.form||pn.canvas&&(yn==null?void 0:yn.size)>0}}fn=new WeakMap,exports.RenderTask=RenderTask;const bn=class{constructor({callback:pn,params:yn,objs:An,commonObjs:kn,annotationCanvasMap:xn,operatorList:Pn,pageIndex:In,canvasFactory:On,useRequestAnimationFrame:Wn=!1,pdfBug:zn=!1,pageColors:Mn=null}){this.callback=pn,this.params=yn,this.objs=An,this.commonObjs=kn,this.annotationCanvasMap=xn,this.operatorListIdx=null,this.operatorList=Pn,this._pageIndex=In,this.canvasFactory=On,this._pdfBug=zn,this.pageColors=Mn,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Wn===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=yn.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:pn=!1,optionalContentConfig:yn}){var In,On;if(this.cancelled)return;if(this._canvas){if(fr(bn,vn).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");fr(bn,vn).add(this._canvas)}this._pdfBug&&((In=globalThis.StepperManager)==null?void 0:In.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:An,viewport:kn,transform:xn,background:Pn}=this.params;this.gfx=new _canvas.CanvasGraphics(An,this.commonObjs,this.objs,this.canvasFactory,yn,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:xn,viewport:kn,transparency:pn,background:Pn}),this.operatorListIdx=0,this.graphicsReady=!0,(On=this.graphicsReadyCallback)==null||On.call(this)}cancel(pn=null){var yn;this.running=!1,this.cancelled=!0,(yn=this.gfx)==null||yn.endDrawing(),this._canvas&&fr(bn,vn).delete(this._canvas),this.callback(pn||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){var pn;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(pn=this.stepper)==null||pn.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&fr(bn,vn).delete(this._canvas),this.callback())))}};let InternalRenderTask=bn;vn=new WeakMap,Xr(InternalRenderTask,vn,new WeakSet);const version="3.0.279";exports.version=version;const build="d0823066c";exports.build=build},(_e,e,St)=>{var un,Hm,dn;Object.defineProperty(e,"__esModule",{value:!0}),e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var en=St(1),tn=St(4),nn=St(8);class rn{constructor(){Xr(this,un);this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(mn,fn){const vn=this._storage.get(mn);return vn===void 0?fn:Object.assign(fn,vn)}getRawValue(mn){return this._storage.get(mn)}remove(mn){if(this._storage.delete(mn),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const fn of this._storage.values())if(fn instanceof tn.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(mn,fn){const vn=this._storage.get(mn);let bn=!1;if(vn!==void 0)for(const[wn,pn]of Object.entries(fn))vn[wn]!==pn&&(bn=!0,vn[wn]=pn);else bn=!0,this._storage.set(mn,fn);bn&&ts(this,un,Hm).call(this),fn instanceof tn.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(fn.constructor._type)}has(mn){return this._storage.has(mn)}getAll(){return this._storage.size>0?(0,en.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new on(this)}get serializable(){if(this._storage.size===0)return null;const mn=new Map;for(const[fn,vn]of this._storage){const bn=vn instanceof tn.AnnotationEditor?vn.serialize():vn;bn&&mn.set(fn,bn)}return mn}static getHash(mn){if(!mn)return"";const fn=new nn.MurmurHash3_64;for(const[vn,bn]of mn)fn.update(`${vn}:${JSON.stringify(bn)}`);return fn.hexdigest()}}un=new WeakSet,Hm=function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())},e.AnnotationStorage=rn;class on extends rn{constructor(fn){super();Xr(this,dn,null);ds(this,dn,structuredClone(fn.serializable))}get print(){(0,en.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return fr(this,dn)}}dn=new WeakMap,e.PrintAnnotationStorage=on},(_e,e,St)=>{var rn,on,un,cn,dn,Sn;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var en=St(5),tn=St(1);const mn=class{constructor(vn){Xr(this,rn,this.focusin.bind(this));Xr(this,on,this.focusout.bind(this));Xr(this,un,!1);Xr(this,cn,!1);Xr(this,dn,!1);Xr(this,Sn,mn._zIndex++);this.constructor===mn&&(0,tn.unreachable)("Cannot initialize AnnotationEditor."),this.parent=vn.parent,this.id=vn.id,this.width=this.height=null,this.pageIndex=vn.parent.pageIndex,this.name=vn.name,this.div=null;const[bn,wn]=this.parent.viewportBaseDimensions;this.x=vn.x/bn,this.y=vn.y/wn,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,tn.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=fr(this,Sn)}focusin(vn){fr(this,un)?ds(this,un,!1):this.parent.setSelected(this)}focusout(vn){if(!this.isAttachedToDOM)return;const bn=vn.relatedTarget;bn!=null&&bn.closest(`#${this.id}`)||(vn.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(vn){const bn=this.parent.div.getBoundingClientRect();this.startX=vn.clientX-bn.x,this.startY=vn.clientY-bn.y,vn.dataTransfer.setData("text/plain",this.id),vn.dataTransfer.effectAllowed="move"}setAt(vn,bn,wn,pn){const[yn,An]=this.parent.viewportBaseDimensions;[wn,pn]=this.screenToPageTranslation(wn,pn),this.x=(vn+wn)/yn,this.y=(bn+pn)/An,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(vn,bn){const[wn,pn]=this.parent.viewportBaseDimensions;[vn,bn]=this.screenToPageTranslation(vn,bn),this.x+=vn/wn,this.y+=bn/pn,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(vn,bn){const{rotation:wn}=this.parent.viewport;switch(wn){case 90:return[bn,-vn];case 180:return[-vn,-bn];case 270:return[-bn,vn];default:return[vn,bn]}}setDims(vn,bn){const[wn,pn]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*vn/wn}%`,this.div.style.height=`${100*bn/pn}%`}fixDims(){const{style:vn}=this.div,{height:bn,width:wn}=vn,pn=wn.endsWith("%"),yn=bn.endsWith("%");if(pn&&yn)return;const[An,kn]=this.parent.viewportBaseDimensions;pn||(vn.width=`${100*parseFloat(wn)/An}%`),yn||(vn.height=`${100*parseFloat(bn)/kn}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",fr(this,rn)),this.div.addEventListener("focusout",fr(this,on));const[vn,bn]=this.getInitialTranslation();return this.translate(vn,bn),(0,en.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(vn){const bn=en.KeyboardManager.platform.isMac;if(vn.button!==0||vn.ctrlKey&&bn){vn.preventDefault();return}vn.ctrlKey&&!bn||vn.shiftKey||vn.metaKey&&bn?this.parent.toggleSelected(this):this.parent.setSelected(this),ds(this,un,!0)}getRect(vn,bn){const[wn,pn]=this.parent.viewportBaseDimensions,[yn,An]=this.parent.pageDimensions,kn=yn*vn/wn,xn=An*bn/pn,Pn=this.x*yn,In=this.y*An,On=this.width*yn,Wn=this.height*An;switch(this.rotation){case 0:return[Pn+kn,An-In-xn-Wn,Pn+kn+On,An-In-xn];case 90:return[Pn+xn,An-In+kn,Pn+xn+Wn,An-In+kn+On];case 180:return[Pn-kn-On,An-In+xn,Pn-kn,An-In+xn+Wn];case 270:return[Pn-xn-Wn,An-In-kn-On,Pn-xn,An-In-kn];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(vn,bn){const[wn,pn,yn,An]=vn,kn=yn-wn,xn=An-pn;switch(this.rotation){case 0:return[wn,bn-An,kn,xn];case 90:return[wn,bn-pn,xn,kn];case 180:return[yn,bn-pn,kn,xn];case 270:return[yn,bn-An,xn,kn];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){ds(this,dn,!0)}disableEditMode(){ds(this,dn,!1)}isInEditMode(){return fr(this,dn)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var vn;(vn=this.div)==null||vn.addEventListener("focusin",fr(this,rn))}serialize(){(0,tn.unreachable)("An editor must be serializable")}static deserialize(vn,bn){const wn=new this.prototype.constructor({parent:bn,id:bn.getNextId()});wn.rotation=vn.rotation;const[pn,yn]=bn.pageDimensions,[An,kn,xn,Pn]=wn.getRectInCurrentCoords(vn.rect,yn);return wn.x=An/pn,wn.y=kn/yn,wn.width=xn/pn,wn.height=Pn/yn,wn}remove(){this.div.removeEventListener("focusin",fr(this,rn)),this.div.removeEventListener("focusout",fr(this,on)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var vn;(vn=this.div)==null||vn.classList.add("selectedEditor")}unselect(){var vn;(vn=this.div)==null||vn.classList.remove("selectedEditor")}updateParams(vn,bn){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return fr(this,cn)}set isEditing(vn){ds(this,cn,vn),vn?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};let nn=mn;rn=new WeakMap,on=new WeakMap,un=new WeakMap,cn=new WeakMap,dn=new WeakMap,Sn=new WeakMap,Fo(nn,"_colorManager",new en.ColorManager),Fo(nn,"_zIndex",1),e.AnnotationEditor=nn},(_e,e,St)=>{var mn,fn,vn,bn,wn,pn,Vm,xn,Pn,In,On,Wn,zn,Mn,Gn,er,Qn,ar,tr,or,Yn,ur,pr,Lr,Fn,Rn,Tn,Wm,Hn,Sm,nr,Xm,_r,Ym,br,Uu,Un,D0,Dn,Km,cr,Qm,Ar,wm,Pr,j0,Sr,bm;Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=nn,e.opacityToHex=rn;var en=St(1),tn=St(6);function nn(ns,Er,zr){for(const rs of zr)Er.addEventListener(rs,ns[rs].bind(ns))}function rn(ns){return Math.round(Math.min(255,Math.max(1,255*ns))).toString(16).padStart(2,"0")}class on{constructor(){Xr(this,mn,0)}getId(){return`${en.AnnotationEditorPrefix}${ym(this,mn)._++}`}}mn=new WeakMap;class un{constructor(Er=128){Xr(this,fn,[]);Xr(this,vn,!1);Xr(this,bn,void 0);Xr(this,wn,-1);ds(this,bn,Er)}add({cmd:Er,undo:zr,mustExec:rs,type:Qr=NaN,overwriteIfSameType:ks=!1,keepUndo:ys=!1}){if(rs&&Er(),fr(this,vn))return;const ws={cmd:Er,undo:zr,type:Qr};if(fr(this,wn)===-1){fr(this,fn).length>0&&(fr(this,fn).length=0),ds(this,wn,0),fr(this,fn).push(ws);return}if(ks&&fr(this,fn)[fr(this,wn)].type===Qr){ys&&(ws.undo=fr(this,fn)[fr(this,wn)].undo),fr(this,fn)[fr(this,wn)]=ws;return}const Bs=fr(this,wn)+1;Bs===fr(this,bn)?fr(this,fn).splice(0,1):(ds(this,wn,Bs),Bs<fr(this,fn).length&&fr(this,fn).splice(Bs)),fr(this,fn).push(ws)}undo(){fr(this,wn)!==-1&&(ds(this,vn,!0),fr(this,fn)[fr(this,wn)].undo(),ds(this,vn,!1),ds(this,wn,fr(this,wn)-1))}redo(){fr(this,wn)<fr(this,fn).length-1&&(ds(this,wn,fr(this,wn)+1),ds(this,vn,!0),fr(this,fn)[fr(this,wn)].cmd(),ds(this,vn,!1))}hasSomethingToUndo(){return fr(this,wn)!==-1}hasSomethingToRedo(){return fr(this,wn)<fr(this,fn).length-1}destroy(){ds(this,fn,null)}}fn=new WeakMap,vn=new WeakMap,bn=new WeakMap,wn=new WeakMap,e.CommandManager=un;const An=class{constructor(Er){Xr(this,pn);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const zr=An.platform.isMac;for(const[rs,Qr]of Er)for(const ks of rs){const ys=ks.startsWith("mac+");zr&&ys?(this.callbacks.set(ks.slice(4),Qr),this.allKeys.add(ks.split("+").at(-1))):!zr&&!ys&&(this.callbacks.set(ks,Qr),this.allKeys.add(ks.split("+").at(-1)))}}static get platform(){const Er=typeof navigator<"u"?navigator.platform:"";return(0,en.shadow)(this,"platform",{isWin:Er.includes("Win"),isMac:Er.includes("Mac")})}exec(Er,zr){if(!this.allKeys.has(zr.key))return;const rs=this.callbacks.get(ts(this,pn,Vm).call(this,zr));!rs||(rs.bind(Er)(),zr.stopPropagation(),zr.preventDefault())}};let cn=An;pn=new WeakSet,Vm=function(Er){Er.altKey&&this.buffer.push("alt"),Er.ctrlKey&&this.buffer.push("ctrl"),Er.metaKey&&this.buffer.push("meta"),Er.shiftKey&&this.buffer.push("shift"),this.buffer.push(Er.key);const zr=this.buffer.join("+");return this.buffer.length=0,zr},e.KeyboardManager=cn;const kn=class{get _colors(){const Er=new Map([["CanvasText",null],["Canvas",null]]);return(0,tn.getColorValues)(Er),(0,en.shadow)(this,"_colors",Er)}convert(Er){const zr=(0,tn.getRGB)(Er);if(!window.matchMedia("(forced-colors: active)").matches)return zr;for(const[rs,Qr]of this._colors)if(Qr.every((ks,ys)=>ks===zr[ys]))return kn._colorsMapping.get(rs);return zr}getHexCode(Er){const zr=this._colors.get(Er);return zr?en.Util.makeHexColor(...zr):Er}};let dn=kn;Fo(dn,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),e.ColorManager=dn;const Jr=class{constructor(Er,zr){Xr(this,Tn);Xr(this,Hn);Xr(this,nr);Xr(this,_r);Xr(this,br);Xr(this,Un);Xr(this,Dn);Xr(this,cr);Xr(this,Ar);Xr(this,Pr);Xr(this,Sr);Xr(this,xn,null);Xr(this,Pn,new Map);Xr(this,In,new Map);Xr(this,On,new un);Xr(this,Wn,0);Xr(this,zn,null);Xr(this,Mn,null);Xr(this,Gn,new on);Xr(this,er,!1);Xr(this,Qn,en.AnnotationEditorType.NONE);Xr(this,ar,new Set);Xr(this,tr,this.copy.bind(this));Xr(this,or,this.cut.bind(this));Xr(this,Yn,this.paste.bind(this));Xr(this,ur,this.keydown.bind(this));Xr(this,pr,this.onEditingAction.bind(this));Xr(this,Lr,this.onPageChanging.bind(this));Xr(this,Fn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Xr(this,Rn,null);ds(this,Rn,Er),ds(this,Mn,zr),fr(this,Mn)._on("editingaction",fr(this,pr)),fr(this,Mn)._on("pagechanging",fr(this,Lr))}destroy(){ts(this,Hn,Sm).call(this),fr(this,Mn)._off("editingaction",fr(this,pr)),fr(this,Mn)._off("pagechanging",fr(this,Lr));for(const Er of fr(this,In).values())Er.destroy();fr(this,In).clear(),fr(this,Pn).clear(),ds(this,xn,null),fr(this,ar).clear(),fr(this,On).destroy()}onPageChanging({pageNumber:Er}){ds(this,Wn,Er-1)}focusMainContainer(){fr(this,Rn).focus()}copy(Er){if(Er.preventDefault(),fr(this,xn)&&fr(this,xn).commitOrRemove(),!this.hasSelection)return;const zr=[];for(const rs of fr(this,ar))rs.isEmpty()||zr.push(rs.serialize());zr.length!==0&&Er.clipboardData.setData("application/pdfjs",JSON.stringify(zr))}cut(Er){this.copy(Er),this.delete()}paste(Er){Er.preventDefault();let zr=Er.clipboardData.getData("application/pdfjs");if(!zr)return;try{zr=JSON.parse(zr)}catch(Qr){(0,en.warn)(`paste: "${Qr.message}".`);return}if(!Array.isArray(zr))return;this.unselectAll();const rs=fr(this,In).get(fr(this,Wn));try{const Qr=[];for(const ws of zr){const Bs=rs.deserialize(ws);if(!Bs)return;Qr.push(Bs)}const ks=()=>{for(const ws of Qr)ts(this,Ar,wm).call(this,ws);ts(this,Sr,bm).call(this,Qr)},ys=()=>{for(const ws of Qr)ws.remove()};this.addCommands({cmd:ks,undo:ys,mustExec:!0})}catch(Qr){(0,en.warn)(`paste: "${Qr.message}".`)}}keydown(Er){var zr;(zr=this.getActive())!=null&&zr.shouldGetKeyboardEvents()||Jr._keyboardManager.exec(this,Er)}onEditingAction(Er){["undo","redo","delete","selectAll"].includes(Er.name)&&this[Er.name]()}setEditingState(Er){Er?(ts(this,Tn,Wm).call(this),ts(this,nr,Xm).call(this),ts(this,br,Uu).call(this,{isEditing:fr(this,Qn)!==en.AnnotationEditorType.NONE,isEmpty:ts(this,Pr,j0).call(this),hasSomethingToUndo:fr(this,On).hasSomethingToUndo(),hasSomethingToRedo:fr(this,On).hasSomethingToRedo(),hasSelectedEditor:!1})):(ts(this,Hn,Sm).call(this),ts(this,_r,Ym).call(this),ts(this,br,Uu).call(this,{isEditing:!1}))}registerEditorTypes(Er){if(!fr(this,zn)){ds(this,zn,Er);for(const zr of fr(this,zn))ts(this,Un,D0).call(this,zr.defaultPropertiesToUpdate)}}getId(){return fr(this,Gn).getId()}addLayer(Er){fr(this,In).set(Er.pageIndex,Er),fr(this,er)?Er.enable():Er.disable()}removeLayer(Er){fr(this,In).delete(Er.pageIndex)}updateMode(Er){if(ds(this,Qn,Er),Er===en.AnnotationEditorType.NONE)this.setEditingState(!1),ts(this,cr,Qm).call(this);else{this.setEditingState(!0),ts(this,Dn,Km).call(this);for(const zr of fr(this,In).values())zr.updateMode(Er)}}updateToolbar(Er){Er!==fr(this,Qn)&&fr(this,Mn).dispatch("switchannotationeditormode",{source:this,mode:Er})}updateParams(Er,zr){if(!!fr(this,zn)){for(const rs of fr(this,ar))rs.updateParams(Er,zr);for(const rs of fr(this,zn))rs.updateDefaultParams(Er,zr)}}getEditors(Er){const zr=[];for(const rs of fr(this,Pn).values())rs.pageIndex===Er&&zr.push(rs);return zr}getEditor(Er){return fr(this,Pn).get(Er)}addEditor(Er){fr(this,Pn).set(Er.id,Er)}removeEditor(Er){fr(this,Pn).delete(Er.id),this.unselect(Er)}setActiveEditor(Er){fr(this,xn)!==Er&&(ds(this,xn,Er),Er&&ts(this,Un,D0).call(this,Er.propertiesToUpdate))}toggleSelected(Er){if(fr(this,ar).has(Er)){fr(this,ar).delete(Er),Er.unselect(),ts(this,br,Uu).call(this,{hasSelectedEditor:this.hasSelection});return}fr(this,ar).add(Er),Er.select(),ts(this,Un,D0).call(this,Er.propertiesToUpdate),ts(this,br,Uu).call(this,{hasSelectedEditor:!0})}setSelected(Er){for(const zr of fr(this,ar))zr!==Er&&zr.unselect();fr(this,ar).clear(),fr(this,ar).add(Er),Er.select(),ts(this,Un,D0).call(this,Er.propertiesToUpdate),ts(this,br,Uu).call(this,{hasSelectedEditor:!0})}isSelected(Er){return fr(this,ar).has(Er)}unselect(Er){Er.unselect(),fr(this,ar).delete(Er),ts(this,br,Uu).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return fr(this,ar).size!==0}undo(){fr(this,On).undo(),ts(this,br,Uu).call(this,{hasSomethingToUndo:fr(this,On).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ts(this,Pr,j0).call(this)})}redo(){fr(this,On).redo(),ts(this,br,Uu).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:fr(this,On).hasSomethingToRedo(),isEmpty:ts(this,Pr,j0).call(this)})}addCommands(Er){fr(this,On).add(Er),ts(this,br,Uu).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ts(this,Pr,j0).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const Er=[...fr(this,ar)],zr=()=>{for(const Qr of Er)Qr.remove()},rs=()=>{for(const Qr of Er)ts(this,Ar,wm).call(this,Qr)};this.addCommands({cmd:zr,undo:rs,mustExec:!0})}commitOrRemove(){var Er;(Er=fr(this,xn))==null||Er.commitOrRemove()}selectAll(){for(const Er of fr(this,ar))Er.commit();ts(this,Sr,bm).call(this,fr(this,Pn).values())}unselectAll(){if(fr(this,xn)){fr(this,xn).commitOrRemove();return}if(fr(this,ar).size!==0){for(const Er of fr(this,ar))Er.unselect();fr(this,ar).clear(),ts(this,br,Uu).call(this,{hasSelectedEditor:!1})}}isActive(Er){return fr(this,xn)===Er}getActive(){return fr(this,xn)}getMode(){return fr(this,Qn)}};let Sn=Jr;xn=new WeakMap,Pn=new WeakMap,In=new WeakMap,On=new WeakMap,Wn=new WeakMap,zn=new WeakMap,Mn=new WeakMap,Gn=new WeakMap,er=new WeakMap,Qn=new WeakMap,ar=new WeakMap,tr=new WeakMap,or=new WeakMap,Yn=new WeakMap,ur=new WeakMap,pr=new WeakMap,Lr=new WeakMap,Fn=new WeakMap,Rn=new WeakMap,Tn=new WeakSet,Wm=function(){fr(this,Rn).addEventListener("keydown",fr(this,ur))},Hn=new WeakSet,Sm=function(){fr(this,Rn).removeEventListener("keydown",fr(this,ur))},nr=new WeakSet,Xm=function(){document.addEventListener("copy",fr(this,tr)),document.addEventListener("cut",fr(this,or)),document.addEventListener("paste",fr(this,Yn))},_r=new WeakSet,Ym=function(){document.removeEventListener("copy",fr(this,tr)),document.removeEventListener("cut",fr(this,or)),document.removeEventListener("paste",fr(this,Yn))},br=new WeakSet,Uu=function(Er){Object.entries(Er).some(([rs,Qr])=>fr(this,Fn)[rs]!==Qr)&&fr(this,Mn).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(fr(this,Fn),Er)})},Un=new WeakSet,D0=function(Er){fr(this,Mn).dispatch("annotationeditorparamschanged",{source:this,details:Er})},Dn=new WeakSet,Km=function(){if(!fr(this,er)){ds(this,er,!0);for(const Er of fr(this,In).values())Er.enable()}},cr=new WeakSet,Qm=function(){if(this.unselectAll(),fr(this,er)){ds(this,er,!1);for(const Er of fr(this,In).values())Er.disable()}},Ar=new WeakSet,wm=function(Er){const zr=fr(this,In).get(Er.pageIndex);zr?zr.addOrRebuild(Er):this.addEditor(Er)},Pr=new WeakSet,j0=function(){if(fr(this,Pn).size===0)return!0;if(fr(this,Pn).size===1)for(const Er of fr(this,Pn).values())return Er.isEmpty();return!1},Sr=new WeakSet,bm=function(Er){fr(this,ar).clear();for(const zr of Er)zr.isEmpty()||(fr(this,ar).add(zr),zr.select());ts(this,br,Uu).call(this,{hasSelectedEditor:!0})},Fo(Sn,"_keyboardManager",new cn([[["ctrl+a","mac+meta+a"],Jr.prototype.selectAll],[["ctrl+z","mac+meta+z"],Jr.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],Jr.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],Jr.prototype.delete],[["Escape","mac+Escape"],Jr.prototype.unselectAll]])),e.AnnotationEditorUIManager=Sn},(_e,e,St)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=e.AnnotationPrefix=void 0,e.deprecated=Pn,e.getColorValues=Mn,e.getCurrentTransform=Gn,e.getCurrentTransformInverse=er,e.getFilenameFromUrl=pn,e.getPdfFilenameFromUrl=yn,e.getRGB=zn,e.getXfaPageViewport=Wn,e.isDataScheme=bn,e.isPdfFile=wn,e.isValidFetchUrl=kn,e.loadScript=xn;var en=St(7),tn=St(1);const nn="http://www.w3.org/2000/svg",rn="pdfjs_internal_id_";e.AnnotationPrefix=rn;const Qn=class{};let on=Qn;Fo(on,"CSS",96),Fo(on,"PDF",72),Fo(on,"PDF_TO_CSS_UNITS",Qn.CSS/Qn.PDF),e.PixelsPerInch=on;class un extends en.BaseCanvasFactory{constructor({ownerDocument:tr=globalThis.document}={}){super(),this._document=tr}_createCanvas(tr,or){const Yn=this._document.createElement("canvas");return Yn.width=tr,Yn.height=or,Yn}}e.DOMCanvasFactory=un;async function cn(ar,tr=!1){if(kn(ar,document.baseURI)){const or=await fetch(ar);if(!or.ok)throw new Error(or.statusText);return tr?new Uint8Array(await or.arrayBuffer()):(0,tn.stringToBytes)(await or.text())}return new Promise((or,Yn)=>{const ur=new XMLHttpRequest;ur.open("GET",ar,!0),tr&&(ur.responseType="arraybuffer"),ur.onreadystatechange=()=>{if(ur.readyState===XMLHttpRequest.DONE){if(ur.status===200||ur.status===0){let pr;if(tr&&ur.response?pr=new Uint8Array(ur.response):!tr&&ur.responseText&&(pr=(0,tn.stringToBytes)(ur.responseText)),pr){or(pr);return}}Yn(new Error(ur.statusText))}},ur.send(null)})}class dn extends en.BaseCMapReaderFactory{_fetchData(tr,or){return cn(tr,this.isCompressed).then(Yn=>({cMapData:Yn,compressionType:or}))}}e.DOMCMapReaderFactory=dn;class Sn extends en.BaseStandardFontDataFactory{_fetchData(tr){return cn(tr,!0)}}e.DOMStandardFontDataFactory=Sn;class mn extends en.BaseSVGFactory{_createSVG(tr){return document.createElementNS(nn,tr)}}e.DOMSVGFactory=mn;class fn{constructor({viewBox:tr,scale:or,rotation:Yn,offsetX:ur=0,offsetY:pr=0,dontFlip:Lr=!1}){this.viewBox=tr,this.scale=or,this.rotation=Yn,this.offsetX=ur,this.offsetY=pr;const Fn=(tr[2]+tr[0])/2,Rn=(tr[3]+tr[1])/2;let Tn,Bn,Hn,Kn;switch(Yn%=360,Yn<0&&(Yn+=360),Yn){case 180:Tn=-1,Bn=0,Hn=0,Kn=1;break;case 90:Tn=0,Bn=1,Hn=1,Kn=0;break;case 270:Tn=0,Bn=-1,Hn=-1,Kn=0;break;case 0:Tn=1,Bn=0,Hn=0,Kn=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Lr&&(Hn=-Hn,Kn=-Kn);let nr,ir,_r,Cr;Tn===0?(nr=Math.abs(Rn-tr[1])*or+ur,ir=Math.abs(Fn-tr[0])*or+pr,_r=Math.abs(tr[3]-tr[1])*or,Cr=Math.abs(tr[2]-tr[0])*or):(nr=Math.abs(Fn-tr[0])*or+ur,ir=Math.abs(Rn-tr[1])*or+pr,_r=Math.abs(tr[2]-tr[0])*or,Cr=Math.abs(tr[3]-tr[1])*or),this.transform=[Tn*or,Bn*or,Hn*or,Kn*or,nr-Tn*or*Fn-Hn*or*Rn,ir-Bn*or*Fn-Kn*or*Rn],this.width=_r,this.height=Cr}clone({scale:tr=this.scale,rotation:or=this.rotation,offsetX:Yn=this.offsetX,offsetY:ur=this.offsetY,dontFlip:pr=!1}={}){return new fn({viewBox:this.viewBox.slice(),scale:tr,rotation:or,offsetX:Yn,offsetY:ur,dontFlip:pr})}convertToViewportPoint(tr,or){return tn.Util.applyTransform([tr,or],this.transform)}convertToViewportRectangle(tr){const or=tn.Util.applyTransform([tr[0],tr[1]],this.transform),Yn=tn.Util.applyTransform([tr[2],tr[3]],this.transform);return[or[0],or[1],Yn[0],Yn[1]]}convertToPdfPoint(tr,or){return tn.Util.applyInverseTransform([tr,or],this.transform)}}e.PageViewport=fn;class vn extends tn.BaseException{constructor(tr,or){super(tr,"RenderingCancelledException"),this.type=or}}e.RenderingCancelledException=vn;function bn(ar){const tr=ar.length;let or=0;for(;or<tr&&ar[or].trim()==="";)or++;return ar.substring(or,or+5).toLowerCase()==="data:"}function wn(ar){return typeof ar=="string"&&/\.pdf$/i.test(ar)}function pn(ar){const tr=ar.indexOf("#"),or=ar.indexOf("?"),Yn=Math.min(tr>0?tr:ar.length,or>0?or:ar.length);return ar.substring(ar.lastIndexOf("/",Yn)+1,Yn)}function yn(ar,tr="document.pdf"){if(typeof ar!="string")return tr;if(bn(ar))return(0,tn.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),tr;const or=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Yn=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,ur=or.exec(ar);let pr=Yn.exec(ur[1])||Yn.exec(ur[2])||Yn.exec(ur[3]);if(pr&&(pr=pr[0],pr.includes("%")))try{pr=Yn.exec(decodeURIComponent(pr))[0]}catch{}return pr||tr}class An{constructor(){this.started=Object.create(null),this.times=[]}time(tr){tr in this.started&&(0,tn.warn)(`Timer is already running for ${tr}`),this.started[tr]=Date.now()}timeEnd(tr){tr in this.started||(0,tn.warn)(`Timer has not been started for ${tr}`),this.times.push({name:tr,start:this.started[tr],end:Date.now()}),delete this.started[tr]}toString(){const tr=[];let or=0;for(const Yn of this.times){const ur=Yn.name;ur.length>or&&(or=ur.length)}for(const Yn of this.times){const ur=Yn.end-Yn.start;tr.push(`${Yn.name.padEnd(or)} ${ur}ms
`)}return tr.join("")}}e.StatTimer=An;function kn(ar,tr){try{const{protocol:or}=tr?new URL(ar,tr):new URL(ar);return or==="http:"||or==="https:"}catch{return!1}}function xn(ar,tr=!1){return new Promise((or,Yn)=>{const ur=document.createElement("script");ur.src=ar,ur.onload=function(pr){tr&&ur.remove(),or(pr)},ur.onerror=function(){Yn(new Error(`Cannot load script at: ${ur.src}`))},(document.head||document.documentElement).append(ur)})}function Pn(ar){console.log("Deprecated API usage: "+ar)}let In;class On{static toDateObject(tr){if(!tr||typeof tr!="string")return null;In||(In=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const or=In.exec(tr);if(!or)return null;const Yn=parseInt(or[1],10);let ur=parseInt(or[2],10);ur=ur>=1&&ur<=12?ur-1:0;let pr=parseInt(or[3],10);pr=pr>=1&&pr<=31?pr:1;let Lr=parseInt(or[4],10);Lr=Lr>=0&&Lr<=23?Lr:0;let Fn=parseInt(or[5],10);Fn=Fn>=0&&Fn<=59?Fn:0;let Rn=parseInt(or[6],10);Rn=Rn>=0&&Rn<=59?Rn:0;const Tn=or[7]||"Z";let Bn=parseInt(or[8],10);Bn=Bn>=0&&Bn<=23?Bn:0;let Hn=parseInt(or[9],10)||0;return Hn=Hn>=0&&Hn<=59?Hn:0,Tn==="-"?(Lr+=Bn,Fn+=Hn):Tn==="+"&&(Lr-=Bn,Fn-=Hn),new Date(Date.UTC(Yn,ur,pr,Lr,Fn,Rn))}}e.PDFDateString=On;function Wn(ar,{scale:tr=1,rotation:or=0}){const{width:Yn,height:ur}=ar.attributes.style,pr=[0,0,parseInt(Yn),parseInt(ur)];return new fn({viewBox:pr,scale:tr,rotation:or})}function zn(ar){if(ar.startsWith("#")){const tr=parseInt(ar.slice(1),16);return[(tr&16711680)>>16,(tr&65280)>>8,tr&255]}return ar.startsWith("rgb(")?ar.slice(4,-1).split(",").map(tr=>parseInt(tr)):ar.startsWith("rgba(")?ar.slice(5,-1).split(",").map(tr=>parseInt(tr)).slice(0,3):((0,tn.warn)(`Not a valid color format: "${ar}"`),[0,0,0])}function Mn(ar){const tr=document.createElement("span");tr.style.visibility="hidden",document.body.append(tr);for(const or of ar.keys()){tr.style.color=or;const Yn=window.getComputedStyle(tr).color;ar.set(or,zn(Yn))}tr.remove()}function Gn(ar){const{a:tr,b:or,c:Yn,d:ur,e:pr,f:Lr}=ar.getTransform();return[tr,or,Yn,ur,pr,Lr]}function er(ar){const{a:tr,b:or,c:Yn,d:ur,e:pr,f:Lr}=ar.getTransform().invertSelf();return[tr,or,Yn,ur,pr,Lr]}},(_e,e,St)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var en=St(1);class tn{constructor(){this.constructor===tn&&(0,en.unreachable)("Cannot initialize BaseCanvasFactory.")}create(cn,dn){if(cn<=0||dn<=0)throw new Error("Invalid canvas size");const Sn=this._createCanvas(cn,dn);return{canvas:Sn,context:Sn.getContext("2d")}}reset(cn,dn,Sn){if(!cn.canvas)throw new Error("Canvas is not specified");if(dn<=0||Sn<=0)throw new Error("Invalid canvas size");cn.canvas.width=dn,cn.canvas.height=Sn}destroy(cn){if(!cn.canvas)throw new Error("Canvas is not specified");cn.canvas.width=0,cn.canvas.height=0,cn.canvas=null,cn.context=null}_createCanvas(cn,dn){(0,en.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=tn;class nn{constructor({baseUrl:cn=null,isCompressed:dn=!1}){this.constructor===nn&&(0,en.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=cn,this.isCompressed=dn}async fetch({name:cn}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!cn)throw new Error("CMap name must be specified.");const dn=this.baseUrl+cn+(this.isCompressed?".bcmap":""),Sn=this.isCompressed?en.CMapCompressionType.BINARY:en.CMapCompressionType.NONE;return this._fetchData(dn,Sn).catch(mn=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${dn}`)})}_fetchData(cn,dn){(0,en.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=nn;class rn{constructor({baseUrl:cn=null}){this.constructor===rn&&(0,en.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=cn}async fetch({filename:cn}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!cn)throw new Error("Font filename must be specified.");const dn=`${this.baseUrl}${cn}`;return this._fetchData(dn).catch(Sn=>{throw new Error(`Unable to load font data at: ${dn}`)})}_fetchData(cn){(0,en.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=rn;class on{constructor(){this.constructor===on&&(0,en.unreachable)("Cannot initialize BaseSVGFactory.")}create(cn,dn,Sn=!1){if(cn<=0||dn<=0)throw new Error("Invalid SVG dimensions");const mn=this._createSVG("svg:svg");return mn.setAttribute("version","1.1"),Sn||(mn.setAttribute("width",`${cn}px`),mn.setAttribute("height",`${dn}px`)),mn.setAttribute("preserveAspectRatio","none"),mn.setAttribute("viewBox",`0 0 ${cn} ${dn}`),mn}createElement(cn){if(typeof cn!="string")throw new Error("Invalid SVG element type");return this._createSVG(cn)}_createSVG(cn){(0,en.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=on},(_e,e,St)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var en=St(1);const tn=3285377520,nn=4294901760,rn=65535;class on{constructor(cn){this.h1=cn?cn&4294967295:tn,this.h2=cn?cn&4294967295:tn}update(cn){let dn,Sn;if(typeof cn=="string"){dn=new Uint8Array(cn.length*2),Sn=0;for(let In=0,On=cn.length;In<On;In++){const Wn=cn.charCodeAt(In);Wn<=255?dn[Sn++]=Wn:(dn[Sn++]=Wn>>>8,dn[Sn++]=Wn&255)}}else if((0,en.isArrayBuffer)(cn))dn=cn.slice(),Sn=dn.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const mn=Sn>>2,fn=Sn-mn*4,vn=new Uint32Array(dn.buffer,0,mn);let bn=0,wn=0,pn=this.h1,yn=this.h2;const An=3432918353,kn=461845907,xn=An&rn,Pn=kn&rn;for(let In=0;In<mn;In++)In&1?(bn=vn[In],bn=bn*An&nn|bn*xn&rn,bn=bn<<15|bn>>>17,bn=bn*kn&nn|bn*Pn&rn,pn^=bn,pn=pn<<13|pn>>>19,pn=pn*5+3864292196):(wn=vn[In],wn=wn*An&nn|wn*xn&rn,wn=wn<<15|wn>>>17,wn=wn*kn&nn|wn*Pn&rn,yn^=wn,yn=yn<<13|yn>>>19,yn=yn*5+3864292196);switch(bn=0,fn){case 3:bn^=dn[mn*4+2]<<16;case 2:bn^=dn[mn*4+1]<<8;case 1:bn^=dn[mn*4],bn=bn*An&nn|bn*xn&rn,bn=bn<<15|bn>>>17,bn=bn*kn&nn|bn*Pn&rn,mn&1?pn^=bn:yn^=bn}this.h1=pn,this.h2=yn}hexdigest(){let cn=this.h1,dn=this.h2;cn^=dn>>>1,cn=cn*3981806797&nn|cn*36045&rn,dn=dn*4283543511&nn|((dn<<16|cn>>>16)*2950163797&nn)>>>16,cn^=dn>>>1,cn=cn*444984403&nn|cn*60499&rn,dn=dn*3301882366&nn|((dn<<16|cn>>>16)*3120437893&nn)>>>16,cn^=dn>>>1;const Sn=(cn>>>0).toString(16),mn=(dn>>>0).toString(16);return Sn.padStart(8,"0")+mn.padStart(8,"0")}}e.MurmurHash3_64=on},(_e,e,St)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var en=St(1);class tn{constructor({onUnsupportedFeature:on,ownerDocument:un=globalThis.document,styleElement:cn=null}){this._onUnsupportedFeature=on,this._document=un,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(on){this.nativeFontFaces.push(on),this._document.fonts.add(on)}insertRule(on){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const un=this.styleElement.sheet;un.insertRule(on,un.cssRules.length)}clear(){for(const on of this.nativeFontFaces)this._document.fonts.delete(on);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(on){if(on.attached||on.missingFile)return;if(on.attached=!0,this.isFontLoadingAPISupported){const cn=on.createNativeFontFace();if(cn){this.addNativeFontFace(cn);try{await cn.loaded}catch(dn){throw this._onUnsupportedFeature({featureId:en.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,en.warn)(`Failed to load font '${cn.family}': '${dn}'.`),on.disableFontFace=!0,dn}}return}const un=on.createFontFaceRule();if(un){if(this.insertRule(un),this.isSyncFontLoadingSupported)return;await new Promise(cn=>{const dn=this._queueLoadingCallback(cn);this._prepareFontLoadEvent(on,dn)})}}get isFontLoadingAPISupported(){var un;const on=!!((un=this._document)!=null&&un.fonts);return(0,en.shadow)(this,"isFontLoadingAPISupported",on)}get isSyncFontLoadingSupported(){let on=!1;if(typeof navigator>"u")on=!0;else{const un=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(un==null?void 0:un[1])>=14&&(on=!0)}return(0,en.shadow)(this,"isSyncFontLoadingSupported",on)}_queueLoadingCallback(on){function un(){for((0,en.assert)(!dn.done,"completeRequest() cannot be called twice."),dn.done=!0;cn.length>0&&cn[0].done;){const Sn=cn.shift();setTimeout(Sn.callback,0)}}const{loadingRequests:cn}=this,dn={done:!1,complete:un,callback:on};return cn.push(dn),dn}get _loadTestFont(){const on=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,en.shadow)(this,"_loadTestFont",on)}_prepareFontLoadEvent(on,un){function cn(zn,Mn){return zn.charCodeAt(Mn)<<24|zn.charCodeAt(Mn+1)<<16|zn.charCodeAt(Mn+2)<<8|zn.charCodeAt(Mn+3)&255}function dn(zn,Mn,Gn,er){const Qn=zn.substring(0,Mn),ar=zn.substring(Mn+Gn);return Qn+er+ar}let Sn,mn;const fn=this._document.createElement("canvas");fn.width=1,fn.height=1;const vn=fn.getContext("2d");let bn=0;function wn(zn,Mn){if(++bn>30){(0,en.warn)("Load test font never loaded."),Mn();return}if(vn.font="30px "+zn,vn.fillText(".",0,20),vn.getImageData(0,0,1,1).data[3]>0){Mn();return}setTimeout(wn.bind(null,zn,Mn))}const pn=`lt${Date.now()}${this.loadTestFontId++}`;let yn=this._loadTestFont;yn=dn(yn,976,pn.length,pn);const kn=16,xn=1482184792;let Pn=cn(yn,kn);for(Sn=0,mn=pn.length-3;Sn<mn;Sn+=4)Pn=Pn-xn+cn(pn,Sn)|0;Sn<pn.length&&(Pn=Pn-xn+cn(pn+"XXX",Sn)|0),yn=dn(yn,kn,4,(0,en.string32)(Pn));const In=`url(data:font/opentype;base64,${btoa(yn)});`,On=`@font-face {font-family:"${pn}";src:${In}}`;this.insertRule(On);const Wn=this._document.createElement("div");Wn.style.visibility="hidden",Wn.style.width=Wn.style.height="10px",Wn.style.position="absolute",Wn.style.top=Wn.style.left="0px";for(const zn of[on.loadedName,pn]){const Mn=this._document.createElement("span");Mn.textContent="Hi",Mn.style.fontFamily=zn,Wn.append(Mn)}this._document.body.append(Wn),wn(pn,()=>{Wn.remove(),un.complete()})}}e.FontLoader=tn;class nn{constructor(on,{isEvalSupported:un=!0,disableFontFace:cn=!1,ignoreErrors:dn=!1,onUnsupportedFeature:Sn,fontRegistry:mn=null}){this.compiledGlyphs=Object.create(null);for(const fn in on)this[fn]=on[fn];this.isEvalSupported=un!==!1,this.disableFontFace=cn===!0,this.ignoreErrors=dn===!0,this._onUnsupportedFeature=Sn,this.fontRegistry=mn}createNativeFontFace(){var un;if(!this.data||this.disableFontFace)return null;let on;if(!this.cssFontInfo)on=new FontFace(this.loadedName,this.data,{});else{const cn={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(cn.style=`oblique ${this.cssFontInfo.italicAngle}deg`),on=new FontFace(this.cssFontInfo.fontFamily,this.data,cn)}return(un=this.fontRegistry)==null||un.registerFont(this),on}createFontFaceRule(){var dn;if(!this.data||this.disableFontFace)return null;const on=(0,en.bytesToString)(this.data),un=`url(data:${this.mimetype};base64,${btoa(on)});`;let cn;if(!this.cssFontInfo)cn=`@font-face {font-family:"${this.loadedName}";src:${un}}`;else{let Sn=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Sn+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),cn=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Sn}src:${un}}`}return(dn=this.fontRegistry)==null||dn.registerFont(this,un),cn}getPathGenerator(on,un){if(this.compiledGlyphs[un]!==void 0)return this.compiledGlyphs[un];let cn;try{cn=on.get(this.loadedName+"_path_"+un)}catch(dn){if(!this.ignoreErrors)throw dn;return this._onUnsupportedFeature({featureId:en.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,en.warn)(`getPathGenerator - ignoring character: "${dn}".`),this.compiledGlyphs[un]=function(Sn,mn){}}if(this.isEvalSupported&&en.FeatureTest.isEvalSupported){const dn=[];for(const Sn of cn){const mn=Sn.args!==void 0?Sn.args.join(","):"";dn.push("c.",Sn.cmd,"(",mn,`);
`)}return this.compiledGlyphs[un]=new Function("c","size",dn.join(""))}return this.compiledGlyphs[un]=function(dn,Sn){for(const mn of cn)mn.cmd==="scale"&&(mn.args=[Sn,-Sn]),dn[mn.cmd].apply(dn,mn.args)}}}e.FontFaceObject=nn},(_e,e,St)=>{var ur,Am;Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var en=St(1),tn=St(6),nn=St(11),rn=St(13),on=St(12);const un=16,cn=100,dn=4096,Sn=15,mn=10,fn=on.isNodeJS&&typeof Path2D>"u"?-1:1e3,vn=16;function bn(Fn,Rn){if(Fn._removeMirroring)throw new Error("Context is already forwarding operations.");Fn.__originalSave=Fn.save,Fn.__originalRestore=Fn.restore,Fn.__originalRotate=Fn.rotate,Fn.__originalScale=Fn.scale,Fn.__originalTranslate=Fn.translate,Fn.__originalTransform=Fn.transform,Fn.__originalSetTransform=Fn.setTransform,Fn.__originalResetTransform=Fn.resetTransform,Fn.__originalClip=Fn.clip,Fn.__originalMoveTo=Fn.moveTo,Fn.__originalLineTo=Fn.lineTo,Fn.__originalBezierCurveTo=Fn.bezierCurveTo,Fn.__originalRect=Fn.rect,Fn.__originalClosePath=Fn.closePath,Fn.__originalBeginPath=Fn.beginPath,Fn._removeMirroring=()=>{Fn.save=Fn.__originalSave,Fn.restore=Fn.__originalRestore,Fn.rotate=Fn.__originalRotate,Fn.scale=Fn.__originalScale,Fn.translate=Fn.__originalTranslate,Fn.transform=Fn.__originalTransform,Fn.setTransform=Fn.__originalSetTransform,Fn.resetTransform=Fn.__originalResetTransform,Fn.clip=Fn.__originalClip,Fn.moveTo=Fn.__originalMoveTo,Fn.lineTo=Fn.__originalLineTo,Fn.bezierCurveTo=Fn.__originalBezierCurveTo,Fn.rect=Fn.__originalRect,Fn.closePath=Fn.__originalClosePath,Fn.beginPath=Fn.__originalBeginPath,delete Fn._removeMirroring},Fn.save=function(){Rn.save(),this.__originalSave()},Fn.restore=function(){Rn.restore(),this.__originalRestore()},Fn.translate=function(Bn,Hn){Rn.translate(Bn,Hn),this.__originalTranslate(Bn,Hn)},Fn.scale=function(Bn,Hn){Rn.scale(Bn,Hn),this.__originalScale(Bn,Hn)},Fn.transform=function(Bn,Hn,Kn,nr,ir,_r){Rn.transform(Bn,Hn,Kn,nr,ir,_r),this.__originalTransform(Bn,Hn,Kn,nr,ir,_r)},Fn.setTransform=function(Bn,Hn,Kn,nr,ir,_r){Rn.setTransform(Bn,Hn,Kn,nr,ir,_r),this.__originalSetTransform(Bn,Hn,Kn,nr,ir,_r)},Fn.resetTransform=function(){Rn.resetTransform(),this.__originalResetTransform()},Fn.rotate=function(Bn){Rn.rotate(Bn),this.__originalRotate(Bn)},Fn.clip=function(Bn){Rn.clip(Bn),this.__originalClip(Bn)},Fn.moveTo=function(Tn,Bn){Rn.moveTo(Tn,Bn),this.__originalMoveTo(Tn,Bn)},Fn.lineTo=function(Tn,Bn){Rn.lineTo(Tn,Bn),this.__originalLineTo(Tn,Bn)},Fn.bezierCurveTo=function(Tn,Bn,Hn,Kn,nr,ir){Rn.bezierCurveTo(Tn,Bn,Hn,Kn,nr,ir),this.__originalBezierCurveTo(Tn,Bn,Hn,Kn,nr,ir)},Fn.rect=function(Tn,Bn,Hn,Kn){Rn.rect(Tn,Bn,Hn,Kn),this.__originalRect(Tn,Bn,Hn,Kn)},Fn.closePath=function(){Rn.closePath(),this.__originalClosePath()},Fn.beginPath=function(){Rn.beginPath(),this.__originalBeginPath()}}class wn{constructor(Rn){this.canvasFactory=Rn,this.cache=Object.create(null)}getCanvas(Rn,Tn,Bn){let Hn;return this.cache[Rn]!==void 0?(Hn=this.cache[Rn],this.canvasFactory.reset(Hn,Tn,Bn)):(Hn=this.canvasFactory.create(Tn,Bn),this.cache[Rn]=Hn),Hn}delete(Rn){delete this.cache[Rn]}clear(){for(const Rn in this.cache){const Tn=this.cache[Rn];this.canvasFactory.destroy(Tn),delete this.cache[Rn]}}}function pn(Fn,Rn,Tn,Bn,Hn,Kn,nr,ir,_r,Cr){const[br,xr,Un,qn,Dn,lr]=(0,tn.getCurrentTransform)(Fn);if(xr===0&&Un===0){const Ar=nr*br+Dn,Fr=Math.round(Ar),Pr=ir*qn+lr,Gr=Math.round(Pr),Sr=(nr+_r)*br+Dn,Wr=Math.abs(Math.round(Sr)-Fr)||1,Jr=(ir+Cr)*qn+lr,ns=Math.abs(Math.round(Jr)-Gr)||1;return Fn.setTransform(Math.sign(br),0,0,Math.sign(qn),Fr,Gr),Fn.drawImage(Rn,Tn,Bn,Hn,Kn,0,0,Wr,ns),Fn.setTransform(br,xr,Un,qn,Dn,lr),[Wr,ns]}if(br===0&&qn===0){const Ar=ir*Un+Dn,Fr=Math.round(Ar),Pr=nr*xr+lr,Gr=Math.round(Pr),Sr=(ir+Cr)*Un+Dn,Wr=Math.abs(Math.round(Sr)-Fr)||1,Jr=(nr+_r)*xr+lr,ns=Math.abs(Math.round(Jr)-Gr)||1;return Fn.setTransform(0,Math.sign(xr),Math.sign(Un),0,Fr,Gr),Fn.drawImage(Rn,Tn,Bn,Hn,Kn,0,0,ns,Wr),Fn.setTransform(br,xr,Un,qn,Dn,lr),[ns,Wr]}Fn.drawImage(Rn,Tn,Bn,Hn,Kn,nr,ir,_r,Cr);const cr=Math.hypot(br,xr),hr=Math.hypot(Un,qn);return[cr*_r,hr*Cr]}function yn(Fn){const{width:Rn,height:Tn}=Fn;if(Rn>fn||Tn>fn)return null;const Bn=1e3,Hn=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Kn=Rn+1;let nr=new Uint8Array(Kn*(Tn+1)),ir,_r,Cr;const br=Rn+7&-8;let xr=new Uint8Array(br*Tn),Un=0;for(const hr of Fn.data){let Ar=128;for(;Ar>0;)xr[Un++]=hr&Ar?0:255,Ar>>=1}let qn=0;for(Un=0,xr[Un]!==0&&(nr[0]=1,++qn),_r=1;_r<Rn;_r++)xr[Un]!==xr[Un+1]&&(nr[_r]=xr[Un]?2:1,++qn),Un++;for(xr[Un]!==0&&(nr[_r]=2,++qn),ir=1;ir<Tn;ir++){Un=ir*br,Cr=ir*Kn,xr[Un-br]!==xr[Un]&&(nr[Cr]=xr[Un]?1:8,++qn);let hr=(xr[Un]?4:0)+(xr[Un-br]?8:0);for(_r=1;_r<Rn;_r++)hr=(hr>>2)+(xr[Un+1]?4:0)+(xr[Un-br+1]?8:0),Hn[hr]&&(nr[Cr+_r]=Hn[hr],++qn),Un++;if(xr[Un-br]!==xr[Un]&&(nr[Cr+_r]=xr[Un]?2:4,++qn),qn>Bn)return null}for(Un=br*(Tn-1),Cr=ir*Kn,xr[Un]!==0&&(nr[Cr]=8,++qn),_r=1;_r<Rn;_r++)xr[Un]!==xr[Un+1]&&(nr[Cr+_r]=xr[Un]?4:8,++qn),Un++;if(xr[Un]!==0&&(nr[Cr+_r]=4,++qn),qn>Bn)return null;const Dn=new Int32Array([0,Kn,-1,0,-Kn,0,0,0,1]),lr=new Path2D;for(ir=0;qn&&ir<=Tn;ir++){let hr=ir*Kn;const Ar=hr+Rn;for(;hr<Ar&&!nr[hr];)hr++;if(hr===Ar)continue;lr.moveTo(hr%Kn,ir);const Fr=hr;let Pr=nr[hr];do{const Gr=Dn[Pr];do hr+=Gr;while(!nr[hr]);const Sr=nr[hr];Sr!==5&&Sr!==10?(Pr=Sr,nr[hr]=0):(Pr=Sr&51*Pr>>4,nr[hr]&=Pr>>2|Pr<<2),lr.lineTo(hr%Kn,hr/Kn|0),nr[hr]||--qn}while(Fr!==hr);--ir}return xr=null,nr=null,function(hr){hr.save(),hr.scale(1/Rn,-1/Tn),hr.translate(0,-Tn),hr.fill(lr),hr.beginPath(),hr.restore()}}class An{constructor(Rn,Tn){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=en.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=en.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=en.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,Rn,Tn])}clone(){const Rn=Object.create(this);return Rn.clipBox=this.clipBox.slice(),Rn}setCurrentPoint(Rn,Tn){this.x=Rn,this.y=Tn}updatePathMinMax(Rn,Tn,Bn){[Tn,Bn]=en.Util.applyTransform([Tn,Bn],Rn),this.minX=Math.min(this.minX,Tn),this.minY=Math.min(this.minY,Bn),this.maxX=Math.max(this.maxX,Tn),this.maxY=Math.max(this.maxY,Bn)}updateRectMinMax(Rn,Tn){const Bn=en.Util.applyTransform(Tn,Rn),Hn=en.Util.applyTransform(Tn.slice(2),Rn);this.minX=Math.min(this.minX,Bn[0],Hn[0]),this.minY=Math.min(this.minY,Bn[1],Hn[1]),this.maxX=Math.max(this.maxX,Bn[0],Hn[0]),this.maxY=Math.max(this.maxY,Bn[1],Hn[1])}updateScalingPathMinMax(Rn,Tn){en.Util.scaleMinMax(Rn,Tn),this.minX=Math.min(this.minX,Tn[0]),this.maxX=Math.max(this.maxX,Tn[1]),this.minY=Math.min(this.minY,Tn[2]),this.maxY=Math.max(this.maxY,Tn[3])}updateCurvePathMinMax(Rn,Tn,Bn,Hn,Kn,nr,ir,_r,Cr,br){const xr=en.Util.bezierBoundingBox(Tn,Bn,Hn,Kn,nr,ir,_r,Cr);if(br){br[0]=Math.min(br[0],xr[0],xr[2]),br[1]=Math.max(br[1],xr[0],xr[2]),br[2]=Math.min(br[2],xr[1],xr[3]),br[3]=Math.max(br[3],xr[1],xr[3]);return}this.updateRectMinMax(Rn,xr)}getPathBoundingBox(Rn=nn.PathType.FILL,Tn=null){const Bn=[this.minX,this.minY,this.maxX,this.maxY];if(Rn===nn.PathType.STROKE){Tn||(0,en.unreachable)("Stroke bounding box must include transform.");const Hn=en.Util.singularValueDecompose2dScale(Tn),Kn=Hn[0]*this.lineWidth/2,nr=Hn[1]*this.lineWidth/2;Bn[0]-=Kn,Bn[1]-=nr,Bn[2]+=Kn,Bn[3]+=nr}return Bn}updateClipFromPath(){const Rn=en.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Rn||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Rn){this.clipBox=Rn,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Rn=nn.PathType.FILL,Tn=null){return en.Util.intersect(this.clipBox,this.getPathBoundingBox(Rn,Tn))}}function kn(Fn,Rn,Tn=null){if(typeof ImageData<"u"&&Rn instanceof ImageData){Fn.putImageData(Rn,0,0);return}const Bn=Rn.height,Hn=Rn.width,Kn=Bn%vn,nr=(Bn-Kn)/vn,ir=Kn===0?nr:nr+1,_r=Fn.createImageData(Hn,vn);let Cr=0,br;const xr=Rn.data,Un=_r.data;let qn,Dn,lr,cr,hr,Ar,Fr,Pr;if(Tn)switch(Tn.length){case 1:hr=Tn[0],Ar=Tn[0],Fr=Tn[0],Pr=Tn[0];break;case 4:hr=Tn[0],Ar=Tn[1],Fr=Tn[2],Pr=Tn[3];break}if(Rn.kind===en.ImageKind.GRAYSCALE_1BPP){const Gr=xr.byteLength,Sr=new Uint32Array(Un.buffer,0,Un.byteLength>>2),Wr=Sr.length,Jr=Hn+7>>3;let ns=4294967295,Er=en.FeatureTest.isLittleEndian?4278190080:255;for(Pr&&Pr[0]===255&&Pr[255]===0&&([ns,Er]=[Er,ns]),qn=0;qn<ir;qn++){for(lr=qn<nr?vn:Kn,br=0,Dn=0;Dn<lr;Dn++){const zr=Gr-Cr;let rs=0;const Qr=zr>Jr?Hn:zr*8-7,ks=Qr&-8;let ys=0,ws=0;for(;rs<ks;rs+=8)ws=xr[Cr++],Sr[br++]=ws&128?ns:Er,Sr[br++]=ws&64?ns:Er,Sr[br++]=ws&32?ns:Er,Sr[br++]=ws&16?ns:Er,Sr[br++]=ws&8?ns:Er,Sr[br++]=ws&4?ns:Er,Sr[br++]=ws&2?ns:Er,Sr[br++]=ws&1?ns:Er;for(;rs<Qr;rs++)ys===0&&(ws=xr[Cr++],ys=128),Sr[br++]=ws&ys?ns:Er,ys>>=1}for(;br<Wr;)Sr[br++]=0;Fn.putImageData(_r,0,qn*vn)}}else if(Rn.kind===en.ImageKind.RGBA_32BPP){const Gr=!!(hr||Ar||Fr);for(Dn=0,cr=Hn*vn*4,qn=0;qn<nr;qn++){if(Un.set(xr.subarray(Cr,Cr+cr)),Cr+=cr,Gr)for(let Sr=0;Sr<cr;Sr+=4)hr&&(Un[Sr+0]=hr[Un[Sr+0]]),Ar&&(Un[Sr+1]=Ar[Un[Sr+1]]),Fr&&(Un[Sr+2]=Fr[Un[Sr+2]]);Fn.putImageData(_r,0,Dn),Dn+=vn}if(qn<ir){if(cr=Hn*Kn*4,Un.set(xr.subarray(Cr,Cr+cr)),Gr)for(let Sr=0;Sr<cr;Sr+=4)hr&&(Un[Sr+0]=hr[Un[Sr+0]]),Ar&&(Un[Sr+1]=Ar[Un[Sr+1]]),Fr&&(Un[Sr+2]=Fr[Un[Sr+2]]);Fn.putImageData(_r,0,Dn)}}else if(Rn.kind===en.ImageKind.RGB_24BPP){const Gr=!!(hr||Ar||Fr);for(lr=vn,cr=Hn*lr,qn=0;qn<ir;qn++){for(qn>=nr&&(lr=Kn,cr=Hn*lr),br=0,Dn=cr;Dn--;)Un[br++]=xr[Cr++],Un[br++]=xr[Cr++],Un[br++]=xr[Cr++],Un[br++]=255;if(Gr)for(let Sr=0;Sr<br;Sr+=4)hr&&(Un[Sr+0]=hr[Un[Sr+0]]),Ar&&(Un[Sr+1]=Ar[Un[Sr+1]]),Fr&&(Un[Sr+2]=Fr[Un[Sr+2]]);Fn.putImageData(_r,0,qn*vn)}}else throw new Error(`bad image kind: ${Rn.kind}`)}function xn(Fn,Rn){if(Rn.bitmap){Fn.drawImage(Rn.bitmap,0,0);return}const Tn=Rn.height,Bn=Rn.width,Hn=Tn%vn,Kn=(Tn-Hn)/vn,nr=Hn===0?Kn:Kn+1,ir=Fn.createImageData(Bn,vn);let _r=0;const Cr=Rn.data,br=ir.data;for(let xr=0;xr<nr;xr++){const Un=xr<Kn?vn:Hn;({srcPos:_r}=(0,rn.applyMaskImageData)({src:Cr,srcPos:_r,dest:br,width:Bn,height:Un})),Fn.putImageData(ir,0,xr*vn)}}function Pn(Fn,Rn){const Tn=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const Bn of Tn)Fn[Bn]!==void 0&&(Rn[Bn]=Fn[Bn]);Fn.setLineDash!==void 0&&(Rn.setLineDash(Fn.getLineDash()),Rn.lineDashOffset=Fn.lineDashOffset)}function In(Fn,Rn){Fn.strokeStyle=Fn.fillStyle=Rn||"#000000",Fn.fillRule="nonzero",Fn.globalAlpha=1,Fn.lineWidth=1,Fn.lineCap="butt",Fn.lineJoin="miter",Fn.miterLimit=10,Fn.globalCompositeOperation="source-over",Fn.font="10px sans-serif",Fn.setLineDash!==void 0&&(Fn.setLineDash([]),Fn.lineDashOffset=0)}function On(Fn,Rn,Tn,Bn){const Hn=Fn.length;for(let Kn=3;Kn<Hn;Kn+=4){const nr=Fn[Kn];if(nr===0)Fn[Kn-3]=Rn,Fn[Kn-2]=Tn,Fn[Kn-1]=Bn;else if(nr<255){const ir=255-nr;Fn[Kn-3]=Fn[Kn-3]*nr+Rn*ir>>8,Fn[Kn-2]=Fn[Kn-2]*nr+Tn*ir>>8,Fn[Kn-1]=Fn[Kn-1]*nr+Bn*ir>>8}}}function Wn(Fn,Rn,Tn){const Bn=Fn.length,Hn=1/255;for(let Kn=3;Kn<Bn;Kn+=4){const nr=Tn?Tn[Fn[Kn]]:Fn[Kn];Rn[Kn]=Rn[Kn]*nr*Hn|0}}function zn(Fn,Rn,Tn){const Bn=Fn.length;for(let Hn=3;Hn<Bn;Hn+=4){const Kn=Fn[Hn-3]*77+Fn[Hn-2]*152+Fn[Hn-1]*28;Rn[Hn]=Tn?Rn[Hn]*Tn[Kn>>8]>>8:Rn[Hn]*Kn>>16}}function Mn(Fn,Rn,Tn,Bn,Hn,Kn,nr,ir,_r,Cr,br){const xr=!!Kn,Un=xr?Kn[0]:0,qn=xr?Kn[1]:0,Dn=xr?Kn[2]:0;let lr;Hn==="Luminosity"?lr=zn:lr=Wn;const hr=Math.min(Bn,Math.ceil(1048576/Tn));for(let Ar=0;Ar<Bn;Ar+=hr){const Fr=Math.min(hr,Bn-Ar),Pr=Fn.getImageData(ir-Cr,Ar+(_r-br),Tn,Fr),Gr=Rn.getImageData(ir,Ar+_r,Tn,Fr);xr&&On(Pr.data,Un,qn,Dn),lr(Pr.data,Gr.data,nr),Rn.putImageData(Gr,ir,Ar+_r)}}function Gn(Fn,Rn,Tn,Bn){const Hn=Bn[0],Kn=Bn[1],nr=Bn[2]-Hn,ir=Bn[3]-Kn;nr===0||ir===0||(Mn(Rn.context,Tn,nr,ir,Rn.subtype,Rn.backdrop,Rn.transferMap,Hn,Kn,Rn.offsetX,Rn.offsetY),Fn.save(),Fn.globalAlpha=1,Fn.globalCompositeOperation="source-over",Fn.setTransform(1,0,0,1,0,0),Fn.drawImage(Tn.canvas,0,0),Fn.restore())}function er(Fn,Rn){const Tn=en.Util.singularValueDecompose2dScale(Fn);Tn[0]=Math.fround(Tn[0]),Tn[1]=Math.fround(Tn[1]);const Bn=Math.fround((globalThis.devicePixelRatio||1)*tn.PixelsPerInch.PDF_TO_CSS_UNITS);return Rn!==void 0?Rn:Tn[0]<=Bn||Tn[1]<=Bn}const Qn=["butt","round","square"],ar=["miter","round","bevel"],tr={},or={},Lr=class{constructor(Rn,Tn,Bn,Hn,Kn,nr,ir){Xr(this,ur);this.ctx=Rn,this.current=new An(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Tn,this.objs=Bn,this.canvasFactory=Hn,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=Kn,this.cachedCanvases=new wn(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=nr,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(ir==null?void 0:ir.background)||null,this.foregroundColor=(ir==null?void 0:ir.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Rn,Tn=null){return typeof Rn=="string"?Rn.startsWith("g_")?this.commonObjs.get(Rn):this.objs.get(Rn):Tn}beginDrawing({transform:Rn,viewport:Tn,transparency:Bn=!1,background:Hn=null}){const Kn=this.ctx.canvas.width,nr=this.ctx.canvas.height,ir=Hn||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const _r=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const Cr=this.backgroundColor=this.ctx.fillStyle;let br=!0,xr=ir;if(this.ctx.fillStyle=ir,xr=this.ctx.fillStyle,br=typeof xr=="string"&&/^#[0-9A-Fa-f]{6}$/.test(xr),_r==="#000000"&&Cr==="#ffffff"||_r===Cr||!br)this.foregroundColor=this.backgroundColor=null;else{const[Un,qn,Dn]=(0,tn.getRGB)(xr),lr=hr=>(hr/=255,hr<=.03928?hr/12.92:((hr+.055)/1.055)**2.4),cr=Math.round(.2126*lr(Un)+.7152*lr(qn)+.0722*lr(Dn));this.selectColor=(hr,Ar,Fr)=>{const Pr=.2126*lr(hr)+.7152*lr(Ar)+.0722*lr(Fr);return Math.round(Pr)===cr?Cr:_r}}}if(this.ctx.fillStyle=this.backgroundColor||ir,this.ctx.fillRect(0,0,Kn,nr),this.ctx.restore(),Bn){const _r=this.cachedCanvases.getCanvas("transparent",Kn,nr);this.compositeCtx=this.ctx,this.transparentCanvas=_r.canvas,this.ctx=_r.context,this.ctx.save(),this.ctx.transform(...(0,tn.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),In(this.ctx,this.foregroundColor),Rn&&(this.ctx.transform(...Rn),this.outputScaleX=Rn[0],this.outputScaleY=Rn[0]),this.ctx.transform(...Tn.transform),this.viewportScale=Tn.scale,this.baseTransform=(0,tn.getCurrentTransform)(this.ctx)}executeOperatorList(Rn,Tn,Bn,Hn){const Kn=Rn.argsArray,nr=Rn.fnArray;let ir=Tn||0;const _r=Kn.length;if(_r===ir)return ir;const Cr=_r-ir>mn&&typeof Bn=="function",br=Cr?Date.now()+Sn:0;let xr=0;const Un=this.commonObjs,qn=this.objs;let Dn;for(;;){if(Hn!==void 0&&ir===Hn.nextBreakPoint)return Hn.breakIt(ir,Bn),ir;if(Dn=nr[ir],Dn!==en.OPS.dependency)this[Dn].apply(this,Kn[ir]);else for(const lr of Kn[ir]){const cr=lr.startsWith("g_")?Un:qn;if(!cr.has(lr))return cr.get(lr,Bn),ir}if(ir++,ir===_r)return ir;if(Cr&&++xr>mn){if(Date.now()>br)return Bn(),ir;xr=0}}}endDrawing(){ts(this,ur,Am).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Rn of this._cachedBitmapsMap.values()){for(const Tn of Rn.values())typeof HTMLCanvasElement<"u"&&Tn instanceof HTMLCanvasElement&&(Tn.width=Tn.height=0);Rn.clear()}this._cachedBitmapsMap.clear()}_scaleImage(Rn,Tn){const Bn=Rn.width,Hn=Rn.height;let Kn=Math.max(Math.hypot(Tn[0],Tn[1]),1),nr=Math.max(Math.hypot(Tn[2],Tn[3]),1),ir=Bn,_r=Hn,Cr="prescale1",br,xr;for(;Kn>2&&ir>1||nr>2&&_r>1;){let Un=ir,qn=_r;Kn>2&&ir>1&&(Un=Math.ceil(ir/2),Kn/=ir/Un),nr>2&&_r>1&&(qn=Math.ceil(_r/2),nr/=_r/qn),br=this.cachedCanvases.getCanvas(Cr,Un,qn),xr=br.context,xr.clearRect(0,0,Un,qn),xr.drawImage(Rn,0,0,ir,_r,0,0,Un,qn),Rn=br.canvas,ir=Un,_r=qn,Cr=Cr==="prescale1"?"prescale2":"prescale1"}return{img:Rn,paintWidth:ir,paintHeight:_r}}_createMaskCanvas(Rn){const Tn=this.ctx,{width:Bn,height:Hn}=Rn,Kn=this.current.fillColor,nr=this.current.patternFill,ir=(0,tn.getCurrentTransform)(Tn);let _r,Cr,br,xr;if((Rn.bitmap||Rn.data)&&Rn.count>1){const Wr=Rn.bitmap||Rn.data.buffer;Cr=JSON.stringify(nr?ir:[ir.slice(0,4),Kn]),_r=this._cachedBitmapsMap.get(Wr),_r||(_r=new Map,this._cachedBitmapsMap.set(Wr,_r));const Jr=_r.get(Cr);if(Jr&&!nr){const ns=Math.round(Math.min(ir[0],ir[2])+ir[4]),Er=Math.round(Math.min(ir[1],ir[3])+ir[5]);return{canvas:Jr,offsetX:ns,offsetY:Er}}br=Jr}br||(xr=this.cachedCanvases.getCanvas("maskCanvas",Bn,Hn),xn(xr.context,Rn));let Un=en.Util.transform(ir,[1/Bn,0,0,-1/Hn,0,0]);Un=en.Util.transform(Un,[1,0,0,1,0,-Hn]);const qn=en.Util.applyTransform([0,0],Un),Dn=en.Util.applyTransform([Bn,Hn],Un),lr=en.Util.normalizeRect([qn[0],qn[1],Dn[0],Dn[1]]),cr=Math.round(lr[2]-lr[0])||1,hr=Math.round(lr[3]-lr[1])||1,Ar=this.cachedCanvases.getCanvas("fillCanvas",cr,hr),Fr=Ar.context,Pr=Math.min(qn[0],Dn[0]),Gr=Math.min(qn[1],Dn[1]);Fr.translate(-Pr,-Gr),Fr.transform(...Un),br||(br=this._scaleImage(xr.canvas,(0,tn.getCurrentTransformInverse)(Fr)),br=br.img,_r&&nr&&_r.set(Cr,br)),Fr.imageSmoothingEnabled=er((0,tn.getCurrentTransform)(Fr),Rn.interpolate),pn(Fr,br,0,0,br.width,br.height,0,0,Bn,Hn),Fr.globalCompositeOperation="source-in";const Sr=en.Util.transform((0,tn.getCurrentTransformInverse)(Fr),[1,0,0,1,-Pr,-Gr]);return Fr.fillStyle=nr?Kn.getPattern(Tn,this,Sr,nn.PathType.FILL):Kn,Fr.fillRect(0,0,Bn,Hn),_r&&!nr&&(this.cachedCanvases.delete("fillCanvas"),_r.set(Cr,Ar.canvas)),{canvas:Ar.canvas,offsetX:Math.round(Pr),offsetY:Math.round(Gr)}}setLineWidth(Rn){Rn!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=Rn,this.ctx.lineWidth=Rn}setLineCap(Rn){this.ctx.lineCap=Qn[Rn]}setLineJoin(Rn){this.ctx.lineJoin=ar[Rn]}setMiterLimit(Rn){this.ctx.miterLimit=Rn}setDash(Rn,Tn){const Bn=this.ctx;Bn.setLineDash!==void 0&&(Bn.setLineDash(Rn),Bn.lineDashOffset=Tn)}setRenderingIntent(Rn){}setFlatness(Rn){}setGState(Rn){for(const[Tn,Bn]of Rn)switch(Tn){case"LW":this.setLineWidth(Bn);break;case"LC":this.setLineCap(Bn);break;case"LJ":this.setLineJoin(Bn);break;case"ML":this.setMiterLimit(Bn);break;case"D":this.setDash(Bn[0],Bn[1]);break;case"RI":this.setRenderingIntent(Bn);break;case"FL":this.setFlatness(Bn);break;case"Font":this.setFont(Bn[0],Bn[1]);break;case"CA":this.current.strokeAlpha=Bn;break;case"ca":this.current.fillAlpha=Bn,this.ctx.globalAlpha=Bn;break;case"BM":this.ctx.globalCompositeOperation=Bn;break;case"SMask":this.current.activeSMask=Bn?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=Bn}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Rn=this.inSMaskMode;this.current.activeSMask&&!Rn?this.beginSMaskMode():!this.current.activeSMask&&Rn&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Rn=this.ctx.canvas.width,Tn=this.ctx.canvas.height,Bn="smaskGroupAt"+this.groupLevel,Hn=this.cachedCanvases.getCanvas(Bn,Rn,Tn);this.suspendedCtx=this.ctx,this.ctx=Hn.context;const Kn=this.ctx;Kn.setTransform(...(0,tn.getCurrentTransform)(this.suspendedCtx)),Pn(this.suspendedCtx,Kn),bn(Kn,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Pn(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Rn){if(!this.current.activeSMask)return;Rn?(Rn[0]=Math.floor(Rn[0]),Rn[1]=Math.floor(Rn[1]),Rn[2]=Math.ceil(Rn[2]),Rn[3]=Math.ceil(Rn[3])):Rn=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Tn=this.current.activeSMask,Bn=this.suspendedCtx;Gn(Bn,Tn,this.ctx,Rn),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Pn(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Rn=this.current;this.stateStack.push(Rn),this.current=Rn.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Pn(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(Rn,Tn,Bn,Hn,Kn,nr){this.ctx.transform(Rn,Tn,Bn,Hn,Kn,nr),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(Rn,Tn,Bn){const Hn=this.ctx,Kn=this.current;let nr=Kn.x,ir=Kn.y,_r,Cr;const br=(0,tn.getCurrentTransform)(Hn),xr=br[0]===0&&br[3]===0||br[1]===0&&br[2]===0,Un=xr?Bn.slice(0):null;for(let qn=0,Dn=0,lr=Rn.length;qn<lr;qn++)switch(Rn[qn]|0){case en.OPS.rectangle:nr=Tn[Dn++],ir=Tn[Dn++];const cr=Tn[Dn++],hr=Tn[Dn++],Ar=nr+cr,Fr=ir+hr;Hn.moveTo(nr,ir),cr===0||hr===0?Hn.lineTo(Ar,Fr):(Hn.lineTo(Ar,ir),Hn.lineTo(Ar,Fr),Hn.lineTo(nr,Fr)),xr||Kn.updateRectMinMax(br,[nr,ir,Ar,Fr]),Hn.closePath();break;case en.OPS.moveTo:nr=Tn[Dn++],ir=Tn[Dn++],Hn.moveTo(nr,ir),xr||Kn.updatePathMinMax(br,nr,ir);break;case en.OPS.lineTo:nr=Tn[Dn++],ir=Tn[Dn++],Hn.lineTo(nr,ir),xr||Kn.updatePathMinMax(br,nr,ir);break;case en.OPS.curveTo:_r=nr,Cr=ir,nr=Tn[Dn+4],ir=Tn[Dn+5],Hn.bezierCurveTo(Tn[Dn],Tn[Dn+1],Tn[Dn+2],Tn[Dn+3],nr,ir),Kn.updateCurvePathMinMax(br,_r,Cr,Tn[Dn],Tn[Dn+1],Tn[Dn+2],Tn[Dn+3],nr,ir,Un),Dn+=6;break;case en.OPS.curveTo2:_r=nr,Cr=ir,Hn.bezierCurveTo(nr,ir,Tn[Dn],Tn[Dn+1],Tn[Dn+2],Tn[Dn+3]),Kn.updateCurvePathMinMax(br,_r,Cr,nr,ir,Tn[Dn],Tn[Dn+1],Tn[Dn+2],Tn[Dn+3],Un),nr=Tn[Dn+2],ir=Tn[Dn+3],Dn+=4;break;case en.OPS.curveTo3:_r=nr,Cr=ir,nr=Tn[Dn+2],ir=Tn[Dn+3],Hn.bezierCurveTo(Tn[Dn],Tn[Dn+1],nr,ir,nr,ir),Kn.updateCurvePathMinMax(br,_r,Cr,Tn[Dn],Tn[Dn+1],nr,ir,nr,ir,Un),Dn+=4;break;case en.OPS.closePath:Hn.closePath();break}xr&&Kn.updateScalingPathMinMax(br,Un),Kn.setCurrentPoint(nr,ir)}closePath(){this.ctx.closePath()}stroke(Rn){Rn=typeof Rn<"u"?Rn:!0;const Tn=this.ctx,Bn=this.current.strokeColor;Tn.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Bn=="object"&&(Bn==null?void 0:Bn.getPattern)?(Tn.save(),Tn.strokeStyle=Bn.getPattern(Tn,this,(0,tn.getCurrentTransformInverse)(Tn),nn.PathType.STROKE),this.rescaleAndStroke(!1),Tn.restore()):this.rescaleAndStroke(!0)),Rn&&this.consumePath(this.current.getClippedPathBoundingBox()),Tn.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Rn){Rn=typeof Rn<"u"?Rn:!0;const Tn=this.ctx,Bn=this.current.fillColor,Hn=this.current.patternFill;let Kn=!1;Hn&&(Tn.save(),Tn.fillStyle=Bn.getPattern(Tn,this,(0,tn.getCurrentTransformInverse)(Tn),nn.PathType.FILL),Kn=!0);const nr=this.current.getClippedPathBoundingBox();this.contentVisible&&nr!==null&&(this.pendingEOFill?(Tn.fill("evenodd"),this.pendingEOFill=!1):Tn.fill()),Kn&&Tn.restore(),Rn&&this.consumePath(nr)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=tr}eoClip(){this.pendingClip=or}beginText(){this.current.textMatrix=en.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Rn=this.pendingTextPaths,Tn=this.ctx;if(Rn===void 0){Tn.beginPath();return}Tn.save(),Tn.beginPath();for(const Bn of Rn)Tn.setTransform(...Bn.transform),Tn.translate(Bn.x,Bn.y),Bn.addToPath(Tn,Bn.fontSize);Tn.restore(),Tn.clip(),Tn.beginPath(),delete this.pendingTextPaths}setCharSpacing(Rn){this.current.charSpacing=Rn}setWordSpacing(Rn){this.current.wordSpacing=Rn}setHScale(Rn){this.current.textHScale=Rn/100}setLeading(Rn){this.current.leading=-Rn}setFont(Rn,Tn){const Bn=this.commonObjs.get(Rn),Hn=this.current;if(!Bn)throw new Error(`Can't find font for ${Rn}`);if(Hn.fontMatrix=Bn.fontMatrix||en.FONT_IDENTITY_MATRIX,(Hn.fontMatrix[0]===0||Hn.fontMatrix[3]===0)&&(0,en.warn)("Invalid font matrix for font "+Rn),Tn<0?(Tn=-Tn,Hn.fontDirection=-1):Hn.fontDirection=1,this.current.font=Bn,this.current.fontSize=Tn,Bn.isType3Font)return;const Kn=Bn.loadedName||"sans-serif";let nr="normal";Bn.black?nr="900":Bn.bold&&(nr="bold");const ir=Bn.italic?"italic":"normal",_r=`"${Kn}", ${Bn.fallbackName}`;let Cr=Tn;Tn<un?Cr=un:Tn>cn&&(Cr=cn),this.current.fontSizeScale=Tn/Cr,this.ctx.font=`${ir} ${nr} ${Cr}px ${_r}`}setTextRenderingMode(Rn){this.current.textRenderingMode=Rn}setTextRise(Rn){this.current.textRise=Rn}moveText(Rn,Tn){this.current.x=this.current.lineX+=Rn,this.current.y=this.current.lineY+=Tn}setLeadingMoveText(Rn,Tn){this.setLeading(-Tn),this.moveText(Rn,Tn)}setTextMatrix(Rn,Tn,Bn,Hn,Kn,nr){this.current.textMatrix=[Rn,Tn,Bn,Hn,Kn,nr],this.current.textMatrixScale=Math.hypot(Rn,Tn),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Rn,Tn,Bn,Hn){const Kn=this.ctx,nr=this.current,ir=nr.font,_r=nr.textRenderingMode,Cr=nr.fontSize/nr.fontSizeScale,br=_r&en.TextRenderingMode.FILL_STROKE_MASK,xr=!!(_r&en.TextRenderingMode.ADD_TO_PATH_FLAG),Un=nr.patternFill&&!ir.missingFile;let qn;(ir.disableFontFace||xr||Un)&&(qn=ir.getPathGenerator(this.commonObjs,Rn)),ir.disableFontFace||Un?(Kn.save(),Kn.translate(Tn,Bn),Kn.beginPath(),qn(Kn,Cr),Hn&&Kn.setTransform(...Hn),(br===en.TextRenderingMode.FILL||br===en.TextRenderingMode.FILL_STROKE)&&Kn.fill(),(br===en.TextRenderingMode.STROKE||br===en.TextRenderingMode.FILL_STROKE)&&Kn.stroke(),Kn.restore()):((br===en.TextRenderingMode.FILL||br===en.TextRenderingMode.FILL_STROKE)&&Kn.fillText(Rn,Tn,Bn),(br===en.TextRenderingMode.STROKE||br===en.TextRenderingMode.FILL_STROKE)&&Kn.strokeText(Rn,Tn,Bn)),xr&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,tn.getCurrentTransform)(Kn),x:Tn,y:Bn,fontSize:Cr,addToPath:qn})}get isFontSubpixelAAEnabled(){const{context:Rn}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Rn.scale(1.5,1),Rn.fillText("I",0,10);const Tn=Rn.getImageData(0,0,10,10).data;let Bn=!1;for(let Hn=3;Hn<Tn.length;Hn+=4)if(Tn[Hn]>0&&Tn[Hn]<255){Bn=!0;break}return(0,en.shadow)(this,"isFontSubpixelAAEnabled",Bn)}showText(Rn){const Tn=this.current,Bn=Tn.font;if(Bn.isType3Font)return this.showType3Text(Rn);const Hn=Tn.fontSize;if(Hn===0)return;const Kn=this.ctx,nr=Tn.fontSizeScale,ir=Tn.charSpacing,_r=Tn.wordSpacing,Cr=Tn.fontDirection,br=Tn.textHScale*Cr,xr=Rn.length,Un=Bn.vertical,qn=Un?1:-1,Dn=Bn.defaultVMetrics,lr=Hn*Tn.fontMatrix[0],cr=Tn.textRenderingMode===en.TextRenderingMode.FILL&&!Bn.disableFontFace&&!Tn.patternFill;Kn.save(),Kn.transform(...Tn.textMatrix),Kn.translate(Tn.x,Tn.y+Tn.textRise),Cr>0?Kn.scale(br,-1):Kn.scale(br,1);let hr;if(Tn.patternFill){Kn.save();const Sr=Tn.fillColor.getPattern(Kn,this,(0,tn.getCurrentTransformInverse)(Kn),nn.PathType.FILL);hr=(0,tn.getCurrentTransform)(Kn),Kn.restore(),Kn.fillStyle=Sr}let Ar=Tn.lineWidth;const Fr=Tn.textMatrixScale;if(Fr===0||Ar===0){const Sr=Tn.textRenderingMode&en.TextRenderingMode.FILL_STROKE_MASK;(Sr===en.TextRenderingMode.STROKE||Sr===en.TextRenderingMode.FILL_STROKE)&&(Ar=this.getSinglePixelWidth())}else Ar/=Fr;nr!==1&&(Kn.scale(nr,nr),Ar/=nr),Kn.lineWidth=Ar;let Pr=0,Gr;for(Gr=0;Gr<xr;++Gr){const Sr=Rn[Gr];if(typeof Sr=="number"){Pr+=qn*Sr*Hn/1e3;continue}let Wr=!1;const Jr=(Sr.isSpace?_r:0)+ir,ns=Sr.fontChar,Er=Sr.accent;let zr,rs,Qr=Sr.width;if(Un){const ys=Sr.vmetric||Dn,ws=-(Sr.vmetric?ys[1]:Qr*.5)*lr,Bs=ys[2]*lr;Qr=ys?-ys[0]:Qr,zr=ws/nr,rs=(Pr+Bs)/nr}else zr=Pr/nr,rs=0;if(Bn.remeasure&&Qr>0){const ys=Kn.measureText(ns).width*1e3/Hn*nr;if(Qr<ys&&this.isFontSubpixelAAEnabled){const ws=Qr/ys;Wr=!0,Kn.save(),Kn.scale(ws,1),zr/=ws}else Qr!==ys&&(zr+=(Qr-ys)/2e3*Hn/nr)}if(this.contentVisible&&(Sr.isInFont||Bn.missingFile)){if(cr&&!Er)Kn.fillText(ns,zr,rs);else if(this.paintChar(ns,zr,rs,hr),Er){const ys=zr+Hn*Er.offset.x/nr,ws=rs-Hn*Er.offset.y/nr;this.paintChar(Er.fontChar,ys,ws,hr)}}let ks;Un?ks=Qr*lr-Jr*Cr:ks=Qr*lr+Jr*Cr,Pr+=ks,Wr&&Kn.restore()}Un?Tn.y-=Pr:Tn.x+=Pr*br,Kn.restore(),this.compose()}showType3Text(Rn){const Tn=this.ctx,Bn=this.current,Hn=Bn.font,Kn=Bn.fontSize,nr=Bn.fontDirection,ir=Hn.vertical?1:-1,_r=Bn.charSpacing,Cr=Bn.wordSpacing,br=Bn.textHScale*nr,xr=Bn.fontMatrix||en.FONT_IDENTITY_MATRIX,Un=Rn.length,qn=Bn.textRenderingMode===en.TextRenderingMode.INVISIBLE;let Dn,lr,cr,hr;if(!(qn||Kn===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,Tn.save(),Tn.transform(...Bn.textMatrix),Tn.translate(Bn.x,Bn.y),Tn.scale(br,nr),Dn=0;Dn<Un;++Dn){if(lr=Rn[Dn],typeof lr=="number"){hr=ir*lr*Kn/1e3,this.ctx.translate(hr,0),Bn.x+=hr*br;continue}const Ar=(lr.isSpace?Cr:0)+_r,Fr=Hn.charProcOperatorList[lr.operatorListId];if(!Fr){(0,en.warn)(`Type3 character "${lr.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=lr,this.save(),Tn.scale(Kn,Kn),Tn.transform(...xr),this.executeOperatorList(Fr),this.restore()),cr=en.Util.applyTransform([lr.width,0],xr)[0]*Kn+Ar,Tn.translate(cr,0),Bn.x+=cr*br}Tn.restore(),this.processingType3=null}}setCharWidth(Rn,Tn){}setCharWidthAndBounds(Rn,Tn,Bn,Hn,Kn,nr){this.ctx.rect(Bn,Hn,Kn-Bn,nr-Hn),this.ctx.clip(),this.endPath()}getColorN_Pattern(Rn){let Tn;if(Rn[0]==="TilingPattern"){const Bn=Rn[1],Hn=this.baseTransform||(0,tn.getCurrentTransform)(this.ctx),Kn={createCanvasGraphics:nr=>new Lr(nr,this.commonObjs,this.objs,this.canvasFactory)};Tn=new nn.TilingPattern(Rn,Bn,this.ctx,Kn,Hn)}else Tn=this._getPattern(Rn[1],Rn[2]);return Tn}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Rn,Tn,Bn){var Kn;const Hn=((Kn=this.selectColor)==null?void 0:Kn.call(this,Rn,Tn,Bn))||en.Util.makeHexColor(Rn,Tn,Bn);this.ctx.strokeStyle=Hn,this.current.strokeColor=Hn}setFillRGBColor(Rn,Tn,Bn){var Kn;const Hn=((Kn=this.selectColor)==null?void 0:Kn.call(this,Rn,Tn,Bn))||en.Util.makeHexColor(Rn,Tn,Bn);this.ctx.fillStyle=Hn,this.current.fillColor=Hn,this.current.patternFill=!1}_getPattern(Rn,Tn=null){let Bn;return this.cachedPatterns.has(Rn)?Bn=this.cachedPatterns.get(Rn):(Bn=(0,nn.getShadingPattern)(this.objs.get(Rn)),this.cachedPatterns.set(Rn,Bn)),Tn&&(Bn.matrix=Tn),Bn}shadingFill(Rn){if(!this.contentVisible)return;const Tn=this.ctx;this.save();const Bn=this._getPattern(Rn);Tn.fillStyle=Bn.getPattern(Tn,this,(0,tn.getCurrentTransformInverse)(Tn),nn.PathType.SHADING);const Hn=(0,tn.getCurrentTransformInverse)(Tn);if(Hn){const Kn=Tn.canvas,nr=Kn.width,ir=Kn.height,_r=en.Util.applyTransform([0,0],Hn),Cr=en.Util.applyTransform([0,ir],Hn),br=en.Util.applyTransform([nr,0],Hn),xr=en.Util.applyTransform([nr,ir],Hn),Un=Math.min(_r[0],Cr[0],br[0],xr[0]),qn=Math.min(_r[1],Cr[1],br[1],xr[1]),Dn=Math.max(_r[0],Cr[0],br[0],xr[0]),lr=Math.max(_r[1],Cr[1],br[1],xr[1]);this.ctx.fillRect(Un,qn,Dn-Un,lr-qn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,en.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,en.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Rn,Tn){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Rn)&&Rn.length===6&&this.transform(...Rn),this.baseTransform=(0,tn.getCurrentTransform)(this.ctx),Tn)){const Bn=Tn[2]-Tn[0],Hn=Tn[3]-Tn[1];this.ctx.rect(Tn[0],Tn[1],Bn,Hn),this.current.updateRectMinMax((0,tn.getCurrentTransform)(this.ctx),Tn),this.clip(),this.endPath()}}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Rn){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Tn=this.ctx;Rn.isolated||(0,en.info)("TODO: Support non-isolated groups."),Rn.knockout&&(0,en.warn)("Knockout groups not supported.");const Bn=(0,tn.getCurrentTransform)(Tn);if(Rn.matrix&&Tn.transform(...Rn.matrix),!Rn.bbox)throw new Error("Bounding box is required.");let Hn=en.Util.getAxialAlignedBoundingBox(Rn.bbox,(0,tn.getCurrentTransform)(Tn));const Kn=[0,0,Tn.canvas.width,Tn.canvas.height];Hn=en.Util.intersect(Hn,Kn)||[0,0,0,0];const nr=Math.floor(Hn[0]),ir=Math.floor(Hn[1]);let _r=Math.max(Math.ceil(Hn[2])-nr,1),Cr=Math.max(Math.ceil(Hn[3])-ir,1),br=1,xr=1;_r>dn&&(br=_r/dn,_r=dn),Cr>dn&&(xr=Cr/dn,Cr=dn),this.current.startNewPathAndClipBox([0,0,_r,Cr]);let Un="groupAt"+this.groupLevel;Rn.smask&&(Un+="_smask_"+this.smaskCounter++%2);const qn=this.cachedCanvases.getCanvas(Un,_r,Cr),Dn=qn.context;Dn.scale(1/br,1/xr),Dn.translate(-nr,-ir),Dn.transform(...Bn),Rn.smask?this.smaskStack.push({canvas:qn.canvas,context:Dn,offsetX:nr,offsetY:ir,scaleX:br,scaleY:xr,subtype:Rn.smask.subtype,backdrop:Rn.smask.backdrop,transferMap:Rn.smask.transferMap||null,startTransformInverse:null}):(Tn.setTransform(1,0,0,1,0,0),Tn.translate(nr,ir),Tn.scale(br,xr),Tn.save()),Pn(Tn,Dn),this.ctx=Dn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Tn),this.groupLevel++}endGroup(Rn){if(!this.contentVisible)return;this.groupLevel--;const Tn=this.ctx,Bn=this.groupStack.pop();if(this.ctx=Bn,this.ctx.imageSmoothingEnabled=!1,Rn.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Hn=(0,tn.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Hn);const Kn=en.Util.getAxialAlignedBoundingBox([0,0,Tn.canvas.width,Tn.canvas.height],Hn);this.ctx.drawImage(Tn.canvas,0,0),this.ctx.restore(),this.compose(Kn)}}beginAnnotation(Rn,Tn,Bn,Hn,Kn){if(ts(this,ur,Am).call(this),In(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Tn)&&Tn.length===4){const nr=Tn[2]-Tn[0],ir=Tn[3]-Tn[1];if(Kn&&this.annotationCanvasMap){Bn=Bn.slice(),Bn[4]-=Tn[0],Bn[5]-=Tn[1],Tn=Tn.slice(),Tn[0]=Tn[1]=0,Tn[2]=nr,Tn[3]=ir;const[_r,Cr]=en.Util.singularValueDecompose2dScale((0,tn.getCurrentTransform)(this.ctx)),{viewportScale:br}=this,xr=Math.ceil(nr*this.outputScaleX*br),Un=Math.ceil(ir*this.outputScaleY*br);this.annotationCanvas=this.canvasFactory.create(xr,Un);const{canvas:qn,context:Dn}=this.annotationCanvas;this.annotationCanvasMap.set(Rn,qn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Dn,this.ctx.setTransform(_r,0,0,-Cr,0,ir*Cr),In(this.ctx,this.foregroundColor)}else In(this.ctx,this.foregroundColor),this.ctx.rect(Tn[0],Tn[1],nr,ir),this.ctx.clip(),this.endPath()}this.current=new An(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Bn),this.transform(...Hn)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Rn){if(!this.contentVisible)return;const Tn=Rn.count;Rn=this.getObject(Rn.data,Rn),Rn.count=Tn;const Bn=this.ctx,Hn=this.processingType3;if(Hn&&(Hn.compiled===void 0&&(Hn.compiled=yn(Rn)),Hn.compiled)){Hn.compiled(Bn);return}const Kn=this._createMaskCanvas(Rn),nr=Kn.canvas;Bn.save(),Bn.setTransform(1,0,0,1,0,0),Bn.drawImage(nr,Kn.offsetX,Kn.offsetY),Bn.restore(),this.compose()}paintImageMaskXObjectRepeat(Rn,Tn,Bn=0,Hn=0,Kn,nr){if(!this.contentVisible)return;Rn=this.getObject(Rn.data,Rn);const ir=this.ctx;ir.save();const _r=(0,tn.getCurrentTransform)(ir);ir.transform(Tn,Bn,Hn,Kn,0,0);const Cr=this._createMaskCanvas(Rn);ir.setTransform(1,0,0,1,0,0);for(let br=0,xr=nr.length;br<xr;br+=2){const Un=en.Util.transform(_r,[Tn,Bn,Hn,Kn,nr[br],nr[br+1]]),[qn,Dn]=en.Util.applyTransform([0,0],Un);ir.drawImage(Cr.canvas,qn,Dn)}ir.restore(),this.compose()}paintImageMaskXObjectGroup(Rn){if(!this.contentVisible)return;const Tn=this.ctx,Bn=this.current.fillColor,Hn=this.current.patternFill;for(const Kn of Rn){const{data:nr,width:ir,height:_r,transform:Cr}=Kn,br=this.cachedCanvases.getCanvas("maskCanvas",ir,_r),xr=br.context;xr.save();const Un=this.getObject(nr,Kn);xn(xr,Un),xr.globalCompositeOperation="source-in",xr.fillStyle=Hn?Bn.getPattern(xr,this,(0,tn.getCurrentTransformInverse)(Tn),nn.PathType.FILL):Bn,xr.fillRect(0,0,ir,_r),xr.restore(),Tn.save(),Tn.transform(...Cr),Tn.scale(1,-1),pn(Tn,br.canvas,0,0,ir,_r,0,-1,1,1),Tn.restore()}this.compose()}paintImageXObject(Rn){if(!this.contentVisible)return;const Tn=this.getObject(Rn);if(!Tn){(0,en.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Tn)}paintImageXObjectRepeat(Rn,Tn,Bn,Hn){if(!this.contentVisible)return;const Kn=this.getObject(Rn);if(!Kn){(0,en.warn)("Dependent image isn't ready yet");return}const nr=Kn.width,ir=Kn.height,_r=[];for(let Cr=0,br=Hn.length;Cr<br;Cr+=2)_r.push({transform:[Tn,0,0,Bn,Hn[Cr],Hn[Cr+1]],x:0,y:0,w:nr,h:ir});this.paintInlineImageXObjectGroup(Kn,_r)}paintInlineImageXObject(Rn){if(!this.contentVisible)return;const Tn=Rn.width,Bn=Rn.height,Hn=this.ctx;this.save(),Hn.scale(1/Tn,-1/Bn);let Kn;if(typeof HTMLElement=="function"&&Rn instanceof HTMLElement||!Rn.data)Kn=Rn;else{const ir=this.cachedCanvases.getCanvas("inlineImage",Tn,Bn),_r=ir.context;kn(_r,Rn,this.current.transferMaps),Kn=ir.canvas}const nr=this._scaleImage(Kn,(0,tn.getCurrentTransformInverse)(Hn));Hn.imageSmoothingEnabled=er((0,tn.getCurrentTransform)(Hn),Rn.interpolate),pn(Hn,nr.img,0,0,nr.paintWidth,nr.paintHeight,0,-Bn,Tn,Bn),this.compose(),this.restore()}paintInlineImageXObjectGroup(Rn,Tn){if(!this.contentVisible)return;const Bn=this.ctx,Hn=Rn.width,Kn=Rn.height,nr=this.cachedCanvases.getCanvas("inlineImage",Hn,Kn),ir=nr.context;kn(ir,Rn,this.current.transferMaps);for(const _r of Tn)Bn.save(),Bn.transform(..._r.transform),Bn.scale(1,-1),pn(Bn,nr.canvas,_r.x,_r.y,_r.w,_r.h,0,-1,1,1),Bn.restore();this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Rn){}markPointProps(Rn,Tn){}beginMarkedContent(Rn){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Rn,Tn){Rn==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Tn)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Rn){const Tn=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Rn);const Bn=this.ctx;this.pendingClip&&(Tn||(this.pendingClip===or?Bn.clip("evenodd"):Bn.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Bn.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Rn=(0,tn.getCurrentTransform)(this.ctx);if(Rn[1]===0&&Rn[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Rn[0]),Math.abs(Rn[3]));else{const Tn=Math.abs(Rn[0]*Rn[3]-Rn[2]*Rn[1]),Bn=Math.hypot(Rn[0],Rn[2]),Hn=Math.hypot(Rn[1],Rn[3]);this._cachedGetSinglePixelWidth=Math.max(Bn,Hn)/Tn}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:Rn}=this.current,Tn=(0,tn.getCurrentTransform)(this.ctx);let Bn,Hn;if(Tn[1]===0&&Tn[2]===0){const Kn=Math.abs(Tn[0]),nr=Math.abs(Tn[3]);if(Rn===0)Bn=1/Kn,Hn=1/nr;else{const ir=Kn*Rn,_r=nr*Rn;Bn=ir<1?1/ir:1,Hn=_r<1?1/_r:1}}else{const Kn=Math.abs(Tn[0]*Tn[3]-Tn[2]*Tn[1]),nr=Math.hypot(Tn[0],Tn[1]),ir=Math.hypot(Tn[2],Tn[3]);if(Rn===0)Bn=ir/Kn,Hn=nr/Kn;else{const _r=Rn*Kn;Bn=ir>_r?ir/_r:1,Hn=nr>_r?nr/_r:1}}this._cachedScaleForStroking=[Bn,Hn]}return this._cachedScaleForStroking}rescaleAndStroke(Rn){const{ctx:Tn}=this,{lineWidth:Bn}=this.current,[Hn,Kn]=this.getScaleForStroking();if(Tn.lineWidth=Bn||1,Hn===1&&Kn===1){Tn.stroke();return}let nr,ir,_r;Rn&&(nr=(0,tn.getCurrentTransform)(Tn),ir=Tn.getLineDash().slice(),_r=Tn.lineDashOffset),Tn.scale(Hn,Kn);const Cr=Math.max(Hn,Kn);Tn.setLineDash(Tn.getLineDash().map(br=>br/Cr)),Tn.lineDashOffset/=Cr,Tn.stroke(),Rn&&(Tn.setTransform(...nr),Tn.setLineDash(ir),Tn.lineDashOffset=_r)}isContentVisible(){for(let Rn=this.markedContentStack.length-1;Rn>=0;Rn--)if(!this.markedContentStack[Rn].visible)return!1;return!0}};let Yn=Lr;ur=new WeakSet,Am=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},e.CanvasGraphics=Yn;for(const Fn in en.OPS)Yn.prototype[Fn]!==void 0&&(Yn.prototype[en.OPS[Fn]]=Yn.prototype[Fn])},(_e,e,St)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=vn;var en=St(1),tn=St(6),nn=St(12);const rn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=rn;function on(pn,yn){if(!yn||nn.isNodeJS)return;const An=yn[2]-yn[0],kn=yn[3]-yn[1],xn=new Path2D;xn.rect(yn[0],yn[1],An,kn),pn.clip(xn)}class un{constructor(){this.constructor===un&&(0,en.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,en.unreachable)("Abstract method `getPattern` called.")}}class cn extends un{constructor(yn){super(),this._type=yn[1],this._bbox=yn[2],this._colorStops=yn[3],this._p0=yn[4],this._p1=yn[5],this._r0=yn[6],this._r1=yn[7],this.matrix=null}_createGradient(yn){let An;this._type==="axial"?An=yn.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(An=yn.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const kn of this._colorStops)An.addColorStop(kn[0],kn[1]);return An}getPattern(yn,An,kn,xn){let Pn;if(xn===rn.STROKE||xn===rn.FILL){const In=An.current.getClippedPathBoundingBox(xn,(0,tn.getCurrentTransform)(yn))||[0,0,0,0],On=Math.ceil(In[2]-In[0])||1,Wn=Math.ceil(In[3]-In[1])||1,zn=An.cachedCanvases.getCanvas("pattern",On,Wn,!0),Mn=zn.context;Mn.clearRect(0,0,Mn.canvas.width,Mn.canvas.height),Mn.beginPath(),Mn.rect(0,0,Mn.canvas.width,Mn.canvas.height),Mn.translate(-In[0],-In[1]),kn=en.Util.transform(kn,[1,0,0,1,In[0],In[1]]),Mn.transform(...An.baseTransform),this.matrix&&Mn.transform(...this.matrix),on(Mn,this._bbox),Mn.fillStyle=this._createGradient(Mn),Mn.fill(),Pn=yn.createPattern(zn.canvas,"no-repeat");const Gn=new DOMMatrix(kn);Pn.setTransform(Gn)}else on(yn,this._bbox),Pn=this._createGradient(yn);return Pn}}function dn(pn,yn,An,kn,xn,Pn,In,On){const Wn=yn.coords,zn=yn.colors,Mn=pn.data,Gn=pn.width*4;let er;Wn[An+1]>Wn[kn+1]&&(er=An,An=kn,kn=er,er=Pn,Pn=In,In=er),Wn[kn+1]>Wn[xn+1]&&(er=kn,kn=xn,xn=er,er=In,In=On,On=er),Wn[An+1]>Wn[kn+1]&&(er=An,An=kn,kn=er,er=Pn,Pn=In,In=er);const Qn=(Wn[An]+yn.offsetX)*yn.scaleX,ar=(Wn[An+1]+yn.offsetY)*yn.scaleY,tr=(Wn[kn]+yn.offsetX)*yn.scaleX,or=(Wn[kn+1]+yn.offsetY)*yn.scaleY,Yn=(Wn[xn]+yn.offsetX)*yn.scaleX,ur=(Wn[xn+1]+yn.offsetY)*yn.scaleY;if(ar>=ur)return;const pr=zn[Pn],Lr=zn[Pn+1],Fn=zn[Pn+2],Rn=zn[In],Tn=zn[In+1],Bn=zn[In+2],Hn=zn[On],Kn=zn[On+1],nr=zn[On+2],ir=Math.round(ar),_r=Math.round(ur);let Cr,br,xr,Un,qn,Dn,lr,cr;for(let hr=ir;hr<=_r;hr++){if(hr<or){let Sr;hr<ar?Sr=0:Sr=(ar-hr)/(ar-or),Cr=Qn-(Qn-tr)*Sr,br=pr-(pr-Rn)*Sr,xr=Lr-(Lr-Tn)*Sr,Un=Fn-(Fn-Bn)*Sr}else{let Sr;hr>ur?Sr=1:or===ur?Sr=0:Sr=(or-hr)/(or-ur),Cr=tr-(tr-Yn)*Sr,br=Rn-(Rn-Hn)*Sr,xr=Tn-(Tn-Kn)*Sr,Un=Bn-(Bn-nr)*Sr}let Ar;hr<ar?Ar=0:hr>ur?Ar=1:Ar=(ar-hr)/(ar-ur),qn=Qn-(Qn-Yn)*Ar,Dn=pr-(pr-Hn)*Ar,lr=Lr-(Lr-Kn)*Ar,cr=Fn-(Fn-nr)*Ar;const Fr=Math.round(Math.min(Cr,qn)),Pr=Math.round(Math.max(Cr,qn));let Gr=Gn*hr+Fr*4;for(let Sr=Fr;Sr<=Pr;Sr++)Ar=(Cr-Sr)/(Cr-qn),Ar<0?Ar=0:Ar>1&&(Ar=1),Mn[Gr++]=br-(br-Dn)*Ar|0,Mn[Gr++]=xr-(xr-lr)*Ar|0,Mn[Gr++]=Un-(Un-cr)*Ar|0,Mn[Gr++]=255}}function Sn(pn,yn,An){const kn=yn.coords,xn=yn.colors;let Pn,In;switch(yn.type){case"lattice":const On=yn.verticesPerRow,Wn=Math.floor(kn.length/On)-1,zn=On-1;for(Pn=0;Pn<Wn;Pn++){let Mn=Pn*On;for(let Gn=0;Gn<zn;Gn++,Mn++)dn(pn,An,kn[Mn],kn[Mn+1],kn[Mn+On],xn[Mn],xn[Mn+1],xn[Mn+On]),dn(pn,An,kn[Mn+On+1],kn[Mn+1],kn[Mn+On],xn[Mn+On+1],xn[Mn+1],xn[Mn+On])}break;case"triangles":for(Pn=0,In=kn.length;Pn<In;Pn+=3)dn(pn,An,kn[Pn],kn[Pn+1],kn[Pn+2],xn[Pn],xn[Pn+1],xn[Pn+2]);break;default:throw new Error("illegal figure")}}class mn extends un{constructor(yn){super(),this._coords=yn[2],this._colors=yn[3],this._figures=yn[4],this._bounds=yn[5],this._bbox=yn[7],this._background=yn[8],this.matrix=null}_createMeshCanvas(yn,An,kn){const On=Math.floor(this._bounds[0]),Wn=Math.floor(this._bounds[1]),zn=Math.ceil(this._bounds[2])-On,Mn=Math.ceil(this._bounds[3])-Wn,Gn=Math.min(Math.ceil(Math.abs(zn*yn[0]*1.1)),3e3),er=Math.min(Math.ceil(Math.abs(Mn*yn[1]*1.1)),3e3),Qn=zn/Gn,ar=Mn/er,tr={coords:this._coords,colors:this._colors,offsetX:-On,offsetY:-Wn,scaleX:1/Qn,scaleY:1/ar},or=Gn+2*2,Yn=er+2*2,ur=kn.getCanvas("mesh",or,Yn,!1),pr=ur.context,Lr=pr.createImageData(Gn,er);if(An){const Rn=Lr.data;for(let Tn=0,Bn=Rn.length;Tn<Bn;Tn+=4)Rn[Tn]=An[0],Rn[Tn+1]=An[1],Rn[Tn+2]=An[2],Rn[Tn+3]=255}for(const Rn of this._figures)Sn(Lr,Rn,tr);return pr.putImageData(Lr,2,2),{canvas:ur.canvas,offsetX:On-2*Qn,offsetY:Wn-2*ar,scaleX:Qn,scaleY:ar}}getPattern(yn,An,kn,xn){on(yn,this._bbox);let Pn;if(xn===rn.SHADING)Pn=en.Util.singularValueDecompose2dScale((0,tn.getCurrentTransform)(yn));else if(Pn=en.Util.singularValueDecompose2dScale(An.baseTransform),this.matrix){const On=en.Util.singularValueDecompose2dScale(this.matrix);Pn=[Pn[0]*On[0],Pn[1]*On[1]]}const In=this._createMeshCanvas(Pn,xn===rn.SHADING?null:this._background,An.cachedCanvases);return xn!==rn.SHADING&&(yn.setTransform(...An.baseTransform),this.matrix&&yn.transform(...this.matrix)),yn.translate(In.offsetX,In.offsetY),yn.scale(In.scaleX,In.scaleY),yn.createPattern(In.canvas,"no-repeat")}}class fn extends un{getPattern(){return"hotpink"}}function vn(pn){switch(pn[0]){case"RadialAxial":return new cn(pn);case"Mesh":return new mn(pn);case"Dummy":return new fn}throw new Error(`Unknown IR type: ${pn[0]}`)}const bn={COLORED:1,UNCOLORED:2};class wn{static get MAX_PATTERN_SIZE(){return(0,en.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(yn,An,kn,xn,Pn){this.operatorList=yn[2],this.matrix=yn[3]||[1,0,0,1,0,0],this.bbox=yn[4],this.xstep=yn[5],this.ystep=yn[6],this.paintType=yn[7],this.tilingType=yn[8],this.color=An,this.ctx=kn,this.canvasGraphicsFactory=xn,this.baseTransform=Pn}createPatternCanvas(yn){const An=this.operatorList,kn=this.bbox,xn=this.xstep,Pn=this.ystep,In=this.paintType,On=this.tilingType,Wn=this.color,zn=this.canvasGraphicsFactory;(0,en.info)("TilingType: "+On);const Mn=kn[0],Gn=kn[1],er=kn[2],Qn=kn[3],ar=en.Util.singularValueDecompose2dScale(this.matrix),tr=en.Util.singularValueDecompose2dScale(this.baseTransform),or=[ar[0]*tr[0],ar[1]*tr[1]],Yn=this.getSizeAndScale(xn,this.ctx.canvas.width,or[0]),ur=this.getSizeAndScale(Pn,this.ctx.canvas.height,or[1]),pr=yn.cachedCanvases.getCanvas("pattern",Yn.size,ur.size,!0),Lr=pr.context,Fn=zn.createCanvasGraphics(Lr);Fn.groupLevel=yn.groupLevel,this.setFillAndStrokeStyleToContext(Fn,In,Wn);let Rn=Mn,Tn=Gn,Bn=er,Hn=Qn;return Mn<0&&(Rn=0,Bn+=Math.abs(Mn)),Gn<0&&(Tn=0,Hn+=Math.abs(Gn)),Lr.translate(-(Yn.scale*Rn),-(ur.scale*Tn)),Fn.transform(Yn.scale,0,0,ur.scale,0,0),Lr.save(),this.clipBbox(Fn,Rn,Tn,Bn,Hn),Fn.baseTransform=(0,tn.getCurrentTransform)(Fn.ctx),Fn.executeOperatorList(An),Fn.endDrawing(),{canvas:pr.canvas,scaleX:Yn.scale,scaleY:ur.scale,offsetX:Rn,offsetY:Tn}}getSizeAndScale(yn,An,kn){yn=Math.abs(yn);const xn=Math.max(wn.MAX_PATTERN_SIZE,An);let Pn=Math.ceil(yn*kn);return Pn>=xn?Pn=xn:kn=Pn/yn,{scale:kn,size:Pn}}clipBbox(yn,An,kn,xn,Pn){const In=xn-An,On=Pn-kn;yn.ctx.rect(An,kn,In,On),yn.current.updateRectMinMax((0,tn.getCurrentTransform)(yn.ctx),[An,kn,xn,Pn]),yn.clip(),yn.endPath()}setFillAndStrokeStyleToContext(yn,An,kn){const xn=yn.ctx,Pn=yn.current;switch(An){case bn.COLORED:const In=this.ctx;xn.fillStyle=In.fillStyle,xn.strokeStyle=In.strokeStyle,Pn.fillColor=In.fillStyle,Pn.strokeColor=In.strokeStyle;break;case bn.UNCOLORED:const On=en.Util.makeHexColor(kn[0],kn[1],kn[2]);xn.fillStyle=On,xn.strokeStyle=On,Pn.fillColor=On,Pn.strokeColor=On;break;default:throw new en.FormatError(`Unsupported paint type: ${An}`)}}getPattern(yn,An,kn,xn){let Pn=kn;xn!==rn.SHADING&&(Pn=en.Util.transform(Pn,An.baseTransform),this.matrix&&(Pn=en.Util.transform(Pn,this.matrix)));const In=this.createPatternCanvas(An);let On=new DOMMatrix(Pn);On=On.translate(In.offsetX,In.offsetY),On=On.scale(1/In.scaleX,1/In.scaleY);const Wn=yn.createPattern(In.canvas,"repeat");return Wn.setTransform(On),Wn}}e.TilingPattern=wn},(_e,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;const St=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=St},(_e,e,St)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.applyMaskImageData=tn;var en=St(1);function tn({src:nn,srcPos:rn=0,dest:on,destPos:un=0,width:cn,height:dn,inverseDecode:Sn=!1}){const mn=en.FeatureTest.isLittleEndian?4278190080:255,[fn,vn]=Sn?[0,mn]:[mn,0],bn=cn>>3,wn=cn&7,pn=nn.length;on=new Uint32Array(on.buffer);for(let yn=0;yn<dn;yn++){for(const kn=rn+bn;rn<kn;rn++){const xn=rn<pn?nn[rn]:255;on[un++]=xn&128?vn:fn,on[un++]=xn&64?vn:fn,on[un++]=xn&32?vn:fn,on[un++]=xn&16?vn:fn,on[un++]=xn&8?vn:fn,on[un++]=xn&4?vn:fn,on[un++]=xn&2?vn:fn,on[un++]=xn&1?vn:fn}if(wn===0)continue;const An=rn<pn?nn[rn++]:255;for(let kn=0;kn<wn;kn++)on[un++]=An&1<<7-kn?vn:fn}return{srcPos:rn,destPos:un}}},(_e,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;const St=Object.create(null);e.GlobalWorkerOptions=St,St.workerPort=St.workerPort===void 0?null:St.workerPort,St.workerSrc=St.workerSrc===void 0?"":St.workerSrc},(_e,e,St)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var en=St(1);const tn={UNKNOWN:0,DATA:1,ERROR:2},nn={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function rn(un){switch(un instanceof Error||typeof un=="object"&&un!==null||(0,en.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),un.name){case"AbortException":return new en.AbortException(un.message);case"MissingPDFException":return new en.MissingPDFException(un.message);case"PasswordException":return new en.PasswordException(un.message,un.code);case"UnexpectedResponseException":return new en.UnexpectedResponseException(un.message,un.status);case"UnknownErrorException":return new en.UnknownErrorException(un.message,un.details);default:return new en.UnknownErrorException(un.message,un.toString())}}class on{constructor(cn,dn,Sn){this.sourceName=cn,this.targetName=dn,this.comObj=Sn,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=mn=>{const fn=mn.data;if(fn.targetName!==this.sourceName)return;if(fn.stream){this._processStreamMessage(fn);return}if(fn.callback){const bn=fn.callbackId,wn=this.callbackCapabilities[bn];if(!wn)throw new Error(`Cannot resolve callback ${bn}`);if(delete this.callbackCapabilities[bn],fn.callback===tn.DATA)wn.resolve(fn.data);else if(fn.callback===tn.ERROR)wn.reject(rn(fn.reason));else throw new Error("Unexpected callback case");return}const vn=this.actionHandler[fn.action];if(!vn)throw new Error(`Unknown action from worker: ${fn.action}`);if(fn.callbackId){const bn=this.sourceName,wn=fn.sourceName;new Promise(function(pn){pn(vn(fn.data))}).then(function(pn){Sn.postMessage({sourceName:bn,targetName:wn,callback:tn.DATA,callbackId:fn.callbackId,data:pn})},function(pn){Sn.postMessage({sourceName:bn,targetName:wn,callback:tn.ERROR,callbackId:fn.callbackId,reason:rn(pn)})});return}if(fn.streamId){this._createStreamSink(fn);return}vn(fn.data)},Sn.addEventListener("message",this._onComObjOnMessage)}on(cn,dn){const Sn=this.actionHandler;if(Sn[cn])throw new Error(`There is already an actionName called "${cn}"`);Sn[cn]=dn}send(cn,dn,Sn){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:cn,data:dn},Sn)}sendWithPromise(cn,dn,Sn){const mn=this.callbackId++,fn=(0,en.createPromiseCapability)();this.callbackCapabilities[mn]=fn;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:cn,callbackId:mn,data:dn},Sn)}catch(vn){fn.reject(vn)}return fn.promise}sendWithStream(cn,dn,Sn,mn){const fn=this.streamId++,vn=this.sourceName,bn=this.targetName,wn=this.comObj;return new ReadableStream({start:pn=>{const yn=(0,en.createPromiseCapability)();return this.streamControllers[fn]={controller:pn,startCall:yn,pullCall:null,cancelCall:null,isClosed:!1},wn.postMessage({sourceName:vn,targetName:bn,action:cn,streamId:fn,data:dn,desiredSize:pn.desiredSize},mn),yn.promise},pull:pn=>{const yn=(0,en.createPromiseCapability)();return this.streamControllers[fn].pullCall=yn,wn.postMessage({sourceName:vn,targetName:bn,stream:nn.PULL,streamId:fn,desiredSize:pn.desiredSize}),yn.promise},cancel:pn=>{(0,en.assert)(pn instanceof Error,"cancel must have a valid reason");const yn=(0,en.createPromiseCapability)();return this.streamControllers[fn].cancelCall=yn,this.streamControllers[fn].isClosed=!0,wn.postMessage({sourceName:vn,targetName:bn,stream:nn.CANCEL,streamId:fn,reason:rn(pn)}),yn.promise}},Sn)}_createStreamSink(cn){const dn=cn.streamId,Sn=this.sourceName,mn=cn.sourceName,fn=this.comObj,vn=this,bn=this.actionHandler[cn.action],wn={enqueue(pn,yn=1,An){if(this.isCancelled)return;const kn=this.desiredSize;this.desiredSize-=yn,kn>0&&this.desiredSize<=0&&(this.sinkCapability=(0,en.createPromiseCapability)(),this.ready=this.sinkCapability.promise),fn.postMessage({sourceName:Sn,targetName:mn,stream:nn.ENQUEUE,streamId:dn,chunk:pn},An)},close(){this.isCancelled||(this.isCancelled=!0,fn.postMessage({sourceName:Sn,targetName:mn,stream:nn.CLOSE,streamId:dn}),delete vn.streamSinks[dn])},error(pn){(0,en.assert)(pn instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,fn.postMessage({sourceName:Sn,targetName:mn,stream:nn.ERROR,streamId:dn,reason:rn(pn)}))},sinkCapability:(0,en.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:cn.desiredSize,ready:null};wn.sinkCapability.resolve(),wn.ready=wn.sinkCapability.promise,this.streamSinks[dn]=wn,new Promise(function(pn){pn(bn(cn.data,wn))}).then(function(){fn.postMessage({sourceName:Sn,targetName:mn,stream:nn.START_COMPLETE,streamId:dn,success:!0})},function(pn){fn.postMessage({sourceName:Sn,targetName:mn,stream:nn.START_COMPLETE,streamId:dn,reason:rn(pn)})})}_processStreamMessage(cn){const dn=cn.streamId,Sn=this.sourceName,mn=cn.sourceName,fn=this.comObj,vn=this.streamControllers[dn],bn=this.streamSinks[dn];switch(cn.stream){case nn.START_COMPLETE:cn.success?vn.startCall.resolve():vn.startCall.reject(rn(cn.reason));break;case nn.PULL_COMPLETE:cn.success?vn.pullCall.resolve():vn.pullCall.reject(rn(cn.reason));break;case nn.PULL:if(!bn){fn.postMessage({sourceName:Sn,targetName:mn,stream:nn.PULL_COMPLETE,streamId:dn,success:!0});break}bn.desiredSize<=0&&cn.desiredSize>0&&bn.sinkCapability.resolve(),bn.desiredSize=cn.desiredSize,new Promise(function(wn){wn(bn.onPull&&bn.onPull())}).then(function(){fn.postMessage({sourceName:Sn,targetName:mn,stream:nn.PULL_COMPLETE,streamId:dn,success:!0})},function(wn){fn.postMessage({sourceName:Sn,targetName:mn,stream:nn.PULL_COMPLETE,streamId:dn,reason:rn(wn)})});break;case nn.ENQUEUE:if((0,en.assert)(vn,"enqueue should have stream controller"),vn.isClosed)break;vn.controller.enqueue(cn.chunk);break;case nn.CLOSE:if((0,en.assert)(vn,"close should have stream controller"),vn.isClosed)break;vn.isClosed=!0,vn.controller.close(),this._deleteStreamController(vn,dn);break;case nn.ERROR:(0,en.assert)(vn,"error should have stream controller"),vn.controller.error(rn(cn.reason)),this._deleteStreamController(vn,dn);break;case nn.CANCEL_COMPLETE:cn.success?vn.cancelCall.resolve():vn.cancelCall.reject(rn(cn.reason)),this._deleteStreamController(vn,dn);break;case nn.CANCEL:if(!bn)break;new Promise(function(wn){wn(bn.onCancel&&bn.onCancel(rn(cn.reason)))}).then(function(){fn.postMessage({sourceName:Sn,targetName:mn,stream:nn.CANCEL_COMPLETE,streamId:dn,success:!0})},function(wn){fn.postMessage({sourceName:Sn,targetName:mn,stream:nn.CANCEL_COMPLETE,streamId:dn,reason:rn(wn)})}),bn.sinkCapability.reject(rn(cn.reason)),bn.isCancelled=!0,delete this.streamSinks[dn];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(cn,dn){await Promise.allSettled([cn.startCall&&cn.startCall.promise,cn.pullCall&&cn.pullCall.promise,cn.cancelCall&&cn.cancelCall.promise]),delete this.streamControllers[dn]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}e.MessageHandler=on},(_e,e,St)=>{var nn,rn;Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var en=St(1);class tn{constructor({parsedData:un,rawData:cn}){Xr(this,nn,void 0);Xr(this,rn,void 0);ds(this,nn,un),ds(this,rn,cn)}getRaw(){return fr(this,rn)}get(un){var cn;return(cn=fr(this,nn).get(un))!=null?cn:null}getAll(){return(0,en.objectFromMap)(fr(this,nn))}has(un){return fr(this,nn).has(un)}}nn=new WeakMap,rn=new WeakMap,e.Metadata=tn},(_e,e,St)=>{var un,cn,dn,Sn,mn,fn,xm;Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var en=St(1),tn=St(8);const nn=Symbol("INTERNAL");class rn{constructor(wn,pn){Xr(this,un,!0);this.name=wn,this.intent=pn}get visible(){return fr(this,un)}_setVisible(wn,pn){wn!==nn&&(0,en.unreachable)("Internal method `_setVisible` called."),ds(this,un,pn)}}un=new WeakMap;class on{constructor(wn){Xr(this,fn);Xr(this,cn,null);Xr(this,dn,new Map);Xr(this,Sn,null);Xr(this,mn,null);if(this.name=null,this.creator=null,wn!==null){this.name=wn.name,this.creator=wn.creator,ds(this,mn,wn.order);for(const pn of wn.groups)fr(this,dn).set(pn.id,new rn(pn.name,pn.intent));if(wn.baseState==="OFF")for(const pn of fr(this,dn).values())pn._setVisible(nn,!1);for(const pn of wn.on)fr(this,dn).get(pn)._setVisible(nn,!0);for(const pn of wn.off)fr(this,dn).get(pn)._setVisible(nn,!1);ds(this,Sn,this.getHash())}}isVisible(wn){if(fr(this,dn).size===0)return!0;if(!wn)return(0,en.warn)("Optional content group not defined."),!0;if(wn.type==="OCG")return fr(this,dn).has(wn.id)?fr(this,dn).get(wn.id).visible:((0,en.warn)(`Optional content group not found: ${wn.id}`),!0);if(wn.type==="OCMD"){if(wn.expression)return ts(this,fn,xm).call(this,wn.expression);if(!wn.policy||wn.policy==="AnyOn"){for(const pn of wn.ids){if(!fr(this,dn).has(pn))return(0,en.warn)(`Optional content group not found: ${pn}`),!0;if(fr(this,dn).get(pn).visible)return!0}return!1}else if(wn.policy==="AllOn"){for(const pn of wn.ids){if(!fr(this,dn).has(pn))return(0,en.warn)(`Optional content group not found: ${pn}`),!0;if(!fr(this,dn).get(pn).visible)return!1}return!0}else if(wn.policy==="AnyOff"){for(const pn of wn.ids){if(!fr(this,dn).has(pn))return(0,en.warn)(`Optional content group not found: ${pn}`),!0;if(!fr(this,dn).get(pn).visible)return!0}return!1}else if(wn.policy==="AllOff"){for(const pn of wn.ids){if(!fr(this,dn).has(pn))return(0,en.warn)(`Optional content group not found: ${pn}`),!0;if(fr(this,dn).get(pn).visible)return!1}return!0}return(0,en.warn)(`Unknown optional content policy ${wn.policy}.`),!0}return(0,en.warn)(`Unknown group type ${wn.type}.`),!0}setVisibility(wn,pn=!0){if(!fr(this,dn).has(wn)){(0,en.warn)(`Optional content group not found: ${wn}`);return}fr(this,dn).get(wn)._setVisible(nn,!!pn),ds(this,cn,null)}get hasInitialVisibility(){return this.getHash()===fr(this,Sn)}getOrder(){return fr(this,dn).size?fr(this,mn)?fr(this,mn).slice():[...fr(this,dn).keys()]:null}getGroups(){return fr(this,dn).size>0?(0,en.objectFromMap)(fr(this,dn)):null}getGroup(wn){return fr(this,dn).get(wn)||null}getHash(){if(fr(this,cn)!==null)return fr(this,cn);const wn=new tn.MurmurHash3_64;for(const[pn,yn]of fr(this,dn))wn.update(`${pn}:${yn.visible}`);return ds(this,cn,wn.hexdigest())}}cn=new WeakMap,dn=new WeakMap,Sn=new WeakMap,mn=new WeakMap,fn=new WeakSet,xm=function(wn){const pn=wn.length;if(pn<2)return!0;const yn=wn[0];for(let An=1;An<pn;An++){const kn=wn[An];let xn;if(Array.isArray(kn))xn=ts(this,fn,xm).call(this,kn);else if(fr(this,dn).has(kn))xn=fr(this,dn).get(kn).visible;else return(0,en.warn)(`Optional content group not found: ${kn}`),!0;switch(yn){case"And":if(!xn)return!1;break;case"Or":if(xn)return!0;break;case"Not":return!xn;default:return!0}}return yn==="And"},e.OptionalContentConfig=on},(_e,e,St)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var en=St(1),tn=St(6);class nn{constructor(cn,dn){(0,en.assert)(dn,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=cn.progressiveDone||!1,this._contentDispositionFilename=cn.contentDispositionFilename||null;const Sn=cn.initialData;if((Sn==null?void 0:Sn.length)>0){const mn=new Uint8Array(Sn).buffer;this._queuedChunks.push(mn)}this._pdfDataRangeTransport=dn,this._isStreamingSupported=!cn.disableStream,this._isRangeSupported=!cn.disableRange,this._contentLength=cn.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((mn,fn)=>{this._onReceiveData({begin:mn,chunk:fn})}),this._pdfDataRangeTransport.addProgressListener((mn,fn)=>{this._onProgress({loaded:mn,total:fn})}),this._pdfDataRangeTransport.addProgressiveReadListener(mn=>{this._onReceiveData({chunk:mn})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(cn){const dn=new Uint8Array(cn.chunk).buffer;if(cn.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(dn):this._queuedChunks.push(dn);else{const Sn=this._rangeReaders.some(function(mn){return mn._begin!==cn.begin?!1:(mn._enqueue(dn),!0)});(0,en.assert)(Sn,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var cn,dn;return(dn=(cn=this._fullRequestReader)==null?void 0:cn._loaded)!=null?dn:0}_onProgress(cn){var dn,Sn,mn,fn;cn.total===void 0?(Sn=(dn=this._rangeReaders[0])==null?void 0:dn.onProgress)==null||Sn.call(dn,{loaded:cn.loaded}):(fn=(mn=this._fullRequestReader)==null?void 0:mn.onProgress)==null||fn.call(mn,{loaded:cn.loaded,total:cn.total})}_onProgressiveDone(){var cn;(cn=this._fullRequestReader)==null||cn.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(cn){const dn=this._rangeReaders.indexOf(cn);dn>=0&&this._rangeReaders.splice(dn,1)}getFullReader(){(0,en.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const cn=this._queuedChunks;return this._queuedChunks=null,new rn(this,cn,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(cn,dn){if(dn<=this._progressiveDataLength)return null;const Sn=new on(this,cn,dn);return this._pdfDataRangeTransport.requestDataRange(cn,dn),this._rangeReaders.push(Sn),Sn}cancelAllRequests(cn){var dn;(dn=this._fullRequestReader)==null||dn.cancel(cn);for(const Sn of this._rangeReaders.slice(0))Sn.cancel(cn);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=nn;class rn{constructor(cn,dn,Sn=!1,mn=null){this._stream=cn,this._done=Sn||!1,this._filename=(0,tn.isPdfFile)(mn)?mn:null,this._queuedChunks=dn||[],this._loaded=0;for(const fn of this._queuedChunks)this._loaded+=fn.byteLength;this._requests=[],this._headersReady=Promise.resolve(),cn._fullRequestReader=this,this.onProgress=null}_enqueue(cn){this._done||(this._requests.length>0?this._requests.shift().resolve({value:cn,done:!1}):this._queuedChunks.push(cn),this._loaded+=cn.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const cn=(0,en.createPromiseCapability)();return this._requests.push(cn),cn.promise}cancel(cn){this._done=!0;for(const dn of this._requests)dn.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class on{constructor(cn,dn,Sn){this._stream=cn,this._begin=dn,this._end=Sn,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(cn){if(!this._done){if(this._requests.length===0)this._queuedChunk=cn;else{this._requests.shift().resolve({value:cn,done:!1});for(const Sn of this._requests)Sn.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const dn=this._queuedChunk;return this._queuedChunk=null,{value:dn,done:!1}}if(this._done)return{value:void 0,done:!0};const cn=(0,en.createPromiseCapability)();return this._requests.push(cn),cn.promise}cancel(cn){this._done=!0;for(const dn of this._requests)dn.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(_e,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class St{static textContent(tn){const nn=[],rn={items:nn,styles:Object.create(null)};function on(un){var Sn;if(!un)return;let cn=null;const dn=un.name;if(dn==="#text")cn=un.value;else if(St.shouldBuildText(dn))(Sn=un==null?void 0:un.attributes)!=null&&Sn.textContent?cn=un.attributes.textContent:un.value&&(cn=un.value);else return;if(cn!==null&&nn.push({str:cn}),!!un.children)for(const mn of un.children)on(mn)}return on(tn),rn}static shouldBuildText(tn){return!(tn==="textarea"||tn==="input"||tn==="option"||tn==="select")}}e.XfaText=St},(_e,e,St)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var en=St(7);const tn=function(un){return new Promise((cn,dn)=>{require$$5.readFile(un,(mn,fn)=>{if(mn||!fn){dn(new Error(mn));return}cn(new Uint8Array(fn))})})};class nn extends en.BaseCanvasFactory{_createCanvas(cn,dn){return require$$5.createCanvas(cn,dn)}}e.NodeCanvasFactory=nn;class rn extends en.BaseCMapReaderFactory{_fetchData(cn,dn){return tn(cn).then(Sn=>({cMapData:Sn,compressionType:dn}))}}e.NodeCMapReaderFactory=rn;class on extends en.BaseStandardFontDataFactory{_fetchData(cn){return tn(cn)}}e.NodeStandardFontDataFactory=on},(_e,e,St)=>{var un,cn,dn,Sn,mn,fn,vn,bn,wn,Cm,yn,Jm,kn,Em,Pn,Zm;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var en=St(5),tn=St(1),nn=St(22),rn=St(23);const On=class{constructor(zn){Xr(this,wn);Xr(this,yn);Xr(this,kn);Xr(this,Pn);Xr(this,un,void 0);Xr(this,cn,!1);Xr(this,dn,this.pointerup.bind(this));Xr(this,Sn,this.pointerdown.bind(this));Xr(this,mn,new Map);Xr(this,fn,!1);Xr(this,vn,!1);Xr(this,bn,void 0);On._initialized||(On._initialized=!0,nn.FreeTextEditor.initialize(zn.l10n),rn.InkEditor.initialize(zn.l10n)),zn.uiManager.registerEditorTypes([nn.FreeTextEditor,rn.InkEditor]),ds(this,bn,zn.uiManager),this.annotationStorage=zn.annotationStorage,this.pageIndex=zn.pageIndex,this.div=zn.div,ds(this,un,zn.accessibilityManager),fr(this,bn).addLayer(this)}updateToolbar(zn){fr(this,bn).updateToolbar(zn)}updateMode(zn=fr(this,bn).getMode()){ts(this,Pn,Zm).call(this),zn===tn.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),fr(this,bn).unselectAll(),this.div.classList.toggle("freeTextEditing",zn===tn.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",zn===tn.AnnotationEditorType.INK)}addInkEditorIfNeeded(zn){if(!zn&&fr(this,bn).getMode()!==tn.AnnotationEditorType.INK)return;if(!zn){for(const Gn of fr(this,mn).values())if(Gn.isEmpty()){Gn.setInBackground();return}}ts(this,kn,Em).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(zn){fr(this,bn).setEditingState(zn)}addCommands(zn){fr(this,bn).addCommands(zn)}enable(){this.div.style.pointerEvents="auto";for(const zn of fr(this,mn).values())zn.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const zn of fr(this,mn).values())zn.disableEditing()}setActiveEditor(zn){fr(this,bn).getActive()!==zn&&fr(this,bn).setActiveEditor(zn)}enableClick(){this.div.addEventListener("pointerdown",fr(this,Sn)),this.div.addEventListener("pointerup",fr(this,dn))}disableClick(){this.div.removeEventListener("pointerdown",fr(this,Sn)),this.div.removeEventListener("pointerup",fr(this,dn))}attach(zn){fr(this,mn).set(zn.id,zn)}detach(zn){var Mn;fr(this,mn).delete(zn.id),(Mn=fr(this,un))==null||Mn.removePointerInTextLayer(zn.contentDiv)}remove(zn){fr(this,bn).removeEditor(zn),this.detach(zn),this.annotationStorage.remove(zn.id),zn.div.style.display="none",setTimeout(()=>{zn.div.style.display="",zn.div.remove(),zn.isAttachedToDOM=!1,document.activeElement===document.body&&fr(this,bn).focusMainContainer()},0),fr(this,vn)||this.addInkEditorIfNeeded(!1)}add(zn){if(ts(this,wn,Cm).call(this,zn),fr(this,bn).addEditor(zn),this.attach(zn),!zn.isAttachedToDOM){const Mn=zn.render();this.div.append(Mn),zn.isAttachedToDOM=!0}this.moveEditorInDOM(zn),zn.onceAdded(),this.addToAnnotationStorage(zn)}moveEditorInDOM(zn){var Mn;(Mn=fr(this,un))==null||Mn.moveElementInDOM(this.div,zn.div,zn.contentDiv,!0)}addToAnnotationStorage(zn){!zn.isEmpty()&&!this.annotationStorage.has(zn.id)&&this.annotationStorage.setValue(zn.id,zn)}addOrRebuild(zn){zn.needsToBeRebuilt()?zn.rebuild():this.add(zn)}addANewEditor(zn){const Mn=()=>{this.addOrRebuild(zn)},Gn=()=>{zn.remove()};this.addCommands({cmd:Mn,undo:Gn,mustExec:!0})}addUndoableEditor(zn){const Mn=()=>{this.addOrRebuild(zn)},Gn=()=>{zn.remove()};this.addCommands({cmd:Mn,undo:Gn,mustExec:!1})}getNextId(){return fr(this,bn).getId()}deserialize(zn){switch(zn.annotationType){case tn.AnnotationEditorType.FREETEXT:return nn.FreeTextEditor.deserialize(zn,this);case tn.AnnotationEditorType.INK:return rn.InkEditor.deserialize(zn,this)}return null}setSelected(zn){fr(this,bn).setSelected(zn)}toggleSelected(zn){fr(this,bn).toggleSelected(zn)}isSelected(zn){return fr(this,bn).isSelected(zn)}unselect(zn){fr(this,bn).unselect(zn)}pointerup(zn){const Mn=en.KeyboardManager.platform.isMac;if(!(zn.button!==0||zn.ctrlKey&&Mn)&&zn.target===this.div&&!!fr(this,fn)){if(ds(this,fn,!1),!fr(this,cn)){ds(this,cn,!0);return}ts(this,kn,Em).call(this,zn)}}pointerdown(zn){const Mn=en.KeyboardManager.platform.isMac;if(zn.button!==0||zn.ctrlKey&&Mn||zn.target!==this.div)return;ds(this,fn,!0);const Gn=fr(this,bn).getActive();ds(this,cn,!Gn||Gn.isEmpty())}drop(zn){const Mn=zn.dataTransfer.getData("text/plain"),Gn=fr(this,bn).getEditor(Mn);if(!Gn)return;zn.preventDefault(),zn.dataTransfer.dropEffect="move",ts(this,wn,Cm).call(this,Gn);const er=this.div.getBoundingClientRect(),Qn=zn.clientX-er.x,ar=zn.clientY-er.y;Gn.translate(Qn-Gn.startX,ar-Gn.startY),this.moveEditorInDOM(Gn),Gn.div.focus()}dragover(zn){zn.preventDefault()}destroy(){var zn,Mn;((zn=fr(this,bn).getActive())==null?void 0:zn.parent)===this&&fr(this,bn).setActiveEditor(null);for(const Gn of fr(this,mn).values())(Mn=fr(this,un))==null||Mn.removePointerInTextLayer(Gn.contentDiv),Gn.isAttachedToDOM=!1,Gn.div.remove(),Gn.parent=null;this.div=null,fr(this,mn).clear(),fr(this,bn).removeLayer(this)}render(zn){this.viewport=zn.viewport,(0,en.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const Mn of fr(this,bn).getEditors(this.pageIndex))this.add(Mn);this.updateMode()}update(zn){fr(this,bn).commitOrRemove(),this.viewport=zn.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[zn,Mn,Gn,er]=this.viewport.viewBox,Qn=Gn-zn,ar=er-Mn;return[Qn,ar]}get viewportBaseDimensions(){const{width:zn,height:Mn,rotation:Gn}=this.viewport;return Gn%180===0?[zn,Mn]:[Mn,zn]}setDimensions(){const{width:zn,height:Mn,rotation:Gn}=this.viewport,er=Gn%180!==0,Qn=Math.floor(zn)+"px",ar=Math.floor(Mn)+"px";this.div.style.width=er?ar:Qn,this.div.style.height=er?Qn:ar,this.div.setAttribute("data-main-rotation",Gn)}};let on=On;un=new WeakMap,cn=new WeakMap,dn=new WeakMap,Sn=new WeakMap,mn=new WeakMap,fn=new WeakMap,vn=new WeakMap,bn=new WeakMap,wn=new WeakSet,Cm=function(zn){var Mn;zn.parent!==this&&(this.attach(zn),zn.pageIndex=this.pageIndex,(Mn=zn.parent)==null||Mn.detach(zn),zn.parent=this,zn.div&&zn.isAttachedToDOM&&(zn.div.remove(),this.div.append(zn.div)))},yn=new WeakSet,Jm=function(zn){switch(fr(this,bn).getMode()){case tn.AnnotationEditorType.FREETEXT:return new nn.FreeTextEditor(zn);case tn.AnnotationEditorType.INK:return new rn.InkEditor(zn)}return null},kn=new WeakSet,Em=function(zn){const Mn=this.getNextId(),Gn=ts(this,yn,Jm).call(this,{parent:this,id:Mn,x:zn.offsetX,y:zn.offsetY});return Gn&&this.add(Gn),Gn},Pn=new WeakSet,Zm=function(){ds(this,vn,!0);for(const zn of fr(this,mn).values())zn.isEmpty()&&zn.remove();ds(this,vn,!1)},Fo(on,"_initialized",!1),e.AnnotationEditorLayer=on},(_e,e,St)=>{var on,un,cn,dn,Sn,mn,fn,vn,bn,wn,e2,yn,t2,kn,n2,Pn,km;Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var en=St(1),tn=St(5),nn=St(4);const On=class extends nn.AnnotationEditor{constructor(Mn){super({...Mn,name:"freeTextEditor"});Xr(this,wn);Xr(this,yn);Xr(this,kn);Xr(this,Pn);Xr(this,on,this.editorDivBlur.bind(this));Xr(this,un,this.editorDivFocus.bind(this));Xr(this,cn,this.editorDivInput.bind(this));Xr(this,dn,this.editorDivKeydown.bind(this));Xr(this,Sn,void 0);Xr(this,mn,"");Xr(this,fn,`${this.id}-editor`);Xr(this,vn,!1);Xr(this,bn,void 0);ds(this,Sn,Mn.color||On._defaultColor||nn.AnnotationEditor._defaultLineColor),ds(this,bn,Mn.fontSize||On._defaultFontSize)}static initialize(Mn){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(er=>[er,Mn.get(er)]));const Gn=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Gn.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Mn,Gn){switch(Mn){case en.AnnotationEditorParamsType.FREETEXT_SIZE:On._defaultFontSize=Gn;break;case en.AnnotationEditorParamsType.FREETEXT_COLOR:On._defaultColor=Gn;break}}updateParams(Mn,Gn){switch(Mn){case en.AnnotationEditorParamsType.FREETEXT_SIZE:ts(this,wn,e2).call(this,Gn);break;case en.AnnotationEditorParamsType.FREETEXT_COLOR:ts(this,yn,t2).call(this,Gn);break}}static get defaultPropertiesToUpdate(){return[[en.AnnotationEditorParamsType.FREETEXT_SIZE,On._defaultFontSize],[en.AnnotationEditorParamsType.FREETEXT_COLOR,On._defaultColor||nn.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[en.AnnotationEditorParamsType.FREETEXT_SIZE,fr(this,bn)],[en.AnnotationEditorParamsType.FREETEXT_COLOR,fr(this,Sn)]]}getInitialTranslation(){return[-On._internalPadding*this.parent.scaleFactor,-(On._internalPadding+fr(this,bn))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(en.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",fr(this,dn)),this.editorDiv.addEventListener("focus",fr(this,un)),this.editorDiv.addEventListener("blur",fr(this,on)),this.editorDiv.addEventListener("input",fr(this,cn)))}disableEditMode(){!this.isInEditMode()||(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",fr(this,fn)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",fr(this,dn)),this.editorDiv.removeEventListener("focus",fr(this,un)),this.editorDiv.removeEventListener("blur",fr(this,on)),this.editorDiv.removeEventListener("input",fr(this,cn)),this.div.focus(),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(Mn){super.focusin(Mn),Mn.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){super.commit(),fr(this,vn)||(ds(this,vn,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),ds(this,mn,ts(this,kn,n2).call(this).trimEnd()),ts(this,Pn,km).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(Mn){this.enableEditMode(),this.editorDiv.focus()}keydown(Mn){Mn.target===this.div&&Mn.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(Mn){On._keyboardManager.exec(this,Mn)}editorDivFocus(Mn){this.isEditing=!0}editorDivBlur(Mn){this.isEditing=!1}editorDivInput(Mn){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let Mn,Gn;this.width&&(Mn=this.x,Gn=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",fr(this,fn)),this.enableEditing(),On._l10nPromise.get("editor_free_text2_aria_label").then(Qn=>{var ar;return(ar=this.editorDiv)==null?void 0:ar.setAttribute("aria-label",Qn)}),On._l10nPromise.get("free_text2_default_content").then(Qn=>{var ar;return(ar=this.editorDiv)==null?void 0:ar.setAttribute("default-content",Qn)}),this.editorDiv.contentEditable=!0;const{style:er}=this.editorDiv;if(er.fontSize=`calc(${fr(this,bn)}px * var(--scale-factor))`,er.color=fr(this,Sn),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,tn.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Qn,ar]=this.parent.viewportBaseDimensions;this.setAt(Mn*Qn,Gn*ar,this.width*Qn,this.height*ar);for(const tr of fr(this,mn).split(`
`)){const or=document.createElement("div");or.append(tr?document.createTextNode(tr):document.createElement("br")),this.editorDiv.append(or)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(Mn,Gn){const er=super.deserialize(Mn,Gn);return ds(er,bn,Mn.fontSize),ds(er,Sn,en.Util.makeHexColor(...Mn.color)),ds(er,mn,Mn.value),er}serialize(){if(this.isEmpty())return null;const Mn=On._internalPadding*this.parent.scaleFactor,Gn=this.getRect(Mn,Mn),er=nn.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:en.AnnotationEditorType.FREETEXT,color:er,fontSize:fr(this,bn),value:fr(this,mn),pageIndex:this.parent.pageIndex,rect:Gn,rotation:this.rotation}}};let rn=On;on=new WeakMap,un=new WeakMap,cn=new WeakMap,dn=new WeakMap,Sn=new WeakMap,mn=new WeakMap,fn=new WeakMap,vn=new WeakMap,bn=new WeakMap,wn=new WeakSet,e2=function(Mn){const Gn=Qn=>{this.editorDiv.style.fontSize=`calc(${Qn}px * var(--scale-factor))`,this.translate(0,-(Qn-fr(this,bn))*this.parent.scaleFactor),ds(this,bn,Qn),ts(this,Pn,km).call(this)},er=fr(this,bn);this.parent.addCommands({cmd:()=>{Gn(Mn)},undo:()=>{Gn(er)},mustExec:!0,type:en.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},yn=new WeakSet,t2=function(Mn){const Gn=fr(this,Sn);this.parent.addCommands({cmd:()=>{ds(this,Sn,Mn),this.editorDiv.style.color=Mn},undo:()=>{ds(this,Sn,Gn),this.editorDiv.style.color=Gn},mustExec:!0,type:en.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},kn=new WeakSet,n2=function(){const Mn=this.editorDiv.getElementsByTagName("div");if(Mn.length===0)return this.editorDiv.innerText;const Gn=[];for(const er of Mn){const Qn=er.firstChild;(Qn==null?void 0:Qn.nodeName)==="#text"?Gn.push(Qn.data):Gn.push("")}return Gn.join(`
`)},Pn=new WeakSet,km=function(){const[Mn,Gn]=this.parent.viewportBaseDimensions,er=this.div.getBoundingClientRect();this.width=er.width/Mn,this.height=er.height/Gn},Fo(rn,"_freeTextDefaultContent",""),Fo(rn,"_l10nPromise"),Fo(rn,"_internalPadding",0),Fo(rn,"_defaultColor",null),Fo(rn,"_defaultFontSize",10),Fo(rn,"_keyboardManager",new tn.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],On.prototype.commitOrRemove]])),Fo(rn,"_type","freetext"),e.FreeTextEditor=rn},(_e,e,St)=>{var dn,Sn,mn,fn,vn,bn,wn,pn,yn,An,kn,xn,Pn,In,On,r2,zn,i2,Gn,s2,Qn,a2,tr,Pm,Yn,o2,pr,l2,Fn,u2,Tn,fp,Hn,Nm,nr,sm,_r,am,br,c0,Un,Tm,Dn,om,cr,Lm,Ar,c2,Pr,h2,Sr,d2,Jr,Rm,Er,lm,rs,h0,ks,Fm;Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0,Object.defineProperty(e,"fitCurve",{enumerable:!0,get:function(){return nn.fitCurve}});var en=St(1),tn=St(4),nn=St(24),rn=St(5);const on=16,un=100,ws=class extends tn.AnnotationEditor{constructor(yr){super({...yr,name:"inkEditor"});Xr(this,On);Xr(this,zn);Xr(this,Gn);Xr(this,Qn);Xr(this,tr);Xr(this,Yn);Xr(this,pr);Xr(this,Fn);Xr(this,Tn);Xr(this,Hn);Xr(this,nr);Xr(this,_r);Xr(this,br);Xr(this,Un);Xr(this,Dn);Xr(this,Ar);Xr(this,Pr);Xr(this,Sr);Xr(this,Jr);Xr(this,Er);Xr(this,rs);Xr(this,ks);Xr(this,dn,0);Xr(this,Sn,0);Xr(this,mn,0);Xr(this,fn,this.canvasPointermove.bind(this));Xr(this,vn,this.canvasPointerleave.bind(this));Xr(this,bn,this.canvasPointerup.bind(this));Xr(this,wn,this.canvasPointerdown.bind(this));Xr(this,pn,!1);Xr(this,yn,!1);Xr(this,An,null);Xr(this,kn,null);Xr(this,xn,0);Xr(this,Pn,0);Xr(this,In,null);this.color=yr.color||null,this.thickness=yr.thickness||null,this.opacity=yr.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(yr){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(gr=>[gr,yr.get(gr)]))}static updateDefaultParams(yr,gr){switch(yr){case en.AnnotationEditorParamsType.INK_THICKNESS:ws._defaultThickness=gr;break;case en.AnnotationEditorParamsType.INK_COLOR:ws._defaultColor=gr;break;case en.AnnotationEditorParamsType.INK_OPACITY:ws._defaultOpacity=gr/100;break}}updateParams(yr,gr){switch(yr){case en.AnnotationEditorParamsType.INK_THICKNESS:ts(this,On,r2).call(this,gr);break;case en.AnnotationEditorParamsType.INK_COLOR:ts(this,zn,i2).call(this,gr);break;case en.AnnotationEditorParamsType.INK_OPACITY:ts(this,Gn,s2).call(this,gr);break}}static get defaultPropertiesToUpdate(){return[[en.AnnotationEditorParamsType.INK_THICKNESS,ws._defaultThickness],[en.AnnotationEditorParamsType.INK_COLOR,ws._defaultColor||tn.AnnotationEditor._defaultLineColor],[en.AnnotationEditorParamsType.INK_OPACITY,Math.round(ws._defaultOpacity*100)]]}get propertiesToUpdate(){var yr;return[[en.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||ws._defaultThickness],[en.AnnotationEditorParamsType.INK_COLOR,this.color||ws._defaultColor||tn.AnnotationEditor._defaultLineColor],[en.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((yr=this.opacity)!=null?yr:ws._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(ts(this,nr,sm).call(this),ts(this,_r,am).call(this)),this.isAttachedToDOM||(this.parent.add(this),ts(this,br,c0).call(this)),ts(this,rs,h0).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,fr(this,kn).disconnect(),ds(this,kn,null),super.remove())}enableEditMode(){fr(this,pn)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",fr(this,wn)),this.canvas.addEventListener("pointerup",fr(this,bn)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",fr(this,wn)),this.canvas.removeEventListener("pointerup",fr(this,bn)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){fr(this,pn)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),ds(this,pn,!0),this.div.classList.add("disabled"),ts(this,rs,h0).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(yr){super.focusin(yr),this.enableEditMode()}canvasPointerdown(yr){yr.button!==0||!this.isInEditMode()||fr(this,pn)||(this.setInForeground(),yr.type!=="mouse"&&this.div.focus(),yr.stopPropagation(),this.canvas.addEventListener("pointerleave",fr(this,vn)),this.canvas.addEventListener("pointermove",fr(this,fn)),ts(this,Yn,o2).call(this,yr.offsetX,yr.offsetY))}canvasPointermove(yr){yr.stopPropagation(),ts(this,pr,l2).call(this,yr.offsetX,yr.offsetY)}canvasPointerup(yr){yr.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(yr.stopPropagation(),ts(this,Hn,Nm).call(this,yr),this.setInBackground())}canvasPointerleave(yr){ts(this,Hn,Nm).call(this,yr),this.setInBackground()}render(){if(this.div)return this.div;let yr,gr;this.width&&(yr=this.x,gr=this.y),super.render(),ws._l10nPromise.get("editor_ink2_aria_label").then(as=>{var ss;return(ss=this.div)==null?void 0:ss.setAttribute("aria-label",as)});const[wr,Kr,ls,bs]=ts(this,Qn,a2).call(this);if(this.setAt(wr,Kr,0,0),this.setDims(ls,bs),ts(this,nr,sm).call(this),this.width){const[as,ss]=this.parent.viewportBaseDimensions;this.setAt(yr*as,gr*ss,this.width*as,this.height*ss),ds(this,yn,!0),ts(this,br,c0).call(this),this.setDims(this.width*as,this.height*ss),ts(this,Tn,fp).call(this),ts(this,ks,Fm).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ts(this,_r,am).call(this),this.div}setDimensions(yr,gr){const wr=Math.round(yr),Kr=Math.round(gr);if(fr(this,xn)===wr&&fr(this,Pn)===Kr)return;ds(this,xn,wr),ds(this,Pn,Kr),this.canvas.style.visibility="hidden",fr(this,dn)&&Math.abs(fr(this,dn)-yr/gr)>.01&&(gr=Math.ceil(yr/fr(this,dn)),this.setDims(yr,gr));const[ls,bs]=this.parent.viewportBaseDimensions;this.width=yr/ls,this.height=gr/bs,fr(this,pn)&&ts(this,Un,Tm).call(this,yr,gr),ts(this,br,c0).call(this),ts(this,Tn,fp).call(this),this.canvas.style.visibility="visible"}static deserialize(yr,gr){var Ps,Us;const wr=super.deserialize(yr,gr);wr.thickness=yr.thickness,wr.color=en.Util.makeHexColor(...yr.color),wr.opacity=yr.opacity;const[Kr,ls]=gr.pageDimensions,bs=wr.width*Kr,as=wr.height*ls,ss=gr.scaleFactor,_s=yr.thickness/2;ds(wr,dn,bs/as),ds(wr,pn,!0),ds(wr,xn,Math.round(bs)),ds(wr,Pn,Math.round(as));for(const{bezier:Ns}of yr.paths){const ms=[];wr.paths.push(ms);let Os=ss*(Ns[0]-_s),so=ss*(as-Ns[1]-_s);for(let js=2,Ks=Ns.length;js<Ks;js+=6){const co=ss*(Ns[js]-_s),eo=ss*(as-Ns[js+1]-_s),Po=ss*(Ns[js+2]-_s),No=ss*(as-Ns[js+3]-_s),$o=ss*(Ns[js+4]-_s),Tl=ss*(as-Ns[js+5]-_s);ms.push([[Os,so],[co,eo],[Po,No],[$o,Tl]]),Os=$o,so=Tl}const Ys=ts(this,cr,Lm).call(this,ms);wr.bezierPath2D.push(Ys)}const Ms=ts(Ps=wr,Jr,Rm).call(Ps);return ds(wr,mn,Math.max(on,Ms[2]-Ms[0])),ds(wr,Sn,Math.max(on,Ms[3]-Ms[1])),ts(Us=wr,Un,Tm).call(Us,bs,as),wr}serialize(){if(this.isEmpty())return null;const yr=this.getRect(0,0),gr=this.rotation%180===0?yr[3]-yr[1]:yr[2]-yr[0],wr=tn.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:en.AnnotationEditorType.INK,color:wr,thickness:this.thickness,opacity:this.opacity,paths:ts(this,Ar,c2).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,gr),pageIndex:this.parent.pageIndex,rect:yr,rotation:this.rotation}}};let cn=ws;dn=new WeakMap,Sn=new WeakMap,mn=new WeakMap,fn=new WeakMap,vn=new WeakMap,bn=new WeakMap,wn=new WeakMap,pn=new WeakMap,yn=new WeakMap,An=new WeakMap,kn=new WeakMap,xn=new WeakMap,Pn=new WeakMap,In=new WeakMap,On=new WeakSet,r2=function(yr){const gr=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=yr,ts(this,rs,h0).call(this)},undo:()=>{this.thickness=gr,ts(this,rs,h0).call(this)},mustExec:!0,type:en.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},zn=new WeakSet,i2=function(yr){const gr=this.color;this.parent.addCommands({cmd:()=>{this.color=yr,ts(this,Tn,fp).call(this)},undo:()=>{this.color=gr,ts(this,Tn,fp).call(this)},mustExec:!0,type:en.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Gn=new WeakSet,s2=function(yr){yr/=100;const gr=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=yr,ts(this,Tn,fp).call(this)},undo:()=>{this.opacity=gr,ts(this,Tn,fp).call(this)},mustExec:!0,type:en.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Qn=new WeakSet,a2=function(){const{width:yr,height:gr,rotation:wr}=this.parent.viewport;switch(wr){case 90:return[0,yr,yr,gr];case 180:return[yr,gr,yr,gr];case 270:return[gr,0,yr,gr];default:return[0,0,yr,gr]}},tr=new WeakSet,Pm=function(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,rn.opacityToHex)(this.opacity)}`},Yn=new WeakSet,o2=function(yr,gr){var wr;this.isEditing=!0,fr(this,yn)||(ds(this,yn,!0),ts(this,br,c0).call(this),this.thickness||(this.thickness=ws._defaultThickness),this.color||(this.color=ws._defaultColor||tn.AnnotationEditor._defaultLineColor),(wr=this.opacity)!=null||(this.opacity=ws._defaultOpacity)),this.currentPath.push([yr,gr]),ds(this,An,null),ts(this,tr,Pm).call(this),this.ctx.beginPath(),this.ctx.moveTo(yr,gr),ds(this,In,()=>{!fr(this,In)||(fr(this,An)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):ts(this,Tn,fp).call(this),this.ctx.lineTo(...fr(this,An)),ds(this,An,null),this.ctx.stroke()),window.requestAnimationFrame(fr(this,In)))}),window.requestAnimationFrame(fr(this,In))},pr=new WeakSet,l2=function(yr,gr){const[wr,Kr]=this.currentPath.at(-1);yr===wr&&gr===Kr||(this.currentPath.push([yr,gr]),ds(this,An,[yr,gr]))},Fn=new WeakSet,u2=function(yr,gr){var _s;this.ctx.closePath(),ds(this,In,null),yr=Math.min(Math.max(yr,0),this.canvas.width),gr=Math.min(Math.max(gr,0),this.canvas.height);const[wr,Kr]=this.currentPath.at(-1);(yr!==wr||gr!==Kr)&&this.currentPath.push([yr,gr]);let ls;if(this.currentPath.length!==1)ls=(0,nn.fitCurve)(this.currentPath,30,null);else{const Ms=[yr,gr];ls=[[Ms,Ms.slice(),Ms.slice(),Ms]]}const bs=ts(_s=ws,cr,Lm).call(_s,ls);this.currentPath.length=0;const as=()=>{this.paths.push(ls),this.bezierPath2D.push(bs),this.rebuild()},ss=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ts(this,nr,sm).call(this),ts(this,_r,am).call(this)),ts(this,rs,h0).call(this))};this.parent.addCommands({cmd:as,undo:ss,mustExec:!0})},Tn=new WeakSet,fp=function(){if(this.isEmpty()){ts(this,Dn,om).call(this);return}ts(this,tr,Pm).call(this);const{canvas:yr,ctx:gr}=this;gr.setTransform(1,0,0,1,0,0),gr.clearRect(0,0,yr.width,yr.height),ts(this,Dn,om).call(this);for(const wr of this.bezierPath2D)gr.stroke(wr)},Hn=new WeakSet,Nm=function(yr){ts(this,Fn,u2).call(this,yr.offsetX,yr.offsetY),this.canvas.removeEventListener("pointerleave",fr(this,vn)),this.canvas.removeEventListener("pointermove",fr(this,fn)),this.parent.addToAnnotationStorage(this)},nr=new WeakSet,sm=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",ws._l10nPromise.get("editor_ink_canvas_aria_label").then(yr=>{var gr;return(gr=this.canvas)==null?void 0:gr.setAttribute("aria-label",yr)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},_r=new WeakSet,am=function(){let yr=null;ds(this,kn,new ResizeObserver(gr=>{const wr=gr[0].contentRect;wr.width&&wr.height&&(yr!==null&&clearTimeout(yr),yr=setTimeout(()=>{this.fixDims(),yr=null},un),this.setDimensions(wr.width,wr.height))})),fr(this,kn).observe(this.div)},br=new WeakSet,c0=function(){if(!fr(this,yn))return;const[yr,gr]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*yr),this.canvas.height=Math.ceil(this.height*gr),ts(this,Dn,om).call(this)},Un=new WeakSet,Tm=function(yr,gr){const wr=ts(this,Er,lm).call(this),Kr=(yr-wr)/fr(this,mn),ls=(gr-wr)/fr(this,Sn);this.scaleFactor=Math.min(Kr,ls)},Dn=new WeakSet,om=function(){const yr=ts(this,Er,lm).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+yr,this.translationY*this.scaleFactor+yr)},cr=new WeakSet,Lm=function(yr){const gr=new Path2D;for(let wr=0,Kr=yr.length;wr<Kr;wr++){const[ls,bs,as,ss]=yr[wr];wr===0&&gr.moveTo(...ls),gr.bezierCurveTo(bs[0],bs[1],as[0],as[1],ss[0],ss[1])}return gr},Ar=new WeakSet,c2=function(yr,gr,wr,Kr){const bs=[],as=this.thickness/2;let ss,_s;for(const Ms of this.paths){ss=[],_s=[];for(let Ps=0,Us=Ms.length;Ps<Us;Ps++){const[Ns,ms,Os,so]=Ms[Ps],Ys=yr*(Ns[0]+gr)+as,js=Kr-yr*(Ns[1]+wr)-as,Ks=yr*(ms[0]+gr)+as,co=Kr-yr*(ms[1]+wr)-as,eo=yr*(Os[0]+gr)+as,Po=Kr-yr*(Os[1]+wr)-as,No=yr*(so[0]+gr)+as,$o=Kr-yr*(so[1]+wr)-as;Ps===0&&(ss.push(Ys,js),_s.push(Ys,js)),ss.push(Ks,co,eo,Po,No,$o),ts(this,Pr,h2).call(this,Ys,js,Ks,co,eo,Po,No,$o,4,_s)}bs.push({bezier:ss,points:_s})}return bs},Pr=new WeakSet,h2=function(yr,gr,wr,Kr,ls,bs,as,ss,_s,Ms){if(ts(this,Sr,d2).call(this,yr,gr,wr,Kr,ls,bs,as,ss)){Ms.push(as,ss);return}for(let Ps=1;Ps<_s-1;Ps++){const Us=Ps/_s,Ns=1-Us;let ms=Us*yr+Ns*wr,Os=Us*gr+Ns*Kr,so=Us*wr+Ns*ls,Ys=Us*Kr+Ns*bs;const js=Us*ls+Ns*as,Ks=Us*bs+Ns*ss;ms=Us*ms+Ns*so,Os=Us*Os+Ns*Ys,so=Us*so+Ns*js,Ys=Us*Ys+Ns*Ks,ms=Us*ms+Ns*so,Os=Us*Os+Ns*Ys,Ms.push(ms,Os)}Ms.push(as,ss)},Sr=new WeakSet,d2=function(yr,gr,wr,Kr,ls,bs,as,ss){const Ms=(3*wr-2*yr-as)**2,Ps=(3*Kr-2*gr-ss)**2,Us=(3*ls-yr-2*as)**2,Ns=(3*bs-gr-2*ss)**2;return Math.max(Ms,Us)+Math.max(Ps,Ns)<=10},Jr=new WeakSet,Rm=function(){let yr=1/0,gr=-1/0,wr=1/0,Kr=-1/0;for(const ls of this.paths)for(const[bs,as,ss,_s]of ls){const Ms=en.Util.bezierBoundingBox(...bs,...as,...ss,..._s);yr=Math.min(yr,Ms[0]),wr=Math.min(wr,Ms[1]),gr=Math.max(gr,Ms[2]),Kr=Math.max(Kr,Ms[3])}return[yr,wr,gr,Kr]},Er=new WeakSet,lm=function(){return fr(this,pn)?Math.ceil(this.thickness*this.parent.scaleFactor):0},rs=new WeakSet,h0=function(yr=!1){if(this.isEmpty())return;if(!fr(this,pn)){ts(this,Tn,fp).call(this);return}const gr=ts(this,Jr,Rm).call(this),wr=ts(this,Er,lm).call(this);ds(this,mn,Math.max(on,gr[2]-gr[0])),ds(this,Sn,Math.max(on,gr[3]-gr[1]));const Kr=Math.ceil(wr+fr(this,mn)*this.scaleFactor),ls=Math.ceil(wr+fr(this,Sn)*this.scaleFactor),[bs,as]=this.parent.viewportBaseDimensions;this.width=Kr/bs,this.height=ls/as,ds(this,dn,Kr/ls),ts(this,ks,Fm).call(this);const ss=this.translationX,_s=this.translationY;this.translationX=-gr[0],this.translationY=-gr[1],ts(this,br,c0).call(this),ts(this,Tn,fp).call(this),ds(this,xn,Kr),ds(this,Pn,ls),this.setDims(Kr,ls);const Ms=yr?wr/this.scaleFactor/2:0;this.translate(ss-this.translationX-Ms,_s-this.translationY-Ms)},ks=new WeakSet,Fm=function(){const{style:yr}=this.div;fr(this,dn)>=1?(yr.minHeight=`${on}px`,yr.minWidth=`${Math.round(fr(this,dn)*on)}px`):(yr.minWidth=`${on}px`,yr.minHeight=`${Math.round(on/fr(this,dn))}px`)},Xr(cn,cr),Fo(cn,"_defaultColor",null),Fo(cn,"_defaultOpacity",1),Fo(cn,"_defaultThickness",1),Fo(cn,"_l10nPromise"),Fo(cn,"_type","ink"),e.InkEditor=cn},(_e,e,St)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fitCurve=void 0;const en=St(25);e.fitCurve=en},_e=>{function e(vn,bn,wn){if(!Array.isArray(vn))throw new TypeError("First argument should be an array");if(vn.forEach(kn=>{if(!Array.isArray(kn)||kn.some(xn=>typeof xn!="number")||kn.length!==vn[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),vn=vn.filter((kn,xn)=>xn===0||!kn.every((Pn,In)=>Pn===vn[xn-1][In])),vn.length<2)return[];const pn=vn.length,yn=Sn(vn[1],vn[0]),An=Sn(vn[pn-2],vn[pn-1]);return St(vn,yn,An,bn,wn)}function St(vn,bn,wn,pn,yn){var kn,xn,Pn,In,On,Wn,zn,Mn,Gn,er,Qn,ar,tr;if(vn.length===2)return ar=mn.vectorLen(mn.subtract(vn[0],vn[1]))/3,kn=[vn[0],mn.addArrays(vn[0],mn.mulItems(bn,ar)),mn.addArrays(vn[1],mn.mulItems(wn,ar)),vn[1]],[kn];if(xn=on(vn),[kn,In,Wn]=en(vn,xn,xn,bn,wn,yn),In===0||In<pn)return[kn];if(In<pn*pn)for(Pn=xn,On=In,zn=Wn,tr=0;tr<20;tr++){if(Pn=nn(kn,vn,Pn),[kn,In,Wn]=en(vn,xn,Pn,bn,wn,yn),In<pn)return[kn];if(Wn===zn){let or=In/On;if(or>.9999&&or<1.0001)break}On=In,zn=Wn}return Qn=[],Mn=mn.subtract(vn[Wn-1],vn[Wn+1]),Mn.every(or=>or===0)&&(Mn=mn.subtract(vn[Wn-1],vn[Wn]),[Mn[0],Mn[1]]=[-Mn[1],Mn[0]]),Gn=mn.normalize(Mn),er=mn.mulItems(Gn,-1),Qn=Qn.concat(St(vn.slice(0,Wn+1),bn,Gn,pn,yn)),Qn=Qn.concat(St(vn.slice(Wn),er,wn,pn,yn)),Qn}function en(vn,bn,wn,pn,yn,An){var kn,xn,Pn;return kn=tn(vn,wn,pn,yn),[xn,Pn]=un(vn,kn,bn),An&&An({bez:kn,points:vn,params:bn,maxErr:xn,maxPoint:Pn}),[kn,xn,Pn]}function tn(vn,bn,wn,pn){var yn,An,kn,xn,Pn,In,On,Wn,zn,Mn,Gn,er,Qn,ar,tr,or,Yn,ur=vn[0],pr=vn[vn.length-1];for(yn=[ur,null,null,pr],An=mn.zeros_Xx2x2(bn.length),Qn=0,ar=bn.length;Qn<ar;Qn++)or=bn[Qn],Yn=1-or,kn=An[Qn],kn[0]=mn.mulItems(wn,3*or*(Yn*Yn)),kn[1]=mn.mulItems(pn,3*Yn*(or*or));for(xn=[[0,0],[0,0]],Pn=[0,0],Qn=0,ar=vn.length;Qn<ar;Qn++)or=bn[Qn],kn=An[Qn],xn[0][0]+=mn.dot(kn[0],kn[0]),xn[0][1]+=mn.dot(kn[0],kn[1]),xn[1][0]+=mn.dot(kn[0],kn[1]),xn[1][1]+=mn.dot(kn[1],kn[1]),tr=mn.subtract(vn[Qn],fn.q([ur,ur,pr,pr],or)),Pn[0]+=mn.dot(kn[0],tr),Pn[1]+=mn.dot(kn[1],tr);return In=xn[0][0]*xn[1][1]-xn[1][0]*xn[0][1],On=xn[0][0]*Pn[1]-xn[1][0]*Pn[0],Wn=Pn[0]*xn[1][1]-Pn[1]*xn[0][1],zn=In===0?0:Wn/In,Mn=In===0?0:On/In,er=mn.vectorLen(mn.subtract(ur,pr)),Gn=1e-6*er,zn<Gn||Mn<Gn?(yn[1]=mn.addArrays(ur,mn.mulItems(wn,er/3)),yn[2]=mn.addArrays(pr,mn.mulItems(pn,er/3))):(yn[1]=mn.addArrays(ur,mn.mulItems(wn,zn)),yn[2]=mn.addArrays(pr,mn.mulItems(pn,Mn))),yn}function nn(vn,bn,wn){return wn.map((pn,yn)=>rn(vn,bn[yn],pn))}function rn(vn,bn,wn){var pn=mn.subtract(fn.q(vn,wn),bn),yn=fn.qprime(vn,wn),An=mn.mulMatrix(pn,yn),kn=mn.sum(mn.squareItems(yn))+2*mn.mulMatrix(pn,fn.qprimeprime(vn,wn));return kn===0?wn:wn-An/kn}function on(vn){var bn=[],wn,pn,yn;return vn.forEach((An,kn)=>{wn=kn?pn+mn.vectorLen(mn.subtract(An,yn)):0,bn.push(wn),pn=wn,yn=An}),bn=bn.map(An=>An/pn),bn}function un(vn,bn,wn){var pn,yn,An,kn,xn,Pn,In,On;yn=0,An=Math.floor(vn.length/2);const Wn=cn(bn,10);for(xn=0,Pn=vn.length;xn<Pn;xn++)In=vn[xn],On=dn(bn,wn[xn],Wn,10),kn=mn.subtract(fn.q(bn,On),In),pn=kn[0]*kn[0]+kn[1]*kn[1],pn>yn&&(yn=pn,An=xn);return[yn,An]}var cn=function(vn,bn){for(var wn,pn=[0],yn=vn[0],An=0,kn=1;kn<=bn;kn++)wn=fn.q(vn,kn/bn),An+=mn.vectorLen(mn.subtract(wn,yn)),pn.push(An),yn=wn;return pn=pn.map(xn=>xn/An),pn};function dn(vn,bn,wn,pn){if(bn<0)return 0;if(bn>1)return 1;for(var yn,An,kn,xn,Pn,In=1;In<=pn;In++)if(bn<=wn[In]){xn=(In-1)/pn,kn=In/pn,An=wn[In-1],yn=wn[In],Pn=(bn-An)/(yn-An)*(kn-xn)+xn;break}return Pn}function Sn(vn,bn){return mn.normalize(mn.subtract(vn,bn))}class mn{static zeros_Xx2x2(bn){for(var wn=[];bn--;)wn.push([0,0]);return wn}static mulItems(bn,wn){return bn.map(pn=>pn*wn)}static mulMatrix(bn,wn){return bn.reduce((pn,yn,An)=>pn+yn*wn[An],0)}static subtract(bn,wn){return bn.map((pn,yn)=>pn-wn[yn])}static addArrays(bn,wn){return bn.map((pn,yn)=>pn+wn[yn])}static addItems(bn,wn){return bn.map(pn=>pn+wn)}static sum(bn){return bn.reduce((wn,pn)=>wn+pn)}static dot(bn,wn){return mn.mulMatrix(bn,wn)}static vectorLen(bn){return Math.hypot(...bn)}static divItems(bn,wn){return bn.map(pn=>pn/wn)}static squareItems(bn){return bn.map(wn=>wn*wn)}static normalize(bn){return this.divItems(bn,this.vectorLen(bn))}}class fn{static q(bn,wn){var pn=1-wn,yn=mn.mulItems(bn[0],pn*pn*pn),An=mn.mulItems(bn[1],3*pn*pn*wn),kn=mn.mulItems(bn[2],3*pn*wn*wn),xn=mn.mulItems(bn[3],wn*wn*wn);return mn.addArrays(mn.addArrays(yn,An),mn.addArrays(kn,xn))}static qprime(bn,wn){var pn=1-wn,yn=mn.mulItems(mn.subtract(bn[1],bn[0]),3*pn*pn),An=mn.mulItems(mn.subtract(bn[2],bn[1]),6*pn*wn),kn=mn.mulItems(mn.subtract(bn[3],bn[2]),3*wn*wn);return mn.addArrays(mn.addArrays(yn,An),kn)}static qprimeprime(bn,wn){return mn.addArrays(mn.mulItems(mn.addArrays(mn.subtract(bn[2],mn.mulItems(bn[1],2)),bn[0]),6*(1-wn)),mn.mulItems(mn.addArrays(mn.subtract(bn[3],mn.mulItems(bn[2],2)),bn[1]),6*wn))}}_e.exports=e,_e.exports.fitCubic=St,_e.exports.createTangent=Sn},(_e,e,St)=>{var Rn,f2,Hn,Mm,nr,Om,_r,Im;Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var en=St(1),tn=St(6),nn=St(3),rn=St(27),on=St(28);const un=1e3,cn=9,dn=new WeakSet;function Sn(xr){return{width:xr[2]-xr[0],height:xr[3]-xr[1]}}class mn{static create(Un){switch(Un.data.annotationType){case en.AnnotationType.LINK:return new vn(Un);case en.AnnotationType.TEXT:return new bn(Un);case en.AnnotationType.WIDGET:switch(Un.data.fieldType){case"Tx":return new pn(Un);case"Btn":return Un.data.radioButton?new An(Un):Un.data.checkBox?new yn(Un):new kn(Un);case"Ch":return new xn(Un)}return new wn(Un);case en.AnnotationType.POPUP:return new Pn(Un);case en.AnnotationType.FREETEXT:return new On(Un);case en.AnnotationType.LINE:return new Wn(Un);case en.AnnotationType.SQUARE:return new zn(Un);case en.AnnotationType.CIRCLE:return new Mn(Un);case en.AnnotationType.POLYLINE:return new Gn(Un);case en.AnnotationType.CARET:return new Qn(Un);case en.AnnotationType.INK:return new ar(Un);case en.AnnotationType.POLYGON:return new er(Un);case en.AnnotationType.HIGHLIGHT:return new tr(Un);case en.AnnotationType.UNDERLINE:return new or(Un);case en.AnnotationType.SQUIGGLY:return new Yn(Un);case en.AnnotationType.STRIKEOUT:return new ur(Un);case en.AnnotationType.STAMP:return new pr(Un);case en.AnnotationType.FILEATTACHMENT:return new Lr(Un);default:return new fn(Un)}}}class fn{constructor(Un,{isRenderable:qn=!1,ignoreBorder:Dn=!1,createQuadrilaterals:lr=!1}={}){this.isRenderable=qn,this.data=Un.data,this.layer=Un.layer,this.page=Un.page,this.viewport=Un.viewport,this.linkService=Un.linkService,this.downloadManager=Un.downloadManager,this.imageResourcesPath=Un.imageResourcesPath,this.renderForms=Un.renderForms,this.svgFactory=Un.svgFactory,this.annotationStorage=Un.annotationStorage,this.enableScripting=Un.enableScripting,this.hasJSActions=Un.hasJSActions,this._fieldObjects=Un.fieldObjects,this._mouseState=Un.mouseState,qn&&(this.container=this._createContainer(Dn)),lr&&(this.quadrilaterals=this._createQuadrilaterals(Dn))}_createContainer(Un=!1){const qn=this.data,Dn=this.page,lr=this.viewport,cr=document.createElement("section"),{width:hr,height:Ar}=Sn(qn.rect),[Fr,Pr,Gr,Sr]=lr.viewBox,Wr=Gr-Fr,Jr=Sr-Pr;cr.setAttribute("data-annotation-id",qn.id);const ns=en.Util.normalizeRect([qn.rect[0],Dn.view[3]-qn.rect[1]+Dn.view[1],qn.rect[2],Dn.view[3]-qn.rect[3]+Dn.view[1]]);if(!Un&&qn.borderStyle.width>0){cr.style.borderWidth=`${qn.borderStyle.width}px`;const zr=qn.borderStyle.horizontalCornerRadius,rs=qn.borderStyle.verticalCornerRadius;if(zr>0||rs>0){const ks=`calc(${zr}px * var(--scale-factor)) / calc(${rs}px * var(--scale-factor))`;cr.style.borderRadius=ks}else if(this instanceof An){const ks=`calc(${hr}px * var(--scale-factor)) / calc(${Ar}px * var(--scale-factor))`;cr.style.borderRadius=ks}switch(qn.borderStyle.style){case en.AnnotationBorderStyleType.SOLID:cr.style.borderStyle="solid";break;case en.AnnotationBorderStyleType.DASHED:cr.style.borderStyle="dashed";break;case en.AnnotationBorderStyleType.BEVELED:(0,en.warn)("Unimplemented border style: beveled");break;case en.AnnotationBorderStyleType.INSET:(0,en.warn)("Unimplemented border style: inset");break;case en.AnnotationBorderStyleType.UNDERLINE:cr.style.borderBottomStyle="solid";break}const Qr=qn.borderColor||null;Qr?cr.style.borderColor=en.Util.makeHexColor(Qr[0]|0,Qr[1]|0,Qr[2]|0):cr.style.borderWidth=0}cr.style.left=`${100*(ns[0]-Fr)/Wr}%`,cr.style.top=`${100*(ns[1]-Pr)/Jr}%`;const{rotation:Er}=qn;return qn.hasOwnCanvas||Er===0?(cr.style.width=`${100*hr/Wr}%`,cr.style.height=`${100*Ar/Jr}%`):this.setRotation(Er,cr),cr}setRotation(Un,qn=this.container){const[Dn,lr,cr,hr]=this.viewport.viewBox,Ar=cr-Dn,Fr=hr-lr,{width:Pr,height:Gr}=Sn(this.data.rect);let Sr,Wr;Un%180===0?(Sr=100*Pr/Ar,Wr=100*Gr/Fr):(Sr=100*Gr/Ar,Wr=100*Pr/Fr),qn.style.width=`${Sr}%`,qn.style.height=`${Wr}%`,qn.setAttribute("data-main-rotation",(360-Un)%360)}get _commonActions(){const Un=(qn,Dn,lr)=>{const cr=lr.detail[qn];lr.target.style[Dn]=rn.ColorConverters[`${cr[0]}_HTML`](cr.slice(1))};return(0,en.shadow)(this,"_commonActions",{display:qn=>{const Dn=qn.detail.display%2===1;this.container.style.visibility=Dn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Dn,print:qn.detail.display===0||qn.detail.display===3})},print:qn=>{this.annotationStorage.setValue(this.data.id,{print:qn.detail.print})},hidden:qn=>{this.container.style.visibility=qn.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:qn.detail.hidden})},focus:qn=>{setTimeout(()=>qn.target.focus({preventScroll:!1}),0)},userName:qn=>{qn.target.title=qn.detail.userName},readonly:qn=>{qn.detail.readonly?qn.target.setAttribute("readonly",""):qn.target.removeAttribute("readonly")},required:qn=>{this._setRequired(qn.target,qn.detail.required)},bgColor:qn=>{Un("bgColor","backgroundColor",qn)},fillColor:qn=>{Un("fillColor","backgroundColor",qn)},fgColor:qn=>{Un("fgColor","color",qn)},textColor:qn=>{Un("textColor","color",qn)},borderColor:qn=>{Un("borderColor","borderColor",qn)},strokeColor:qn=>{Un("strokeColor","borderColor",qn)},rotation:qn=>{const Dn=qn.detail.rotation;this.setRotation(Dn),this.annotationStorage.setValue(this.data.id,{rotation:Dn})}})}_dispatchEventFromSandbox(Un,qn){const Dn=this._commonActions;for(const lr of Object.keys(qn.detail)){const cr=Un[lr]||Dn[lr];cr==null||cr(qn)}}_setDefaultPropertiesFromJS(Un){if(!this.enableScripting)return;const qn=this.annotationStorage.getRawValue(this.data.id);if(!qn)return;const Dn=this._commonActions;for(const[lr,cr]of Object.entries(qn)){const hr=Dn[lr];if(hr){const Ar={detail:{[lr]:cr},target:Un};hr(Ar),delete qn[lr]}}}_createQuadrilaterals(Un=!1){if(!this.data.quadPoints)return null;const qn=[],Dn=this.data.rect;for(const lr of this.data.quadPoints)this.data.rect=[lr[2].x,lr[2].y,lr[1].x,lr[1].y],qn.push(this._createContainer(Un));return this.data.rect=Dn,qn}_createPopup(Un,qn){let Dn=this.container;this.quadrilaterals&&(Un=Un||this.quadrilaterals,Dn=this.quadrilaterals[0]),Un||(Un=document.createElement("div"),Un.className="popupTriggerArea",Dn.append(Un));const cr=new In({container:Dn,trigger:Un,color:qn.color,titleObj:qn.titleObj,modificationDate:qn.modificationDate,contentsObj:qn.contentsObj,richText:qn.richText,hideWrapper:!0}).render();cr.style.left="100%",Dn.append(cr)}_renderQuadrilaterals(Un){for(const qn of this.quadrilaterals)qn.className=Un;return this.quadrilaterals}render(){(0,en.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Un,qn=null){const Dn=[];if(this._fieldObjects){const lr=this._fieldObjects[Un];if(lr)for(const{page:cr,id:hr,exportValues:Ar}of lr){if(cr===-1||hr===qn)continue;const Fr=typeof Ar=="string"?Ar:null,Pr=document.querySelector(`[data-element-id="${hr}"]`);if(Pr&&!dn.has(Pr)){(0,en.warn)(`_getElementsByName - element not allowed: ${hr}`);continue}Dn.push({id:hr,exportValue:Fr,domElement:Pr})}return Dn}for(const lr of document.getElementsByName(Un)){const{exportValue:cr}=lr,hr=lr.getAttribute("data-element-id");hr!==qn&&(!dn.has(lr)||Dn.push({id:hr,exportValue:cr,domElement:lr}))}return Dn}static get platform(){const Un=typeof navigator<"u"?navigator.platform:"";return(0,en.shadow)(this,"platform",{isWin:Un.includes("Win"),isMac:Un.includes("Mac")})}}class vn extends fn{constructor(qn,Dn=null){super(qn,{isRenderable:!0,ignoreBorder:!!(Dn!=null&&Dn.ignoreBorder),createQuadrilaterals:!0});Xr(this,Rn);this.isTooltipOnly=qn.data.isTooltipOnly}render(){const{data:qn,linkService:Dn}=this,lr=document.createElement("a");lr.setAttribute("data-element-id",qn.id);let cr=!1;return qn.url?(Dn.addLinkAttributes(lr,qn.url,qn.newWindow),cr=!0):qn.action?(this._bindNamedAction(lr,qn.action),cr=!0):qn.attachment?(this._bindAttachment(lr,qn.attachment),cr=!0):qn.setOCGState?(ts(this,Rn,f2).call(this,lr,qn.setOCGState),cr=!0):qn.dest?(this._bindLink(lr,qn.dest),cr=!0):(qn.actions&&(qn.actions.Action||qn.actions["Mouse Up"]||qn.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(lr,qn),cr=!0),qn.resetForm?(this._bindResetFormAction(lr,qn.resetForm),cr=!0):this.isTooltipOnly&&!cr&&(this._bindLink(lr,""),cr=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((hr,Ar)=>{const Fr=Ar===0?lr:lr.cloneNode();return hr.append(Fr),hr}):(this.container.className="linkAnnotation",cr&&this.container.append(lr),this.container)}_bindLink(qn,Dn){qn.href=this.linkService.getDestinationHash(Dn),qn.onclick=()=>(Dn&&this.linkService.goToDestination(Dn),!1),(Dn||Dn==="")&&(qn.className="internalLink")}_bindNamedAction(qn,Dn){qn.href=this.linkService.getAnchorUrl(""),qn.onclick=()=>(this.linkService.executeNamedAction(Dn),!1),qn.className="internalLink"}_bindAttachment(qn,Dn){qn.href=this.linkService.getAnchorUrl(""),qn.onclick=()=>{var lr;return(lr=this.downloadManager)==null||lr.openOrDownloadData(this.container,Dn.content,Dn.filename),!1},qn.className="internalLink"}_bindJSAction(qn,Dn){qn.href=this.linkService.getAnchorUrl("");const lr=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const cr of Object.keys(Dn.actions)){const hr=lr.get(cr);!hr||(qn[hr]=()=>{var Ar;return(Ar=this.linkService.eventBus)==null||Ar.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Dn.id,name:cr}}),!1})}qn.onclick||(qn.onclick=()=>!1),qn.className="internalLink"}_bindResetFormAction(qn,Dn){const lr=qn.onclick;if(lr||(qn.href=this.linkService.getAnchorUrl("")),qn.className="internalLink",!this._fieldObjects){(0,en.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),lr||(qn.onclick=()=>!1);return}qn.onclick=()=>{var Sr;lr==null||lr();const{fields:cr,refs:hr,include:Ar}=Dn,Fr=[];if(cr.length!==0||hr.length!==0){const Wr=new Set(hr);for(const Jr of cr){const ns=this._fieldObjects[Jr]||[];for(const{id:Er}of ns)Wr.add(Er)}for(const Jr of Object.values(this._fieldObjects))for(const ns of Jr)Wr.has(ns.id)===Ar&&Fr.push(ns)}else for(const Wr of Object.values(this._fieldObjects))Fr.push(...Wr);const Pr=this.annotationStorage,Gr=[];for(const Wr of Fr){const{id:Jr}=Wr;switch(Gr.push(Jr),Wr.type){case"text":{const Er=Wr.defaultValue||"";Pr.setValue(Jr,{value:Er});break}case"checkbox":case"radiobutton":{const Er=Wr.defaultValue===Wr.exportValues;Pr.setValue(Jr,{value:Er});break}case"combobox":case"listbox":{const Er=Wr.defaultValue||"";Pr.setValue(Jr,{value:Er});break}default:continue}const ns=document.querySelector(`[data-element-id="${Jr}"]`);if(ns){if(!dn.has(ns)){(0,en.warn)(`_bindResetFormAction - element not allowed: ${Jr}`);continue}}else continue;ns.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Sr=this.linkService.eventBus)==null||Sr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Gr,name:"ResetForm"}})),!1}}}Rn=new WeakSet,f2=function(qn,Dn){qn.href=this.linkService.getAnchorUrl(""),qn.onclick=()=>(this.linkService.executeSetOCGState(Dn),!1),qn.className="internalLink"};class bn extends fn{constructor(Un){var Dn,lr,cr;const qn=!!(Un.data.hasPopup||((Dn=Un.data.titleObj)==null?void 0:Dn.str)||((lr=Un.data.contentsObj)==null?void 0:lr.str)||((cr=Un.data.richText)==null?void 0:cr.str));super(Un,{isRenderable:qn})}render(){this.container.className="textAnnotation";const Un=document.createElement("img");return Un.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Un.alt="[{{type}} Annotation]",Un.dataset.l10nId="text_annotation_type",Un.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(Un,this.data),this.container.append(Un),this.container}}class wn extends fn{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(Un){const{isWin:qn,isMac:Dn}=fn.platform;return qn&&Un.ctrlKey||Dn&&Un.metaKey}_setEventListener(Un,qn,Dn,lr){qn.includes("mouse")?Un.addEventListener(qn,cr=>{var hr;(hr=this.linkService.eventBus)==null||hr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Dn,value:lr(cr),shift:cr.shiftKey,modifier:this._getKeyModifier(cr)}})}):Un.addEventListener(qn,cr=>{var hr;(hr=this.linkService.eventBus)==null||hr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Dn,value:lr(cr)}})})}_setEventListeners(Un,qn,Dn){var lr;for(const[cr,hr]of qn)(hr==="Action"||((lr=this.data.actions)==null?void 0:lr[hr]))&&this._setEventListener(Un,cr,hr,Dn)}_setBackgroundColor(Un){const qn=this.data.backgroundColor||null;Un.style.backgroundColor=qn===null?"transparent":en.Util.makeHexColor(qn[0],qn[1],qn[2])}_setTextStyle(Un){const qn=["left","center","right"],{fontColor:Dn}=this.data.defaultAppearanceData,lr=this.data.defaultAppearanceData.fontSize||cn,cr=Un.style;let hr;const Ar=2,Fr=Pr=>Math.round(10*Pr)/10;if(this.data.multiLine){const Pr=Math.abs(this.data.rect[3]-this.data.rect[1]-Ar),Gr=Math.round(Pr/(en.LINE_FACTOR*lr))||1,Sr=Pr/Gr;hr=Math.min(lr,Fr(Sr/en.LINE_FACTOR))}else{const Pr=Math.abs(this.data.rect[3]-this.data.rect[1]-Ar);hr=Math.min(lr,Fr(Pr/en.LINE_FACTOR))}cr.fontSize=`calc(${hr}px * var(--scale-factor))`,cr.color=en.Util.makeHexColor(Dn[0],Dn[1],Dn[2]),this.data.textAlignment!==null&&(cr.textAlign=qn[this.data.textAlignment])}_setRequired(Un,qn){qn?Un.setAttribute("required",!0):Un.removeAttribute("required"),Un.setAttribute("aria-required",qn)}}class pn extends wn{constructor(Un){const qn=Un.renderForms||!Un.data.hasAppearance&&!!Un.data.fieldValue;super(Un,{isRenderable:qn})}setPropertyOnSiblings(Un,qn,Dn,lr){const cr=this.annotationStorage;for(const hr of this._getElementsByName(Un.name,Un.id))hr.domElement&&(hr.domElement[qn]=Dn),cr.setValue(hr.id,{[lr]:Dn})}render(){var lr;const Un=this.annotationStorage,qn=this.data.id;this.container.className="textWidgetAnnotation";let Dn=null;if(this.renderForms){const cr=Un.getValue(qn,{value:this.data.fieldValue});let hr=cr.formattedValue||cr.value||"";const Ar=Un.getValue(qn,{charLimit:this.data.maxLen}).charLimit;Ar&&hr.length>Ar&&(hr=hr.slice(0,Ar));const Fr={userValue:hr,formattedValue:null,valueOnFocus:""};this.data.multiLine?(Dn=document.createElement("textarea"),Dn.textContent=hr,this.data.doNotScroll&&(Dn.style.overflowY="hidden")):(Dn=document.createElement("input"),Dn.type="text",Dn.setAttribute("value",hr),this.data.doNotScroll&&(Dn.style.overflowX="hidden")),dn.add(Dn),Dn.setAttribute("data-element-id",qn),Dn.disabled=this.data.readOnly,Dn.name=this.data.fieldName,Dn.tabIndex=un,this._setRequired(Dn,this.data.required),Ar&&(Dn.maxLength=Ar),Dn.addEventListener("input",Gr=>{Un.setValue(qn,{value:Gr.target.value}),this.setPropertyOnSiblings(Dn,"value",Gr.target.value,"value")}),Dn.addEventListener("resetform",Gr=>{var Wr;const Sr=(Wr=this.data.defaultFieldValue)!=null?Wr:"";Dn.value=Fr.userValue=Sr,Fr.formattedValue=null});let Pr=Gr=>{const{formattedValue:Sr}=Fr;Sr!=null&&(Gr.target.value=Sr),Gr.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Dn.addEventListener("focus",Sr=>{Fr.userValue&&(Sr.target.value=Fr.userValue),Fr.valueOnFocus=Sr.target.value}),Dn.addEventListener("updatefromsandbox",Sr=>{const Wr={value(Jr){var ns;Fr.userValue=(ns=Jr.detail.value)!=null?ns:"",Un.setValue(qn,{value:Fr.userValue.toString()}),Jr.target.value=Fr.userValue},formattedValue(Jr){const{formattedValue:ns}=Jr.detail;Fr.formattedValue=ns,ns!=null&&Jr.target!==document.activeElement&&(Jr.target.value=ns),Un.setValue(qn,{formattedValue:ns})},selRange(Jr){Jr.target.setSelectionRange(...Jr.detail.selRange)},charLimit:Jr=>{var rs;const{charLimit:ns}=Jr.detail,{target:Er}=Jr;if(ns===0){Er.removeAttribute("maxLength");return}Er.setAttribute("maxLength",ns);let zr=Fr.userValue;!zr||zr.length<=ns||(zr=zr.slice(0,ns),Er.value=Fr.userValue=zr,Un.setValue(qn,{value:zr}),(rs=this.linkService.eventBus)==null||rs.dispatch("dispatcheventinsandbox",{source:this,detail:{id:qn,name:"Keystroke",value:zr,willCommit:!0,commitKey:1,selStart:Er.selectionStart,selEnd:Er.selectionEnd}}))}};this._dispatchEventFromSandbox(Wr,Sr)}),Dn.addEventListener("keydown",Sr=>{var ns;let Wr=-1;if(Sr.key==="Escape"?Wr=0:Sr.key==="Enter"&&!this.data.multiLine?Wr=2:Sr.key==="Tab"&&(Wr=3),Wr===-1)return;const{value:Jr}=Sr.target;Fr.valueOnFocus!==Jr&&(Fr.userValue=Jr,(ns=this.linkService.eventBus)==null||ns.dispatch("dispatcheventinsandbox",{source:this,detail:{id:qn,name:"Keystroke",value:Jr,willCommit:!0,commitKey:Wr,selStart:Sr.target.selectionStart,selEnd:Sr.target.selectionEnd}}))});const Gr=Pr;Pr=null,Dn.addEventListener("blur",Sr=>{var Jr;const{value:Wr}=Sr.target;Fr.userValue=Wr,this._mouseState.isDown&&Fr.valueOnFocus!==Wr&&((Jr=this.linkService.eventBus)==null||Jr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:qn,name:"Keystroke",value:Wr,willCommit:!0,commitKey:1,selStart:Sr.target.selectionStart,selEnd:Sr.target.selectionEnd}})),Gr(Sr)}),(lr=this.data.actions)!=null&&lr.Keystroke&&Dn.addEventListener("beforeinput",Sr=>{var ks;const{data:Wr,target:Jr}=Sr,{value:ns,selectionStart:Er,selectionEnd:zr}=Jr;let rs=Er,Qr=zr;switch(Sr.inputType){case"deleteWordBackward":{const ys=ns.substring(0,Er).match(/\w*[^\w]*$/);ys&&(rs-=ys[0].length);break}case"deleteWordForward":{const ys=ns.substring(Er).match(/^[^\w]*\w*/);ys&&(Qr+=ys[0].length);break}case"deleteContentBackward":Er===zr&&(rs-=1);break;case"deleteContentForward":Er===zr&&(Qr+=1);break}Sr.preventDefault(),(ks=this.linkService.eventBus)==null||ks.dispatch("dispatcheventinsandbox",{source:this,detail:{id:qn,name:"Keystroke",value:ns,change:Wr||"",willCommit:!1,selStart:rs,selEnd:Qr}})}),this._setEventListeners(Dn,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Sr=>Sr.target.value)}if(Pr&&Dn.addEventListener("blur",Pr),this.data.comb){const Sr=(this.data.rect[2]-this.data.rect[0])/Ar;Dn.classList.add("comb"),Dn.style.letterSpacing=`calc(${Sr}px * var(--scale-factor) - 1ch)`}}else Dn=document.createElement("div"),Dn.textContent=this.data.fieldValue,Dn.style.verticalAlign="middle",Dn.style.display="table-cell";return this._setTextStyle(Dn),this._setBackgroundColor(Dn),this._setDefaultPropertiesFromJS(Dn),this.container.append(Dn),this.container}}class yn extends wn{constructor(Un){super(Un,{isRenderable:Un.renderForms})}render(){const Un=this.annotationStorage,qn=this.data,Dn=qn.id;let lr=Un.getValue(Dn,{value:qn.exportValue===qn.fieldValue}).value;typeof lr=="string"&&(lr=lr!=="Off",Un.setValue(Dn,{value:lr})),this.container.className="buttonWidgetAnnotation checkBox";const cr=document.createElement("input");return dn.add(cr),cr.setAttribute("data-element-id",Dn),cr.disabled=qn.readOnly,this._setRequired(cr,this.data.required),cr.type="checkbox",cr.name=qn.fieldName,lr&&cr.setAttribute("checked",!0),cr.setAttribute("exportValue",qn.exportValue),cr.tabIndex=un,cr.addEventListener("change",hr=>{const{name:Ar,checked:Fr}=hr.target;for(const Pr of this._getElementsByName(Ar,Dn)){const Gr=Fr&&Pr.exportValue===qn.exportValue;Pr.domElement&&(Pr.domElement.checked=Gr),Un.setValue(Pr.id,{value:Gr})}Un.setValue(Dn,{value:Fr})}),cr.addEventListener("resetform",hr=>{const Ar=qn.defaultFieldValue||"Off";hr.target.checked=Ar===qn.exportValue}),this.enableScripting&&this.hasJSActions&&(cr.addEventListener("updatefromsandbox",hr=>{const Ar={value(Fr){Fr.target.checked=Fr.detail.value!=="Off",Un.setValue(Dn,{value:Fr.target.checked})}};this._dispatchEventFromSandbox(Ar,hr)}),this._setEventListeners(cr,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],hr=>hr.target.checked)),this._setBackgroundColor(cr),this._setDefaultPropertiesFromJS(cr),this.container.append(cr),this.container}}class An extends wn{constructor(Un){super(Un,{isRenderable:Un.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const Un=this.annotationStorage,qn=this.data,Dn=qn.id;let lr=Un.getValue(Dn,{value:qn.fieldValue===qn.buttonValue}).value;typeof lr=="string"&&(lr=lr!==qn.buttonValue,Un.setValue(Dn,{value:lr}));const cr=document.createElement("input");if(dn.add(cr),cr.setAttribute("data-element-id",Dn),cr.disabled=qn.readOnly,this._setRequired(cr,this.data.required),cr.type="radio",cr.name=qn.fieldName,lr&&cr.setAttribute("checked",!0),cr.tabIndex=un,cr.addEventListener("change",hr=>{const{name:Ar,checked:Fr}=hr.target;for(const Pr of this._getElementsByName(Ar,Dn))Un.setValue(Pr.id,{value:!1});Un.setValue(Dn,{value:Fr})}),cr.addEventListener("resetform",hr=>{const Ar=qn.defaultFieldValue;hr.target.checked=Ar!=null&&Ar===qn.buttonValue}),this.enableScripting&&this.hasJSActions){const hr=qn.buttonValue;cr.addEventListener("updatefromsandbox",Ar=>{const Fr={value:Pr=>{const Gr=hr===Pr.detail.value;for(const Sr of this._getElementsByName(Pr.target.name)){const Wr=Gr&&Sr.id===Dn;Sr.domElement&&(Sr.domElement.checked=Wr),Un.setValue(Sr.id,{value:Wr})}}};this._dispatchEventFromSandbox(Fr,Ar)}),this._setEventListeners(cr,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ar=>Ar.target.checked)}return this._setBackgroundColor(cr),this._setDefaultPropertiesFromJS(cr),this.container.append(cr),this.container}}class kn extends vn{constructor(Un){super(Un,{ignoreBorder:Un.data.hasAppearance})}render(){const Un=super.render();Un.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(Un.title=this.data.alternativeText);const qn=Un.lastChild;return this.enableScripting&&this.hasJSActions&&qn&&(this._setDefaultPropertiesFromJS(qn),qn.addEventListener("updatefromsandbox",Dn=>{this._dispatchEventFromSandbox({},Dn)})),Un}}class xn extends wn{constructor(Un){super(Un,{isRenderable:Un.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const Un=this.annotationStorage,qn=this.data.id,Dn=Un.getValue(qn,{value:this.data.fieldValue}),lr=document.createElement("select");dn.add(lr),lr.setAttribute("data-element-id",qn),lr.disabled=this.data.readOnly,this._setRequired(lr,this.data.required),lr.name=this.data.fieldName,lr.tabIndex=un;let cr=this.data.combo&&this.data.options.length>0;this.data.combo||(lr.size=this.data.options.length,this.data.multiSelect&&(lr.multiple=!0)),lr.addEventListener("resetform",Pr=>{const Gr=this.data.defaultFieldValue;for(const Sr of lr.options)Sr.selected=Sr.value===Gr});for(const Pr of this.data.options){const Gr=document.createElement("option");Gr.textContent=Pr.displayValue,Gr.value=Pr.exportValue,Dn.value.includes(Pr.exportValue)&&(Gr.setAttribute("selected",!0),cr=!1),lr.append(Gr)}let hr=null;if(cr){const Pr=document.createElement("option");Pr.value=" ",Pr.setAttribute("hidden",!0),Pr.setAttribute("selected",!0),lr.prepend(Pr),hr=()=>{Pr.remove(),lr.removeEventListener("input",hr),hr=null},lr.addEventListener("input",hr)}const Ar=(Pr,Gr)=>{const Sr=Gr?"value":"textContent",Wr=Pr.target.options;return Pr.target.multiple?Array.prototype.filter.call(Wr,Jr=>Jr.selected).map(Jr=>Jr[Sr]):Wr.selectedIndex===-1?null:Wr[Wr.selectedIndex][Sr]},Fr=Pr=>{const Gr=Pr.target.options;return Array.prototype.map.call(Gr,Sr=>({displayValue:Sr.textContent,exportValue:Sr.value}))};return this.enableScripting&&this.hasJSActions?(lr.addEventListener("updatefromsandbox",Pr=>{const Gr={value(Sr){hr==null||hr();const Wr=Sr.detail.value,Jr=new Set(Array.isArray(Wr)?Wr:[Wr]);for(const ns of lr.options)ns.selected=Jr.has(ns.value);Un.setValue(qn,{value:Ar(Sr,!0)})},multipleSelection(Sr){lr.multiple=!0},remove(Sr){const Wr=lr.options,Jr=Sr.detail.remove;Wr[Jr].selected=!1,lr.remove(Jr),Wr.length>0&&Array.prototype.findIndex.call(Wr,Er=>Er.selected)===-1&&(Wr[0].selected=!0),Un.setValue(qn,{value:Ar(Sr,!0),items:Fr(Sr)})},clear(Sr){for(;lr.length!==0;)lr.remove(0);Un.setValue(qn,{value:null,items:[]})},insert(Sr){const{index:Wr,displayValue:Jr,exportValue:ns}=Sr.detail.insert,Er=lr.children[Wr],zr=document.createElement("option");zr.textContent=Jr,zr.value=ns,Er?Er.before(zr):lr.append(zr),Un.setValue(qn,{value:Ar(Sr,!0),items:Fr(Sr)})},items(Sr){const{items:Wr}=Sr.detail;for(;lr.length!==0;)lr.remove(0);for(const Jr of Wr){const{displayValue:ns,exportValue:Er}=Jr,zr=document.createElement("option");zr.textContent=ns,zr.value=Er,lr.append(zr)}lr.options.length>0&&(lr.options[0].selected=!0),Un.setValue(qn,{value:Ar(Sr,!0),items:Fr(Sr)})},indices(Sr){const Wr=new Set(Sr.detail.indices);for(const Jr of Sr.target.options)Jr.selected=Wr.has(Jr.index);Un.setValue(qn,{value:Ar(Sr,!0)})},editable(Sr){Sr.target.disabled=!Sr.detail.editable}};this._dispatchEventFromSandbox(Gr,Pr)}),lr.addEventListener("input",Pr=>{var Wr;const Gr=Ar(Pr,!0),Sr=Ar(Pr,!1);Un.setValue(qn,{value:Gr}),(Wr=this.linkService.eventBus)==null||Wr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:qn,name:"Keystroke",value:Sr,changeEx:Gr,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(lr,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],Pr=>Pr.target.checked)):lr.addEventListener("input",function(Pr){Un.setValue(qn,{value:Ar(Pr,!0)})}),this.data.combo&&this._setTextStyle(lr),this._setBackgroundColor(lr),this._setDefaultPropertiesFromJS(lr),this.container.append(lr),this.container}}const Bn=class extends fn{constructor(Un){var lr,cr,hr;const{data:qn}=Un,Dn=!Bn.IGNORE_TYPES.has(qn.parentType)&&!!(((lr=qn.titleObj)==null?void 0:lr.str)||((cr=qn.contentsObj)==null?void 0:cr.str)||((hr=qn.richText)==null?void 0:hr.str));super(Un,{isRenderable:Dn})}render(){this.container.className="popupAnnotation";const Un=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(Un.length===0)return this.container;const qn=new In({container:this.container,trigger:Array.from(Un),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),Dn=this.page,lr=en.Util.normalizeRect([this.data.parentRect[0],Dn.view[3]-this.data.parentRect[1]+Dn.view[1],this.data.parentRect[2],Dn.view[3]-this.data.parentRect[3]+Dn.view[1]]),cr=lr[0]+this.data.parentRect[2]-this.data.parentRect[0],hr=lr[1],[Ar,Fr,Pr,Gr]=this.viewport.viewBox,Sr=Pr-Ar,Wr=Gr-Fr;return this.container.style.left=`${100*(cr-Ar)/Sr}%`,this.container.style.top=`${100*(hr-Fr)/Wr}%`,this.container.append(qn.render()),this.container}};let Pn=Bn;Fo(Pn,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));class In{constructor(Un){this.container=Un.container,this.trigger=Un.trigger,this.color=Un.color,this.titleObj=Un.titleObj,this.modificationDate=Un.modificationDate,this.contentsObj=Un.contentsObj,this.richText=Un.richText,this.hideWrapper=Un.hideWrapper||!1,this.pinned=!1}render(){var Ar,Fr;const qn=document.createElement("div");qn.className="popupWrapper",this.hideElement=this.hideWrapper?qn:this.container,this.hideElement.hidden=!0;const Dn=document.createElement("div");Dn.className="popup";const lr=this.color;if(lr){const Pr=.7*(255-lr[0])+lr[0],Gr=.7*(255-lr[1])+lr[1],Sr=.7*(255-lr[2])+lr[2];Dn.style.backgroundColor=en.Util.makeHexColor(Pr|0,Gr|0,Sr|0)}const cr=document.createElement("h1");cr.dir=this.titleObj.dir,cr.textContent=this.titleObj.str,Dn.append(cr);const hr=tn.PDFDateString.toDateObject(this.modificationDate);if(hr){const Pr=document.createElement("span");Pr.className="popupDate",Pr.textContent="{{date}}, {{time}}",Pr.dataset.l10nId="annotation_date_string",Pr.dataset.l10nArgs=JSON.stringify({date:hr.toLocaleDateString(),time:hr.toLocaleTimeString()}),Dn.append(Pr)}if(((Ar=this.richText)==null?void 0:Ar.str)&&(!((Fr=this.contentsObj)!=null&&Fr.str)||this.contentsObj.str===this.richText.str))on.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:Dn}),Dn.lastChild.className="richText popupContent";else{const Pr=this._formatContents(this.contentsObj);Dn.append(Pr)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Pr of this.trigger)Pr.addEventListener("click",this._toggle.bind(this)),Pr.addEventListener("mouseover",this._show.bind(this,!1)),Pr.addEventListener("mouseout",this._hide.bind(this,!1));return Dn.addEventListener("click",this._hide.bind(this,!0)),qn.append(Dn),qn}_formatContents({str:Un,dir:qn}){const Dn=document.createElement("p");Dn.className="popupContent",Dn.dir=qn;const lr=Un.split(/(?:\r\n?|\n)/);for(let cr=0,hr=lr.length;cr<hr;++cr){const Ar=lr[cr];Dn.append(document.createTextNode(Ar)),cr<hr-1&&Dn.append(document.createElement("br"))}return Dn}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(Un=!1){Un&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(Un=!0){Un&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class On extends fn{constructor(Un){var Dn,lr,cr;const qn=!!(Un.data.hasPopup||((Dn=Un.data.titleObj)==null?void 0:Dn.str)||((lr=Un.data.contentsObj)==null?void 0:lr.str)||((cr=Un.data.richText)==null?void 0:cr.str));super(Un,{isRenderable:qn,ignoreBorder:!0}),this.textContent=Un.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const Un=document.createElement("div");Un.className="annotationTextContent",Un.setAttribute("role","comment");for(const qn of this.textContent){const Dn=document.createElement("span");Dn.textContent=qn,Un.append(Dn)}this.container.append(Un)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Wn extends fn{constructor(Un){var Dn,lr,cr;const qn=!!(Un.data.hasPopup||((Dn=Un.data.titleObj)==null?void 0:Dn.str)||((lr=Un.data.contentsObj)==null?void 0:lr.str)||((cr=Un.data.richText)==null?void 0:cr.str));super(Un,{isRenderable:qn,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const Un=this.data,{width:qn,height:Dn}=Sn(Un.rect),lr=this.svgFactory.create(qn,Dn,!0),cr=this.svgFactory.createElement("svg:line");return cr.setAttribute("x1",Un.rect[2]-Un.lineCoordinates[0]),cr.setAttribute("y1",Un.rect[3]-Un.lineCoordinates[1]),cr.setAttribute("x2",Un.rect[2]-Un.lineCoordinates[2]),cr.setAttribute("y2",Un.rect[3]-Un.lineCoordinates[3]),cr.setAttribute("stroke-width",Un.borderStyle.width||1),cr.setAttribute("stroke","transparent"),cr.setAttribute("fill","transparent"),lr.append(cr),this.container.append(lr),this._createPopup(cr,Un),this.container}}class zn extends fn{constructor(Un){var Dn,lr,cr;const qn=!!(Un.data.hasPopup||((Dn=Un.data.titleObj)==null?void 0:Dn.str)||((lr=Un.data.contentsObj)==null?void 0:lr.str)||((cr=Un.data.richText)==null?void 0:cr.str));super(Un,{isRenderable:qn,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const Un=this.data,{width:qn,height:Dn}=Sn(Un.rect),lr=this.svgFactory.create(qn,Dn,!0),cr=Un.borderStyle.width,hr=this.svgFactory.createElement("svg:rect");return hr.setAttribute("x",cr/2),hr.setAttribute("y",cr/2),hr.setAttribute("width",qn-cr),hr.setAttribute("height",Dn-cr),hr.setAttribute("stroke-width",cr||1),hr.setAttribute("stroke","transparent"),hr.setAttribute("fill","transparent"),lr.append(hr),this.container.append(lr),this._createPopup(hr,Un),this.container}}class Mn extends fn{constructor(Un){var Dn,lr,cr;const qn=!!(Un.data.hasPopup||((Dn=Un.data.titleObj)==null?void 0:Dn.str)||((lr=Un.data.contentsObj)==null?void 0:lr.str)||((cr=Un.data.richText)==null?void 0:cr.str));super(Un,{isRenderable:qn,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const Un=this.data,{width:qn,height:Dn}=Sn(Un.rect),lr=this.svgFactory.create(qn,Dn,!0),cr=Un.borderStyle.width,hr=this.svgFactory.createElement("svg:ellipse");return hr.setAttribute("cx",qn/2),hr.setAttribute("cy",Dn/2),hr.setAttribute("rx",qn/2-cr/2),hr.setAttribute("ry",Dn/2-cr/2),hr.setAttribute("stroke-width",cr||1),hr.setAttribute("stroke","transparent"),hr.setAttribute("fill","transparent"),lr.append(hr),this.container.append(lr),this._createPopup(hr,Un),this.container}}class Gn extends fn{constructor(Un){var Dn,lr,cr;const qn=!!(Un.data.hasPopup||((Dn=Un.data.titleObj)==null?void 0:Dn.str)||((lr=Un.data.contentsObj)==null?void 0:lr.str)||((cr=Un.data.richText)==null?void 0:cr.str));super(Un,{isRenderable:qn,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const Un=this.data,{width:qn,height:Dn}=Sn(Un.rect),lr=this.svgFactory.create(qn,Dn,!0);let cr=[];for(const Ar of Un.vertices){const Fr=Ar.x-Un.rect[0],Pr=Un.rect[3]-Ar.y;cr.push(Fr+","+Pr)}cr=cr.join(" ");const hr=this.svgFactory.createElement(this.svgElementName);return hr.setAttribute("points",cr),hr.setAttribute("stroke-width",Un.borderStyle.width||1),hr.setAttribute("stroke","transparent"),hr.setAttribute("fill","transparent"),lr.append(hr),this.container.append(lr),this._createPopup(hr,Un),this.container}}class er extends Gn{constructor(Un){super(Un),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Qn extends fn{constructor(Un){var Dn,lr,cr;const qn=!!(Un.data.hasPopup||((Dn=Un.data.titleObj)==null?void 0:Dn.str)||((lr=Un.data.contentsObj)==null?void 0:lr.str)||((cr=Un.data.richText)==null?void 0:cr.str));super(Un,{isRenderable:qn,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ar extends fn{constructor(Un){var Dn,lr,cr;const qn=!!(Un.data.hasPopup||((Dn=Un.data.titleObj)==null?void 0:Dn.str)||((lr=Un.data.contentsObj)==null?void 0:lr.str)||((cr=Un.data.richText)==null?void 0:cr.str));super(Un,{isRenderable:qn,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const Un=this.data,{width:qn,height:Dn}=Sn(Un.rect),lr=this.svgFactory.create(qn,Dn,!0);for(const cr of Un.inkLists){let hr=[];for(const Fr of cr){const Pr=Fr.x-Un.rect[0],Gr=Un.rect[3]-Fr.y;hr.push(`${Pr},${Gr}`)}hr=hr.join(" ");const Ar=this.svgFactory.createElement(this.svgElementName);Ar.setAttribute("points",hr),Ar.setAttribute("stroke-width",Un.borderStyle.width||1),Ar.setAttribute("stroke","transparent"),Ar.setAttribute("fill","transparent"),this._createPopup(Ar,Un),lr.append(Ar)}return this.container.append(lr),this.container}}class tr extends fn{constructor(Un){var Dn,lr,cr;const qn=!!(Un.data.hasPopup||((Dn=Un.data.titleObj)==null?void 0:Dn.str)||((lr=Un.data.contentsObj)==null?void 0:lr.str)||((cr=Un.data.richText)==null?void 0:cr.str));super(Un,{isRenderable:qn,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class or extends fn{constructor(Un){var Dn,lr,cr;const qn=!!(Un.data.hasPopup||((Dn=Un.data.titleObj)==null?void 0:Dn.str)||((lr=Un.data.contentsObj)==null?void 0:lr.str)||((cr=Un.data.richText)==null?void 0:cr.str));super(Un,{isRenderable:qn,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Yn extends fn{constructor(Un){var Dn,lr,cr;const qn=!!(Un.data.hasPopup||((Dn=Un.data.titleObj)==null?void 0:Dn.str)||((lr=Un.data.contentsObj)==null?void 0:lr.str)||((cr=Un.data.richText)==null?void 0:cr.str));super(Un,{isRenderable:qn,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class ur extends fn{constructor(Un){var Dn,lr,cr;const qn=!!(Un.data.hasPopup||((Dn=Un.data.titleObj)==null?void 0:Dn.str)||((lr=Un.data.contentsObj)==null?void 0:lr.str)||((cr=Un.data.richText)==null?void 0:cr.str));super(Un,{isRenderable:qn,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class pr extends fn{constructor(Un){var Dn,lr,cr;const qn=!!(Un.data.hasPopup||((Dn=Un.data.titleObj)==null?void 0:Dn.str)||((lr=Un.data.contentsObj)==null?void 0:lr.str)||((cr=Un.data.richText)==null?void 0:cr.str));super(Un,{isRenderable:qn,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Lr extends fn{constructor(Un){var lr;super(Un,{isRenderable:!0});const{filename:qn,content:Dn}=this.data.file;this.filename=(0,tn.getFilenameFromUrl)(qn),this.content=Dn,(lr=this.linkService.eventBus)==null||lr.dispatch("fileattachmentannotation",{source:this,filename:qn,content:Dn})}render(){var qn,Dn;this.container.className="fileAttachmentAnnotation";const Un=document.createElement("div");return Un.className="popupTriggerArea",Un.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(((qn=this.data.titleObj)==null?void 0:qn.str)||((Dn=this.data.contentsObj)==null?void 0:Dn.str)||this.data.richText)&&this._createPopup(Un,this.data),this.container.append(Un),this.container}_download(){var Un;(Un=this.downloadManager)==null||Un.openOrDownloadData(this.container,this.content,this.filename)}}const br=class{static render(Un){var Ar,Fr;const{annotations:qn,div:Dn,viewport:lr,accessibilityManager:cr}=Un;ts(this,nr,Om).call(this,Dn,lr);let hr=0;for(const Pr of qn){if(Pr.annotationType!==en.AnnotationType.POPUP){const{width:Sr,height:Wr}=Sn(Pr.rect);if(Sr<=0||Wr<=0)continue}const Gr=mn.create({data:Pr,layer:Dn,page:Un.page,viewport:lr,linkService:Un.linkService,downloadManager:Un.downloadManager,imageResourcesPath:Un.imageResourcesPath||"",renderForms:Un.renderForms!==!1,svgFactory:new tn.DOMSVGFactory,annotationStorage:Un.annotationStorage||new nn.AnnotationStorage,enableScripting:Un.enableScripting,hasJSActions:Un.hasJSActions,fieldObjects:Un.fieldObjects,mouseState:Un.mouseState||{isDown:!1}});if(Gr.isRenderable){const Sr=Gr.render();if(Pr.hidden&&(Sr.style.visibility="hidden"),Array.isArray(Sr))for(const Wr of Sr)Wr.style.zIndex=hr++,ts(Ar=br,Hn,Mm).call(Ar,Wr,Pr.id,Dn,cr);else Sr.style.zIndex=hr++,Gr instanceof Pn?Dn.prepend(Sr):ts(Fr=br,Hn,Mm).call(Fr,Sr,Pr.id,Dn,cr)}}ts(this,_r,Im).call(this,Dn,Un.annotationCanvasMap)}static update(Un){const{annotationCanvasMap:qn,div:Dn,viewport:lr}=Un;ts(this,nr,Om).call(this,Dn,lr),ts(this,_r,Im).call(this,Dn,qn),Dn.hidden=!1}};let Fn=br;Hn=new WeakSet,Mm=function(Un,qn,Dn,lr){const cr=Un.firstChild||Un;cr.id=`${tn.AnnotationPrefix}${qn}`,Dn.append(Un),lr==null||lr.moveElementInDOM(Dn,Un,cr,!1)},nr=new WeakSet,Om=function(Un,{width:qn,height:Dn,rotation:lr}){const{style:cr}=Un,hr=lr%180!==0,Ar=Math.floor(qn)+"px",Fr=Math.floor(Dn)+"px";cr.width=hr?Fr:Ar,cr.height=hr?Ar:Fr,Un.setAttribute("data-main-rotation",lr)},_r=new WeakSet,Im=function(Un,qn){if(!!qn){for(const[Dn,lr]of qn){const cr=Un.querySelector(`[data-annotation-id="${Dn}"]`);if(!cr)continue;const{firstChild:hr}=cr;hr?hr.nodeName==="CANVAS"?hr.replaceWith(lr):hr.before(lr):cr.append(lr)}qn.clear()}},Xr(Fn,Hn),Xr(Fn,nr),Xr(Fn,_r),e.AnnotationLayer=Fn},(_e,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function St(tn){return Math.floor(Math.max(0,Math.min(1,tn))*255).toString(16).padStart(2,"0")}class en{static CMYK_G([nn,rn,on,un]){return["G",1-Math.min(1,.3*nn+.59*on+.11*rn+un)]}static G_CMYK([nn]){return["CMYK",0,0,0,1-nn]}static G_RGB([nn]){return["RGB",nn,nn,nn]}static G_HTML([nn]){const rn=St(nn);return`#${rn}${rn}${rn}`}static RGB_G([nn,rn,on]){return["G",.3*nn+.59*rn+.11*on]}static RGB_HTML([nn,rn,on]){const un=St(nn),cn=St(rn),dn=St(on);return`#${un}${cn}${dn}`}static T_HTML(){return"#00000000"}static CMYK_RGB([nn,rn,on,un]){return["RGB",1-Math.min(1,nn+un),1-Math.min(1,on+un),1-Math.min(1,rn+un)]}static CMYK_HTML(nn){const rn=this.CMYK_RGB(nn).slice(1);return this.RGB_HTML(rn)}static RGB_CMYK([nn,rn,on]){const un=1-nn,cn=1-rn,dn=1-on,Sn=Math.min(un,cn,dn);return["CMYK",un,cn,dn,Sn]}}e.ColorConverters=en},(_e,e,St)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var en=St(19);class tn{static setupStorage(rn,on,un,cn,dn){const Sn=cn.getValue(on,{value:null});switch(un.name){case"textarea":if(Sn.value!==null&&(rn.textContent=Sn.value),dn==="print")break;rn.addEventListener("input",mn=>{cn.setValue(on,{value:mn.target.value})});break;case"input":if(un.attributes.type==="radio"||un.attributes.type==="checkbox"){if(Sn.value===un.attributes.xfaOn?rn.setAttribute("checked",!0):Sn.value===un.attributes.xfaOff&&rn.removeAttribute("checked"),dn==="print")break;rn.addEventListener("change",mn=>{cn.setValue(on,{value:mn.target.checked?mn.target.getAttribute("xfaOn"):mn.target.getAttribute("xfaOff")})})}else{if(Sn.value!==null&&rn.setAttribute("value",Sn.value),dn==="print")break;rn.addEventListener("input",mn=>{cn.setValue(on,{value:mn.target.value})})}break;case"select":if(Sn.value!==null)for(const mn of un.children)mn.attributes.value===Sn.value&&(mn.attributes.selected=!0);rn.addEventListener("input",mn=>{const fn=mn.target.options,vn=fn.selectedIndex===-1?"":fn[fn.selectedIndex].value;cn.setValue(on,{value:vn})});break}}static setAttributes({html:rn,element:on,storage:un=null,intent:cn,linkService:dn}){const{attributes:Sn}=on,mn=rn instanceof HTMLAnchorElement;Sn.type==="radio"&&(Sn.name=`${Sn.name}-${cn}`);for(const[fn,vn]of Object.entries(Sn))if(vn!=null)switch(fn){case"class":vn.length&&rn.setAttribute(fn,vn.join(" "));break;case"dataId":break;case"id":rn.setAttribute("data-element-id",vn);break;case"style":Object.assign(rn.style,vn);break;case"textContent":rn.textContent=vn;break;default:(!mn||fn!=="href"&&fn!=="newWindow")&&rn.setAttribute(fn,vn)}mn&&dn.addLinkAttributes(rn,Sn.href,Sn.newWindow),un&&Sn.dataId&&this.setupStorage(rn,Sn.dataId,on,un)}static render(rn){var bn;const on=rn.annotationStorage,un=rn.linkService,cn=rn.xfaHtml,dn=rn.intent||"display",Sn=document.createElement(cn.name);cn.attributes&&this.setAttributes({html:Sn,element:cn,intent:dn,linkService:un});const mn=[[cn,-1,Sn]],fn=rn.div;if(fn.append(Sn),rn.viewport){const wn=`matrix(${rn.viewport.transform.join(",")})`;fn.style.transform=wn}dn!=="richText"&&fn.setAttribute("class","xfaLayer xfaFont");const vn=[];for(;mn.length>0;){const[wn,pn,yn]=mn.at(-1);if(pn+1===wn.children.length){mn.pop();continue}const An=wn.children[++mn.at(-1)[1]];if(An===null)continue;const{name:kn}=An;if(kn==="#text"){const Pn=document.createTextNode(An.value);vn.push(Pn),yn.append(Pn);continue}let xn;if((bn=An==null?void 0:An.attributes)!=null&&bn.xmlns?xn=document.createElementNS(An.attributes.xmlns,kn):xn=document.createElement(kn),yn.append(xn),An.attributes&&this.setAttributes({html:xn,element:An,storage:on,intent:dn,linkService:un}),An.children&&An.children.length>0)mn.push([An,-1,xn]);else if(An.value){const Pn=document.createTextNode(An.value);en.XfaText.shouldBuildText(kn)&&vn.push(Pn),xn.append(Pn)}}for(const wn of fn.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))wn.setAttribute("readOnly",!0);return{textDivs:vn}}static update(rn){const on=`matrix(${rn.viewport.transform.join(",")})`;rn.div.style.transform=on,rn.div.hidden=!1}}e.XfaLayer=tn},(_e,e,St)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=mn;var en=St(1);const tn=1e5,nn=30,rn=.8,on=new Map;function un(fn,vn){const bn=on.get(fn);if(bn)return bn;vn.save(),vn.font=`${nn}px ${fn}`;const wn=vn.measureText("");let pn=wn.fontBoundingBoxAscent,yn=Math.abs(wn.fontBoundingBoxDescent);if(pn){vn.restore();const kn=pn/(pn+yn);return on.set(fn,kn),kn}vn.strokeStyle="red",vn.clearRect(0,0,nn,nn),vn.strokeText("g",0,0);let An=vn.getImageData(0,0,nn,nn).data;yn=0;for(let kn=An.length-1-3;kn>=0;kn-=4)if(An[kn]>0){yn=Math.ceil(kn/4/nn);break}vn.clearRect(0,0,nn,nn),vn.strokeText("A",0,nn),An=vn.getImageData(0,0,nn,nn).data,pn=0;for(let kn=0,xn=An.length;kn<xn;kn+=4)if(An[kn]>0){pn=nn-Math.floor(kn/4/nn);break}if(vn.restore(),pn){const kn=pn/(pn+yn);return on.set(fn,kn),kn}return on.set(fn,rn),rn}function cn(fn,vn,bn,wn){const pn=document.createElement("span"),yn={angle:0,canvasWidth:0,hasText:vn.str!=="",hasEOL:vn.hasEOL,fontSize:0};fn._textDivs.push(pn);const An=en.Util.transform(fn._viewport.transform,vn.transform);let kn=Math.atan2(An[1],An[0]);const xn=bn[vn.fontName];xn.vertical&&(kn+=Math.PI/2);const Pn=Math.hypot(An[2],An[3]),In=Pn*un(xn.fontFamily,wn);let On,Wn;kn===0?(On=An[4],Wn=An[5]-In):(On=An[4]+In*Math.sin(kn),Wn=An[5]-In*Math.cos(kn)),pn.style.left=`${On}px`,pn.style.top=`${Wn}px`,pn.style.fontSize=`${Pn}px`,pn.style.fontFamily=xn.fontFamily,yn.fontSize=Pn,pn.setAttribute("role","presentation"),pn.textContent=vn.str,pn.dir=vn.dir,fn._fontInspectorEnabled&&(pn.dataset.fontName=vn.fontName),kn!==0&&(yn.angle=kn*(180/Math.PI));let zn=!1;if(vn.str.length>1)zn=!0;else if(vn.str!==" "&&vn.transform[0]!==vn.transform[3]){const Mn=Math.abs(vn.transform[0]),Gn=Math.abs(vn.transform[3]);Mn!==Gn&&Math.max(Mn,Gn)/Math.min(Mn,Gn)>1.5&&(zn=!0)}zn&&(xn.vertical?yn.canvasWidth=vn.height*fn._viewport.scale:yn.canvasWidth=vn.width*fn._viewport.scale),fn._textDivProperties.set(pn,yn),fn._textContentStream&&fn._layoutText(pn)}function dn(fn){if(fn._canceled)return;const vn=fn._textDivs,bn=fn._capability;if(vn.length>tn){fn._renderingDone=!0,bn.resolve();return}if(!fn._textContentStream)for(const pn of vn)fn._layoutText(pn);fn._renderingDone=!0,bn.resolve()}class Sn{constructor({textContent:vn,textContentStream:bn,container:wn,viewport:pn,textDivs:yn,textContentItemsStr:An}){var kn;this._textContent=vn,this._textContentStream=bn,this._container=wn,this._document=wn.ownerDocument,this._viewport=pn,this._textDivs=yn||[],this._textContentItemsStr=An||[],this._fontInspectorEnabled=!!((kn=globalThis.FontInspector)!=null&&kn.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,en.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._textDivProperties=null,this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new en.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(vn,bn){for(const wn of vn){if(wn.str===void 0){if(wn.type==="beginMarkedContentProps"||wn.type==="beginMarkedContent"){const pn=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),wn.id!==null&&this._container.setAttribute("id",`${wn.id}`),pn.append(this._container)}else wn.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(wn.str),cn(this,wn,bn,this._layoutTextCtx)}}_layoutText(vn){const bn=this._textDivProperties.get(vn);let wn="";if(bn.canvasWidth!==0&&bn.hasText){const{fontFamily:pn}=vn.style,{fontSize:yn}=bn;(yn!==this._layoutTextLastFontSize||pn!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${yn*this._devicePixelRatio}px ${pn}`,this._layoutTextLastFontSize=yn,this._layoutTextLastFontFamily=pn);const{width:An}=this._layoutTextCtx.measureText(vn.textContent);An>0&&(wn=`scaleX(${this._devicePixelRatio*bn.canvasWidth/An})`)}if(bn.angle!==0&&(wn=`rotate(${bn.angle}deg) ${wn}`),wn.length>0&&(vn.style.transform=wn),bn.hasText&&this._container.append(vn),bn.hasEOL){const pn=document.createElement("br");pn.setAttribute("role","presentation"),this._container.append(pn)}}_render(vn=0){const bn=(0,en.createPromiseCapability)();let wn=Object.create(null);const pn=this._document.createElement("canvas");if(pn.height=pn.width=nn,this._layoutTextCtx=pn.getContext("2d",{alpha:!1}),this._textContent){const yn=this._textContent.items,An=this._textContent.styles;this._processItems(yn,An),bn.resolve()}else if(this._textContentStream){const yn=()=>{this._reader.read().then(({value:An,done:kn})=>{if(kn){bn.resolve();return}Object.assign(wn,An.styles),this._processItems(An.items,wn),yn()},bn.reject)};this._reader=this._textContentStream.getReader(),yn()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');bn.promise.then(()=>{wn=null,vn?this._renderTimer=setTimeout(()=>{dn(this),this._renderTimer=null},vn):dn(this)},this._capability.reject)}}e.TextLayerRenderTask=Sn;function mn(fn){const vn=new Sn({textContent:fn.textContent,textContentStream:fn.textContentStream,container:fn.container,viewport:fn.viewport,textDivs:fn.textDivs,textContentItemsStr:fn.textContentItemsStr});return vn._render(fn.timeout),vn}},(_e,e,St)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var en=St(6),tn=St(1),nn=St(12);let rn=class{constructor(){(0,tn.unreachable)("Not implemented: SVGGraphics")}};e.SVGGraphics=rn;{let bn=function(xn){let Pn=[];const In=[];for(const On of xn){if(On.fn==="save"){Pn.push({fnId:92,fn:"group",items:[]}),In.push(Pn),Pn=Pn.at(-1).items;continue}On.fn==="restore"?Pn=In.pop():Pn.push(On)}return Pn},wn=function(xn){if(Number.isInteger(xn))return xn.toString();const Pn=xn.toFixed(10);let In=Pn.length-1;if(Pn[In]!=="0")return Pn;do In--;while(Pn[In]==="0");return Pn.substring(0,Pn[In]==="."?In:In+1)},pn=function(xn){if(xn[4]===0&&xn[5]===0){if(xn[1]===0&&xn[2]===0)return xn[0]===1&&xn[3]===1?"":`scale(${wn(xn[0])} ${wn(xn[3])})`;if(xn[0]===xn[3]&&xn[1]===-xn[2]){const Pn=Math.acos(xn[0])*180/Math.PI;return`rotate(${wn(Pn)})`}}else if(xn[0]===1&&xn[1]===0&&xn[2]===0&&xn[3]===1)return`translate(${wn(xn[4])} ${wn(xn[5])})`;return`matrix(${wn(xn[0])} ${wn(xn[1])} ${wn(xn[2])} ${wn(xn[3])} ${wn(xn[4])} ${wn(xn[5])})`};const on={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},un="http://www.w3.org/XML/1998/namespace",cn="http://www.w3.org/1999/xlink",dn=["butt","round","square"],Sn=["miter","round","bevel"],mn=function(xn,Pn="",In=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!In)return URL.createObjectURL(new Blob([xn],{type:Pn}));const On="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Wn=`data:${Pn};base64,`;for(let zn=0,Mn=xn.length;zn<Mn;zn+=3){const Gn=xn[zn]&255,er=xn[zn+1]&255,Qn=xn[zn+2]&255,ar=Gn>>2,tr=(Gn&3)<<4|er>>4,or=zn+1<Mn?(er&15)<<2|Qn>>6:64,Yn=zn+2<Mn?Qn&63:64;Wn+=On[ar]+On[tr]+On[or]+On[Yn]}return Wn},fn=function(){const xn=new Uint8Array([137,80,78,71,13,10,26,10]),Pn=12,In=new Int32Array(256);for(let Qn=0;Qn<256;Qn++){let ar=Qn;for(let tr=0;tr<8;tr++)ar&1?ar=3988292384^ar>>1&2147483647:ar=ar>>1&2147483647;In[Qn]=ar}function On(Qn,ar,tr){let or=-1;for(let Yn=ar;Yn<tr;Yn++){const ur=(or^Qn[Yn])&255,pr=In[ur];or=or>>>8^pr}return or^-1}function Wn(Qn,ar,tr,or){let Yn=or;const ur=ar.length;tr[Yn]=ur>>24&255,tr[Yn+1]=ur>>16&255,tr[Yn+2]=ur>>8&255,tr[Yn+3]=ur&255,Yn+=4,tr[Yn]=Qn.charCodeAt(0)&255,tr[Yn+1]=Qn.charCodeAt(1)&255,tr[Yn+2]=Qn.charCodeAt(2)&255,tr[Yn+3]=Qn.charCodeAt(3)&255,Yn+=4,tr.set(ar,Yn),Yn+=ar.length;const pr=On(tr,or+4,Yn);tr[Yn]=pr>>24&255,tr[Yn+1]=pr>>16&255,tr[Yn+2]=pr>>8&255,tr[Yn+3]=pr&255}function zn(Qn,ar,tr){let or=1,Yn=0;for(let ur=ar;ur<tr;++ur)or=(or+(Qn[ur]&255))%65521,Yn=(Yn+or)%65521;return Yn<<16|or}function Mn(Qn){if(!nn.isNodeJS)return Gn(Qn);try{let ar;parseInt(process.versions.node)>=8?ar=Qn:ar=Buffer.from(Qn);const tr=require$$5.deflateSync(ar,{level:9});return tr instanceof Uint8Array?tr:new Uint8Array(tr)}catch(ar){(0,tn.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+ar)}return Gn(Qn)}function Gn(Qn){let ar=Qn.length;const tr=65535,or=Math.ceil(ar/tr),Yn=new Uint8Array(2+ar+or*5+4);let ur=0;Yn[ur++]=120,Yn[ur++]=156;let pr=0;for(;ar>tr;)Yn[ur++]=0,Yn[ur++]=255,Yn[ur++]=255,Yn[ur++]=0,Yn[ur++]=0,Yn.set(Qn.subarray(pr,pr+tr),ur),ur+=tr,pr+=tr,ar-=tr;Yn[ur++]=1,Yn[ur++]=ar&255,Yn[ur++]=ar>>8&255,Yn[ur++]=~ar&65535&255,Yn[ur++]=(~ar&65535)>>8&255,Yn.set(Qn.subarray(pr),ur),ur+=Qn.length-pr;const Lr=zn(Qn,0,Qn.length);return Yn[ur++]=Lr>>24&255,Yn[ur++]=Lr>>16&255,Yn[ur++]=Lr>>8&255,Yn[ur++]=Lr&255,Yn}function er(Qn,ar,tr,or){const Yn=Qn.width,ur=Qn.height;let pr,Lr,Fn;const Rn=Qn.data;switch(ar){case tn.ImageKind.GRAYSCALE_1BPP:Lr=0,pr=1,Fn=Yn+7>>3;break;case tn.ImageKind.RGB_24BPP:Lr=2,pr=8,Fn=Yn*3;break;case tn.ImageKind.RGBA_32BPP:Lr=6,pr=8,Fn=Yn*4;break;default:throw new Error("invalid format")}const Tn=new Uint8Array((1+Fn)*ur);let Bn=0,Hn=0;for(let br=0;br<ur;++br)Tn[Bn++]=0,Tn.set(Rn.subarray(Hn,Hn+Fn),Bn),Hn+=Fn,Bn+=Fn;if(ar===tn.ImageKind.GRAYSCALE_1BPP&&or){Bn=0;for(let br=0;br<ur;br++){Bn++;for(let xr=0;xr<Fn;xr++)Tn[Bn++]^=255}}const Kn=new Uint8Array([Yn>>24&255,Yn>>16&255,Yn>>8&255,Yn&255,ur>>24&255,ur>>16&255,ur>>8&255,ur&255,pr,Lr,0,0,0]),nr=Mn(Tn),ir=xn.length+Pn*3+Kn.length+nr.length,_r=new Uint8Array(ir);let Cr=0;return _r.set(xn,Cr),Cr+=xn.length,Wn("IHDR",Kn,_r,Cr),Cr+=Pn+Kn.length,Wn("IDATA",nr,_r,Cr),Cr+=Pn+nr.length,Wn("IEND",new Uint8Array(0),_r,Cr),mn(_r,"image/png",tr)}return function(ar,tr,or){const Yn=ar.kind===void 0?tn.ImageKind.GRAYSCALE_1BPP:ar.kind;return er(ar,Yn,tr,or)}}();class vn{constructor(){this.fontSizeScale=1,this.fontWeight=on.fontWeight,this.fontSize=0,this.textMatrix=tn.IDENTITY_MATRIX,this.fontMatrix=tn.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=tn.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=on.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Pn,In){this.x=Pn,this.y=In}}let yn=0,An=0,kn=0;e.SVGGraphics=rn=class{constructor(xn,Pn,In=!1){(0,en.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new en.DOMSVGFactory,this.current=new vn,this.transformMatrix=tn.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=xn,this.objs=Pn,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!In,this._operatorIdMapping=[];for(const On in tn.OPS)this._operatorIdMapping[tn.OPS[On]]=On}getObject(xn,Pn=null){return typeof xn=="string"?xn.startsWith("g_")?this.commonObjs.get(xn):this.objs.get(xn):Pn}save(){this.transformStack.push(this.transformMatrix);const xn=this.current;this.extraStack.push(xn),this.current=xn.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(xn){this.save(),this.executeOpTree(xn),this.restore()}loadDependencies(xn){const Pn=xn.fnArray,In=xn.argsArray;for(let On=0,Wn=Pn.length;On<Wn;On++)if(Pn[On]===tn.OPS.dependency)for(const zn of In[On]){const Mn=zn.startsWith("g_")?this.commonObjs:this.objs,Gn=new Promise(er=>{Mn.get(zn,er)});this.current.dependencies.push(Gn)}return Promise.all(this.current.dependencies)}transform(xn,Pn,In,On,Wn,zn){const Mn=[xn,Pn,In,On,Wn,zn];this.transformMatrix=tn.Util.transform(this.transformMatrix,Mn),this.tgrp=null}getSVG(xn,Pn){this.viewport=Pn;const In=this._initialize(Pn);return this.loadDependencies(xn).then(()=>(this.transformMatrix=tn.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(xn)),In))}convertOpList(xn){const Pn=this._operatorIdMapping,In=xn.argsArray,On=xn.fnArray,Wn=[];for(let zn=0,Mn=On.length;zn<Mn;zn++){const Gn=On[zn];Wn.push({fnId:Gn,fn:Pn[Gn],args:In[zn]})}return bn(Wn)}executeOpTree(xn){for(const Pn of xn){const In=Pn.fn,On=Pn.fnId,Wn=Pn.args;switch(On|0){case tn.OPS.beginText:this.beginText();break;case tn.OPS.dependency:break;case tn.OPS.setLeading:this.setLeading(Wn);break;case tn.OPS.setLeadingMoveText:this.setLeadingMoveText(Wn[0],Wn[1]);break;case tn.OPS.setFont:this.setFont(Wn);break;case tn.OPS.showText:this.showText(Wn[0]);break;case tn.OPS.showSpacedText:this.showText(Wn[0]);break;case tn.OPS.endText:this.endText();break;case tn.OPS.moveText:this.moveText(Wn[0],Wn[1]);break;case tn.OPS.setCharSpacing:this.setCharSpacing(Wn[0]);break;case tn.OPS.setWordSpacing:this.setWordSpacing(Wn[0]);break;case tn.OPS.setHScale:this.setHScale(Wn[0]);break;case tn.OPS.setTextMatrix:this.setTextMatrix(Wn[0],Wn[1],Wn[2],Wn[3],Wn[4],Wn[5]);break;case tn.OPS.setTextRise:this.setTextRise(Wn[0]);break;case tn.OPS.setTextRenderingMode:this.setTextRenderingMode(Wn[0]);break;case tn.OPS.setLineWidth:this.setLineWidth(Wn[0]);break;case tn.OPS.setLineJoin:this.setLineJoin(Wn[0]);break;case tn.OPS.setLineCap:this.setLineCap(Wn[0]);break;case tn.OPS.setMiterLimit:this.setMiterLimit(Wn[0]);break;case tn.OPS.setFillRGBColor:this.setFillRGBColor(Wn[0],Wn[1],Wn[2]);break;case tn.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Wn[0],Wn[1],Wn[2]);break;case tn.OPS.setStrokeColorN:this.setStrokeColorN(Wn);break;case tn.OPS.setFillColorN:this.setFillColorN(Wn);break;case tn.OPS.shadingFill:this.shadingFill(Wn[0]);break;case tn.OPS.setDash:this.setDash(Wn[0],Wn[1]);break;case tn.OPS.setRenderingIntent:this.setRenderingIntent(Wn[0]);break;case tn.OPS.setFlatness:this.setFlatness(Wn[0]);break;case tn.OPS.setGState:this.setGState(Wn[0]);break;case tn.OPS.fill:this.fill();break;case tn.OPS.eoFill:this.eoFill();break;case tn.OPS.stroke:this.stroke();break;case tn.OPS.fillStroke:this.fillStroke();break;case tn.OPS.eoFillStroke:this.eoFillStroke();break;case tn.OPS.clip:this.clip("nonzero");break;case tn.OPS.eoClip:this.clip("evenodd");break;case tn.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case tn.OPS.paintImageXObject:this.paintImageXObject(Wn[0]);break;case tn.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Wn[0]);break;case tn.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Wn[0]);break;case tn.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Wn[0],Wn[1]);break;case tn.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case tn.OPS.closePath:this.closePath();break;case tn.OPS.closeStroke:this.closeStroke();break;case tn.OPS.closeFillStroke:this.closeFillStroke();break;case tn.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case tn.OPS.nextLine:this.nextLine();break;case tn.OPS.transform:this.transform(Wn[0],Wn[1],Wn[2],Wn[3],Wn[4],Wn[5]);break;case tn.OPS.constructPath:this.constructPath(Wn[0],Wn[1]);break;case tn.OPS.endPath:this.endPath();break;case 92:this.group(Pn.items);break;default:(0,tn.warn)(`Unimplemented operator ${In}`);break}}}setWordSpacing(xn){this.current.wordSpacing=xn}setCharSpacing(xn){this.current.charSpacing=xn}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(xn,Pn,In,On,Wn,zn){const Mn=this.current;Mn.textMatrix=Mn.lineMatrix=[xn,Pn,In,On,Wn,zn],Mn.textMatrixScale=Math.hypot(xn,Pn),Mn.x=Mn.lineX=0,Mn.y=Mn.lineY=0,Mn.xcoords=[],Mn.ycoords=[],Mn.tspan=this.svgFactory.createElement("svg:tspan"),Mn.tspan.setAttributeNS(null,"font-family",Mn.fontFamily),Mn.tspan.setAttributeNS(null,"font-size",`${wn(Mn.fontSize)}px`),Mn.tspan.setAttributeNS(null,"y",wn(-Mn.y)),Mn.txtElement=this.svgFactory.createElement("svg:text"),Mn.txtElement.append(Mn.tspan)}beginText(){const xn=this.current;xn.x=xn.lineX=0,xn.y=xn.lineY=0,xn.textMatrix=tn.IDENTITY_MATRIX,xn.lineMatrix=tn.IDENTITY_MATRIX,xn.textMatrixScale=1,xn.tspan=this.svgFactory.createElement("svg:tspan"),xn.txtElement=this.svgFactory.createElement("svg:text"),xn.txtgrp=this.svgFactory.createElement("svg:g"),xn.xcoords=[],xn.ycoords=[]}moveText(xn,Pn){const In=this.current;In.x=In.lineX+=xn,In.y=In.lineY+=Pn,In.xcoords=[],In.ycoords=[],In.tspan=this.svgFactory.createElement("svg:tspan"),In.tspan.setAttributeNS(null,"font-family",In.fontFamily),In.tspan.setAttributeNS(null,"font-size",`${wn(In.fontSize)}px`),In.tspan.setAttributeNS(null,"y",wn(-In.y))}showText(xn){const Pn=this.current,In=Pn.font,On=Pn.fontSize;if(On===0)return;const Wn=Pn.fontSizeScale,zn=Pn.charSpacing,Mn=Pn.wordSpacing,Gn=Pn.fontDirection,er=Pn.textHScale*Gn,Qn=In.vertical,ar=Qn?1:-1,tr=In.defaultVMetrics,or=On*Pn.fontMatrix[0];let Yn=0;for(const Lr of xn){if(Lr===null){Yn+=Gn*Mn;continue}else if(typeof Lr=="number"){Yn+=ar*Lr*On/1e3;continue}const Fn=(Lr.isSpace?Mn:0)+zn,Rn=Lr.fontChar;let Tn,Bn,Hn=Lr.width;if(Qn){let nr;const ir=Lr.vmetric||tr;nr=Lr.vmetric?ir[1]:Hn*.5,nr=-nr*or;const _r=ir[2]*or;Hn=ir?-ir[0]:Hn,Tn=nr/Wn,Bn=(Yn+_r)/Wn}else Tn=Yn/Wn,Bn=0;(Lr.isInFont||In.missingFile)&&(Pn.xcoords.push(Pn.x+Tn),Qn&&Pn.ycoords.push(-Pn.y+Bn),Pn.tspan.textContent+=Rn);let Kn;Qn?Kn=Hn*or-Fn*Gn:Kn=Hn*or+Fn*Gn,Yn+=Kn}Pn.tspan.setAttributeNS(null,"x",Pn.xcoords.map(wn).join(" ")),Qn?Pn.tspan.setAttributeNS(null,"y",Pn.ycoords.map(wn).join(" ")):Pn.tspan.setAttributeNS(null,"y",wn(-Pn.y)),Qn?Pn.y-=Yn:Pn.x+=Yn*er,Pn.tspan.setAttributeNS(null,"font-family",Pn.fontFamily),Pn.tspan.setAttributeNS(null,"font-size",`${wn(Pn.fontSize)}px`),Pn.fontStyle!==on.fontStyle&&Pn.tspan.setAttributeNS(null,"font-style",Pn.fontStyle),Pn.fontWeight!==on.fontWeight&&Pn.tspan.setAttributeNS(null,"font-weight",Pn.fontWeight);const ur=Pn.textRenderingMode&tn.TextRenderingMode.FILL_STROKE_MASK;if(ur===tn.TextRenderingMode.FILL||ur===tn.TextRenderingMode.FILL_STROKE?(Pn.fillColor!==on.fillColor&&Pn.tspan.setAttributeNS(null,"fill",Pn.fillColor),Pn.fillAlpha<1&&Pn.tspan.setAttributeNS(null,"fill-opacity",Pn.fillAlpha)):Pn.textRenderingMode===tn.TextRenderingMode.ADD_TO_PATH?Pn.tspan.setAttributeNS(null,"fill","transparent"):Pn.tspan.setAttributeNS(null,"fill","none"),ur===tn.TextRenderingMode.STROKE||ur===tn.TextRenderingMode.FILL_STROKE){const Lr=1/(Pn.textMatrixScale||1);this._setStrokeAttributes(Pn.tspan,Lr)}let pr=Pn.textMatrix;Pn.textRise!==0&&(pr=pr.slice(),pr[5]+=Pn.textRise),Pn.txtElement.setAttributeNS(null,"transform",`${pn(pr)} scale(${wn(er)}, -1)`),Pn.txtElement.setAttributeNS(un,"xml:space","preserve"),Pn.txtElement.append(Pn.tspan),Pn.txtgrp.append(Pn.txtElement),this._ensureTransformGroup().append(Pn.txtElement)}setLeadingMoveText(xn,Pn){this.setLeading(-Pn),this.moveText(xn,Pn)}addFontStyle(xn){if(!xn.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Pn=mn(xn.data,xn.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${xn.loadedName}"; src: url(${Pn}); }
`}setFont(xn){const Pn=this.current,In=this.commonObjs.get(xn[0]);let On=xn[1];Pn.font=In,this.embedFonts&&!In.missingFile&&!this.embeddedFonts[In.loadedName]&&(this.addFontStyle(In),this.embeddedFonts[In.loadedName]=In),Pn.fontMatrix=In.fontMatrix||tn.FONT_IDENTITY_MATRIX;let Wn="normal";In.black?Wn="900":In.bold&&(Wn="bold");const zn=In.italic?"italic":"normal";On<0?(On=-On,Pn.fontDirection=-1):Pn.fontDirection=1,Pn.fontSize=On,Pn.fontFamily=In.loadedName,Pn.fontWeight=Wn,Pn.fontStyle=zn,Pn.tspan=this.svgFactory.createElement("svg:tspan"),Pn.tspan.setAttributeNS(null,"y",wn(-Pn.y)),Pn.xcoords=[],Pn.ycoords=[]}endText(){var Pn;const xn=this.current;xn.textRenderingMode&tn.TextRenderingMode.ADD_TO_PATH_FLAG&&((Pn=xn.txtElement)==null?void 0:Pn.hasChildNodes())&&(xn.element=xn.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(xn){xn>0&&(this.current.lineWidth=xn)}setLineCap(xn){this.current.lineCap=dn[xn]}setLineJoin(xn){this.current.lineJoin=Sn[xn]}setMiterLimit(xn){this.current.miterLimit=xn}setStrokeAlpha(xn){this.current.strokeAlpha=xn}setStrokeRGBColor(xn,Pn,In){this.current.strokeColor=tn.Util.makeHexColor(xn,Pn,In)}setFillAlpha(xn){this.current.fillAlpha=xn}setFillRGBColor(xn,Pn,In){this.current.fillColor=tn.Util.makeHexColor(xn,Pn,In),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(xn){this.current.strokeColor=this._makeColorN_Pattern(xn)}setFillColorN(xn){this.current.fillColor=this._makeColorN_Pattern(xn)}shadingFill(xn){const Pn=this.viewport.width,In=this.viewport.height,On=tn.Util.inverseTransform(this.transformMatrix),Wn=tn.Util.applyTransform([0,0],On),zn=tn.Util.applyTransform([0,In],On),Mn=tn.Util.applyTransform([Pn,0],On),Gn=tn.Util.applyTransform([Pn,In],On),er=Math.min(Wn[0],zn[0],Mn[0],Gn[0]),Qn=Math.min(Wn[1],zn[1],Mn[1],Gn[1]),ar=Math.max(Wn[0],zn[0],Mn[0],Gn[0]),tr=Math.max(Wn[1],zn[1],Mn[1],Gn[1]),or=this.svgFactory.createElement("svg:rect");or.setAttributeNS(null,"x",er),or.setAttributeNS(null,"y",Qn),or.setAttributeNS(null,"width",ar-er),or.setAttributeNS(null,"height",tr-Qn),or.setAttributeNS(null,"fill",this._makeShadingPattern(xn)),this.current.fillAlpha<1&&or.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(or)}_makeColorN_Pattern(xn){return xn[0]==="TilingPattern"?this._makeTilingPattern(xn):this._makeShadingPattern(xn)}_makeTilingPattern(xn){const Pn=xn[1],In=xn[2],On=xn[3]||tn.IDENTITY_MATRIX,[Wn,zn,Mn,Gn]=xn[4],er=xn[5],Qn=xn[6],ar=xn[7],tr=`shading${kn++}`,[or,Yn,ur,pr]=tn.Util.normalizeRect([...tn.Util.applyTransform([Wn,zn],On),...tn.Util.applyTransform([Mn,Gn],On)]),[Lr,Fn]=tn.Util.singularValueDecompose2dScale(On),Rn=er*Lr,Tn=Qn*Fn,Bn=this.svgFactory.createElement("svg:pattern");Bn.setAttributeNS(null,"id",tr),Bn.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Bn.setAttributeNS(null,"width",Rn),Bn.setAttributeNS(null,"height",Tn),Bn.setAttributeNS(null,"x",`${or}`),Bn.setAttributeNS(null,"y",`${Yn}`);const Hn=this.svg,Kn=this.transformMatrix,nr=this.current.fillColor,ir=this.current.strokeColor,_r=this.svgFactory.create(ur-or,pr-Yn);if(this.svg=_r,this.transformMatrix=On,ar===2){const Cr=tn.Util.makeHexColor(...Pn);this.current.fillColor=Cr,this.current.strokeColor=Cr}return this.executeOpTree(this.convertOpList(In)),this.svg=Hn,this.transformMatrix=Kn,this.current.fillColor=nr,this.current.strokeColor=ir,Bn.append(_r.childNodes[0]),this.defs.append(Bn),`url(#${tr})`}_makeShadingPattern(xn){switch(typeof xn=="string"&&(xn=this.objs.get(xn)),xn[0]){case"RadialAxial":const Pn=`shading${kn++}`,In=xn[3];let On;switch(xn[1]){case"axial":const Wn=xn[4],zn=xn[5];On=this.svgFactory.createElement("svg:linearGradient"),On.setAttributeNS(null,"id",Pn),On.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),On.setAttributeNS(null,"x1",Wn[0]),On.setAttributeNS(null,"y1",Wn[1]),On.setAttributeNS(null,"x2",zn[0]),On.setAttributeNS(null,"y2",zn[1]);break;case"radial":const Mn=xn[4],Gn=xn[5],er=xn[6],Qn=xn[7];On=this.svgFactory.createElement("svg:radialGradient"),On.setAttributeNS(null,"id",Pn),On.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),On.setAttributeNS(null,"cx",Gn[0]),On.setAttributeNS(null,"cy",Gn[1]),On.setAttributeNS(null,"r",Qn),On.setAttributeNS(null,"fx",Mn[0]),On.setAttributeNS(null,"fy",Mn[1]),On.setAttributeNS(null,"fr",er);break;default:throw new Error(`Unknown RadialAxial type: ${xn[1]}`)}for(const Wn of In){const zn=this.svgFactory.createElement("svg:stop");zn.setAttributeNS(null,"offset",Wn[0]),zn.setAttributeNS(null,"stop-color",Wn[1]),On.append(zn)}return this.defs.append(On),`url(#${Pn})`;case"Mesh":return(0,tn.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${xn[0]}`)}}setDash(xn,Pn){this.current.dashArray=xn,this.current.dashPhase=Pn}constructPath(xn,Pn){const In=this.current;let On=In.x,Wn=In.y,zn=[],Mn=0;for(const Gn of xn)switch(Gn|0){case tn.OPS.rectangle:On=Pn[Mn++],Wn=Pn[Mn++];const er=Pn[Mn++],Qn=Pn[Mn++],ar=On+er,tr=Wn+Qn;zn.push("M",wn(On),wn(Wn),"L",wn(ar),wn(Wn),"L",wn(ar),wn(tr),"L",wn(On),wn(tr),"Z");break;case tn.OPS.moveTo:On=Pn[Mn++],Wn=Pn[Mn++],zn.push("M",wn(On),wn(Wn));break;case tn.OPS.lineTo:On=Pn[Mn++],Wn=Pn[Mn++],zn.push("L",wn(On),wn(Wn));break;case tn.OPS.curveTo:On=Pn[Mn+4],Wn=Pn[Mn+5],zn.push("C",wn(Pn[Mn]),wn(Pn[Mn+1]),wn(Pn[Mn+2]),wn(Pn[Mn+3]),wn(On),wn(Wn)),Mn+=6;break;case tn.OPS.curveTo2:zn.push("C",wn(On),wn(Wn),wn(Pn[Mn]),wn(Pn[Mn+1]),wn(Pn[Mn+2]),wn(Pn[Mn+3])),On=Pn[Mn+2],Wn=Pn[Mn+3],Mn+=4;break;case tn.OPS.curveTo3:On=Pn[Mn+2],Wn=Pn[Mn+3],zn.push("C",wn(Pn[Mn]),wn(Pn[Mn+1]),wn(On),wn(Wn),wn(On),wn(Wn)),Mn+=4;break;case tn.OPS.closePath:zn.push("Z");break}zn=zn.join(" "),In.path&&xn.length>0&&xn[0]!==tn.OPS.rectangle&&xn[0]!==tn.OPS.moveTo?zn=In.path.getAttributeNS(null,"d")+zn:(In.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(In.path)),In.path.setAttributeNS(null,"d",zn),In.path.setAttributeNS(null,"fill","none"),In.element=In.path,In.setCurrentPoint(On,Wn)}endPath(){const xn=this.current;if(xn.path=null,!this.pendingClip)return;if(!xn.element){this.pendingClip=null;return}const Pn=`clippath${yn++}`,In=this.svgFactory.createElement("svg:clipPath");In.setAttributeNS(null,"id",Pn),In.setAttributeNS(null,"transform",pn(this.transformMatrix));const On=xn.element.cloneNode(!0);if(this.pendingClip==="evenodd"?On.setAttributeNS(null,"clip-rule","evenodd"):On.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,In.append(On),this.defs.append(In),xn.activeClipUrl){xn.clipGroup=null;for(const Wn of this.extraStack)Wn.clipGroup=null;In.setAttributeNS(null,"clip-path",xn.activeClipUrl)}xn.activeClipUrl=`url(#${Pn})`,this.tgrp=null}clip(xn){this.pendingClip=xn}closePath(){const xn=this.current;if(xn.path){const Pn=`${xn.path.getAttributeNS(null,"d")}Z`;xn.path.setAttributeNS(null,"d",Pn)}}setLeading(xn){this.current.leading=-xn}setTextRise(xn){this.current.textRise=xn}setTextRenderingMode(xn){this.current.textRenderingMode=xn}setHScale(xn){this.current.textHScale=xn/100}setRenderingIntent(xn){}setFlatness(xn){}setGState(xn){for(const[Pn,In]of xn)switch(Pn){case"LW":this.setLineWidth(In);break;case"LC":this.setLineCap(In);break;case"LJ":this.setLineJoin(In);break;case"ML":this.setMiterLimit(In);break;case"D":this.setDash(In[0],In[1]);break;case"RI":this.setRenderingIntent(In);break;case"FL":this.setFlatness(In);break;case"Font":this.setFont(In);break;case"CA":this.setStrokeAlpha(In);break;case"ca":this.setFillAlpha(In);break;default:(0,tn.warn)(`Unimplemented graphic state operator ${Pn}`);break}}fill(){const xn=this.current;xn.element&&(xn.element.setAttributeNS(null,"fill",xn.fillColor),xn.element.setAttributeNS(null,"fill-opacity",xn.fillAlpha),this.endPath())}stroke(){const xn=this.current;xn.element&&(this._setStrokeAttributes(xn.element),xn.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(xn,Pn=1){const In=this.current;let On=In.dashArray;Pn!==1&&On.length>0&&(On=On.map(function(Wn){return Pn*Wn})),xn.setAttributeNS(null,"stroke",In.strokeColor),xn.setAttributeNS(null,"stroke-opacity",In.strokeAlpha),xn.setAttributeNS(null,"stroke-miterlimit",wn(In.miterLimit)),xn.setAttributeNS(null,"stroke-linecap",In.lineCap),xn.setAttributeNS(null,"stroke-linejoin",In.lineJoin),xn.setAttributeNS(null,"stroke-width",wn(Pn*In.lineWidth)+"px"),xn.setAttributeNS(null,"stroke-dasharray",On.map(wn).join(" ")),xn.setAttributeNS(null,"stroke-dashoffset",wn(Pn*In.dashPhase)+"px")}eoFill(){var xn;(xn=this.current.element)==null||xn.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var xn;(xn=this.current.element)==null||xn.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const xn=this.svgFactory.createElement("svg:rect");xn.setAttributeNS(null,"x","0"),xn.setAttributeNS(null,"y","0"),xn.setAttributeNS(null,"width","1px"),xn.setAttributeNS(null,"height","1px"),xn.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(xn)}paintImageXObject(xn){const Pn=this.getObject(xn);if(!Pn){(0,tn.warn)(`Dependent image with object ID ${xn} is not ready yet`);return}this.paintInlineImageXObject(Pn)}paintInlineImageXObject(xn,Pn){const In=xn.width,On=xn.height,Wn=fn(xn,this.forceDataSchema,!!Pn),zn=this.svgFactory.createElement("svg:rect");zn.setAttributeNS(null,"x","0"),zn.setAttributeNS(null,"y","0"),zn.setAttributeNS(null,"width",wn(In)),zn.setAttributeNS(null,"height",wn(On)),this.current.element=zn,this.clip("nonzero");const Mn=this.svgFactory.createElement("svg:image");Mn.setAttributeNS(cn,"xlink:href",Wn),Mn.setAttributeNS(null,"x","0"),Mn.setAttributeNS(null,"y",wn(-On)),Mn.setAttributeNS(null,"width",wn(In)+"px"),Mn.setAttributeNS(null,"height",wn(On)+"px"),Mn.setAttributeNS(null,"transform",`scale(${wn(1/In)} ${wn(-1/On)})`),Pn?Pn.append(Mn):this._ensureTransformGroup().append(Mn)}paintImageMaskXObject(xn){const Pn=this.getObject(xn.data,xn);if(Pn.bitmap){(0,tn.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const In=this.current,On=Pn.width,Wn=Pn.height,zn=In.fillColor;In.maskId=`mask${An++}`;const Mn=this.svgFactory.createElement("svg:mask");Mn.setAttributeNS(null,"id",In.maskId);const Gn=this.svgFactory.createElement("svg:rect");Gn.setAttributeNS(null,"x","0"),Gn.setAttributeNS(null,"y","0"),Gn.setAttributeNS(null,"width",wn(On)),Gn.setAttributeNS(null,"height",wn(Wn)),Gn.setAttributeNS(null,"fill",zn),Gn.setAttributeNS(null,"mask",`url(#${In.maskId})`),this.defs.append(Mn),this._ensureTransformGroup().append(Gn),this.paintInlineImageXObject(Pn,Mn)}paintFormXObjectBegin(xn,Pn){if(Array.isArray(xn)&&xn.length===6&&this.transform(xn[0],xn[1],xn[2],xn[3],xn[4],xn[5]),Pn){const In=Pn[2]-Pn[0],On=Pn[3]-Pn[1],Wn=this.svgFactory.createElement("svg:rect");Wn.setAttributeNS(null,"x",Pn[0]),Wn.setAttributeNS(null,"y",Pn[1]),Wn.setAttributeNS(null,"width",wn(In)),Wn.setAttributeNS(null,"height",wn(On)),this.current.element=Wn,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(xn){const Pn=this.svgFactory.create(xn.width,xn.height),In=this.svgFactory.createElement("svg:defs");Pn.append(In),this.defs=In;const On=this.svgFactory.createElement("svg:g");return On.setAttributeNS(null,"transform",pn(xn.transform)),Pn.append(On),this.svg=On,Pn}_ensureClipGroup(){if(!this.current.clipGroup){const xn=this.svgFactory.createElement("svg:g");xn.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(xn),this.current.clipGroup=xn}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",pn(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(_e,e,St)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var en=St(1),tn=St(32);const nn=require$$5,rn=require$$5,on=require$$5,un=require$$5,cn=/^file:\/\/\/[a-zA-Z]:\//;function dn(An){const kn=un.parse(An);return kn.protocol==="file:"||kn.host?kn:/^[a-z]:[/\\]/i.test(An)?un.parse(`file:///${An}`):(kn.host||(kn.protocol="file:"),kn)}class Sn{constructor(kn){this.source=kn,this.url=dn(kn.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&kn.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var kn,xn;return(xn=(kn=this._fullRequestReader)==null?void 0:kn._loaded)!=null?xn:0}getFullReader(){return(0,en.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new pn(this):new bn(this),this._fullRequestReader}getRangeReader(kn,xn){if(xn<=this._progressiveDataLength)return null;const Pn=this.isFsUrl?new yn(this,kn,xn):new wn(this,kn,xn);return this._rangeRequestReaders.push(Pn),Pn}cancelAllRequests(kn){var xn;(xn=this._fullRequestReader)==null||xn.cancel(kn);for(const Pn of this._rangeRequestReaders.slice(0))Pn.cancel(kn)}}e.PDFNodeStream=Sn;class mn{constructor(kn){this._url=kn.url,this._done=!1,this._storedError=null,this.onProgress=null;const xn=kn.source;this._contentLength=xn.length,this._loaded=0,this._filename=null,this._disableRange=xn.disableRange||!1,this._rangeChunkSize=xn.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!xn.disableStream,this._isRangeSupported=!xn.disableRange,this._readableStream=null,this._readCapability=(0,en.createPromiseCapability)(),this._headersCapability=(0,en.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Pn;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const kn=this._readableStream.read();return kn===null?(this._readCapability=(0,en.createPromiseCapability)(),this.read()):(this._loaded+=kn.length,(Pn=this.onProgress)==null||Pn.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(kn).buffer,done:!1})}cancel(kn){if(!this._readableStream){this._error(kn);return}this._readableStream.destroy(kn)}_error(kn){this._storedError=kn,this._readCapability.resolve()}_setReadableStream(kn){this._readableStream=kn,kn.on("readable",()=>{this._readCapability.resolve()}),kn.on("end",()=>{kn.destroy(),this._done=!0,this._readCapability.resolve()}),kn.on("error",xn=>{this._error(xn)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new en.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class fn{constructor(kn){this._url=kn.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,en.createPromiseCapability)();const xn=kn.source;this._isStreamingSupported=!xn.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Pn;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const kn=this._readableStream.read();return kn===null?(this._readCapability=(0,en.createPromiseCapability)(),this.read()):(this._loaded+=kn.length,(Pn=this.onProgress)==null||Pn.call(this,{loaded:this._loaded}),{value:new Uint8Array(kn).buffer,done:!1})}cancel(kn){if(!this._readableStream){this._error(kn);return}this._readableStream.destroy(kn)}_error(kn){this._storedError=kn,this._readCapability.resolve()}_setReadableStream(kn){this._readableStream=kn,kn.on("readable",()=>{this._readCapability.resolve()}),kn.on("end",()=>{kn.destroy(),this._done=!0,this._readCapability.resolve()}),kn.on("error",xn=>{this._error(xn)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function vn(An,kn){return{protocol:An.protocol,auth:An.auth,host:An.hostname,port:An.port,path:An.path,method:"GET",headers:kn}}class bn extends mn{constructor(kn){super(kn);const xn=Pn=>{if(Pn.statusCode===404){const zn=new en.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=zn,this._headersCapability.reject(zn);return}this._headersCapability.resolve(),this._setReadableStream(Pn);const In=zn=>this._readableStream.headers[zn.toLowerCase()],{allowRangeRequests:On,suggestedLength:Wn}=(0,tn.validateRangeRequestCapabilities)({getResponseHeader:In,isHttp:kn.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=On,this._contentLength=Wn||this._contentLength,this._filename=(0,tn.extractFilenameFromHeader)(In)};this._request=null,this._url.protocol==="http:"?this._request=rn.request(vn(this._url,kn.httpHeaders),xn):this._request=on.request(vn(this._url,kn.httpHeaders),xn),this._request.on("error",Pn=>{this._storedError=Pn,this._headersCapability.reject(Pn)}),this._request.end()}}class wn extends fn{constructor(kn,xn,Pn){super(kn),this._httpHeaders={};for(const On in kn.httpHeaders){const Wn=kn.httpHeaders[On];typeof Wn>"u"||(this._httpHeaders[On]=Wn)}this._httpHeaders.Range=`bytes=${xn}-${Pn-1}`;const In=On=>{if(On.statusCode===404){const Wn=new en.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Wn;return}this._setReadableStream(On)};this._request=null,this._url.protocol==="http:"?this._request=rn.request(vn(this._url,this._httpHeaders),In):this._request=on.request(vn(this._url,this._httpHeaders),In),this._request.on("error",On=>{this._storedError=On}),this._request.end()}}class pn extends mn{constructor(kn){super(kn);let xn=decodeURIComponent(this._url.path);cn.test(this._url.href)&&(xn=xn.replace(/^\//,"")),nn.lstat(xn,(Pn,In)=>{if(Pn){Pn.code==="ENOENT"&&(Pn=new en.MissingPDFException(`Missing PDF "${xn}".`)),this._storedError=Pn,this._headersCapability.reject(Pn);return}this._contentLength=In.size,this._setReadableStream(nn.createReadStream(xn)),this._headersCapability.resolve()})}}class yn extends fn{constructor(kn,xn,Pn){super(kn);let In=decodeURIComponent(this._url.path);cn.test(this._url.href)&&(In=In.replace(/^\//,"")),this._setReadableStream(nn.createReadStream(In,{start:xn,end:Pn-1}))}}},(_e,e,St)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=un,e.extractFilenameFromHeader=on,e.validateRangeRequestCapabilities=rn,e.validateResponseStatus=cn;var en=St(1),tn=St(33),nn=St(6);function rn({getResponseHeader:dn,isHttp:Sn,rangeChunkSize:mn,disableRange:fn}){const vn={allowRangeRequests:!1,suggestedLength:void 0},bn=parseInt(dn("Content-Length"),10);return!Number.isInteger(bn)||(vn.suggestedLength=bn,bn<=2*mn)||fn||!Sn||dn("Accept-Ranges")!=="bytes"||(dn("Content-Encoding")||"identity")!=="identity"||(vn.allowRangeRequests=!0),vn}function on(dn){const Sn=dn("Content-Disposition");if(Sn){let mn=(0,tn.getFilenameFromContentDispositionHeader)(Sn);if(mn.includes("%"))try{mn=decodeURIComponent(mn)}catch{}if((0,nn.isPdfFile)(mn))return mn}return null}function un(dn,Sn){return dn===404||dn===0&&Sn.startsWith("file:")?new en.MissingPDFException('Missing PDF "'+Sn+'".'):new en.UnexpectedResponseException(`Unexpected server response (${dn}) while retrieving PDF "${Sn}".`,dn)}function cn(dn){return dn===200||dn===206}},(_e,e,St)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=tn;var en=St(1);function tn(nn){let rn=!0,on=un("filename\\*","i").exec(nn);if(on){on=on[1];let bn=mn(on);return bn=unescape(bn),bn=fn(bn),bn=vn(bn),dn(bn)}if(on=Sn(nn),on){const bn=vn(on);return dn(bn)}if(on=un("filename","i").exec(nn),on){on=on[1];let bn=mn(on);return bn=vn(bn),dn(bn)}function un(bn,wn){return new RegExp("(?:^|;)\\s*"+bn+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',wn)}function cn(bn,wn){if(bn){if(!/^[\x00-\xFF]+$/.test(wn))return wn;try{const pn=new TextDecoder(bn,{fatal:!0}),yn=(0,en.stringToBytes)(wn);wn=pn.decode(yn),rn=!1}catch{}}return wn}function dn(bn){return rn&&/[\x80-\xff]/.test(bn)&&(bn=cn("utf-8",bn),rn&&(bn=cn("iso-8859-1",bn))),bn}function Sn(bn){const wn=[];let pn;const yn=un("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(pn=yn.exec(bn))!==null;){let[,kn,xn,Pn]=pn;if(kn=parseInt(kn,10),kn in wn){if(kn===0)break;continue}wn[kn]=[xn,Pn]}const An=[];for(let kn=0;kn<wn.length&&kn in wn;++kn){let[xn,Pn]=wn[kn];Pn=mn(Pn),xn&&(Pn=unescape(Pn),kn===0&&(Pn=fn(Pn))),An.push(Pn)}return An.join("")}function mn(bn){if(bn.startsWith('"')){const wn=bn.slice(1).split('\\"');for(let pn=0;pn<wn.length;++pn){const yn=wn[pn].indexOf('"');yn!==-1&&(wn[pn]=wn[pn].slice(0,yn),wn.length=pn+1),wn[pn]=wn[pn].replace(/\\(.)/g,"$1")}bn=wn.join('"')}return bn}function fn(bn){const wn=bn.indexOf("'");if(wn===-1)return bn;const pn=bn.slice(0,wn),An=bn.slice(wn+1).replace(/^[^']*'/,"");return cn(pn,An)}function vn(bn){return!bn.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(bn)?bn:bn.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(wn,pn,yn,An){if(yn==="q"||yn==="Q")return An=An.replace(/_/g," "),An=An.replace(/=([0-9a-fA-F]{2})/g,function(kn,xn){return String.fromCharCode(parseInt(xn,16))}),cn(pn,An);try{An=atob(An)}catch{}return cn(pn,An)})}return""}},(_e,e,St)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var en=St(1),tn=St(32);const nn=200,rn=206;function on(mn){const fn=mn.response;return typeof fn!="string"?fn:(0,en.stringToBytes)(fn).buffer}class un{constructor(fn,vn={}){this.url=fn,this.isHttp=/^https?:/i.test(fn),this.httpHeaders=this.isHttp&&vn.httpHeaders||Object.create(null),this.withCredentials=vn.withCredentials||!1,this.getXhr=vn.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(fn,vn,bn){const wn={begin:fn,end:vn};for(const pn in bn)wn[pn]=bn[pn];return this.request(wn)}requestFull(fn){return this.request(fn)}request(fn){const vn=this.getXhr(),bn=this.currXhrId++,wn=this.pendingRequests[bn]={xhr:vn};vn.open("GET",this.url),vn.withCredentials=this.withCredentials;for(const pn in this.httpHeaders){const yn=this.httpHeaders[pn];typeof yn>"u"||vn.setRequestHeader(pn,yn)}return this.isHttp&&"begin"in fn&&"end"in fn?(vn.setRequestHeader("Range",`bytes=${fn.begin}-${fn.end-1}`),wn.expectedStatus=rn):wn.expectedStatus=nn,vn.responseType="arraybuffer",fn.onError&&(vn.onerror=function(pn){fn.onError(vn.status)}),vn.onreadystatechange=this.onStateChange.bind(this,bn),vn.onprogress=this.onProgress.bind(this,bn),wn.onHeadersReceived=fn.onHeadersReceived,wn.onDone=fn.onDone,wn.onError=fn.onError,wn.onProgress=fn.onProgress,vn.send(null),bn}onProgress(fn,vn){var wn;const bn=this.pendingRequests[fn];!bn||(wn=bn.onProgress)==null||wn.call(bn,vn)}onStateChange(fn,vn){var kn,xn,Pn;const bn=this.pendingRequests[fn];if(!bn)return;const wn=bn.xhr;if(wn.readyState>=2&&bn.onHeadersReceived&&(bn.onHeadersReceived(),delete bn.onHeadersReceived),wn.readyState!==4||!(fn in this.pendingRequests))return;if(delete this.pendingRequests[fn],wn.status===0&&this.isHttp){(kn=bn.onError)==null||kn.call(bn,wn.status);return}const pn=wn.status||nn;if(!(pn===nn&&bn.expectedStatus===rn)&&pn!==bn.expectedStatus){(xn=bn.onError)==null||xn.call(bn,wn.status);return}const An=on(wn);if(pn===rn){const In=wn.getResponseHeader("Content-Range"),On=/bytes (\d+)-(\d+)\/(\d+)/.exec(In);bn.onDone({begin:parseInt(On[1],10),chunk:An})}else An?bn.onDone({begin:0,chunk:An}):(Pn=bn.onError)==null||Pn.call(bn,wn.status)}getRequestXhr(fn){return this.pendingRequests[fn].xhr}isPendingRequest(fn){return fn in this.pendingRequests}abortRequest(fn){const vn=this.pendingRequests[fn].xhr;delete this.pendingRequests[fn],vn.abort()}}class cn{constructor(fn){this._source=fn,this._manager=new un(fn.url,{httpHeaders:fn.httpHeaders,withCredentials:fn.withCredentials}),this._rangeChunkSize=fn.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(fn){const vn=this._rangeRequestReaders.indexOf(fn);vn>=0&&this._rangeRequestReaders.splice(vn,1)}getFullReader(){return(0,en.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new dn(this._manager,this._source),this._fullRequestReader}getRangeReader(fn,vn){const bn=new Sn(this._manager,fn,vn);return bn.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(bn),bn}cancelAllRequests(fn){var vn;(vn=this._fullRequestReader)==null||vn.cancel(fn);for(const bn of this._rangeRequestReaders.slice(0))bn.cancel(fn)}}e.PDFNetworkStream=cn;class dn{constructor(fn,vn){this._manager=fn;const bn={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=vn.url,this._fullRequestId=fn.requestFull(bn),this._headersReceivedCapability=(0,en.createPromiseCapability)(),this._disableRange=vn.disableRange||!1,this._contentLength=vn.length,this._rangeChunkSize=vn.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const fn=this._fullRequestId,vn=this._manager.getRequestXhr(fn),bn=yn=>vn.getResponseHeader(yn),{allowRangeRequests:wn,suggestedLength:pn}=(0,tn.validateRangeRequestCapabilities)({getResponseHeader:bn,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});wn&&(this._isRangeSupported=!0),this._contentLength=pn||this._contentLength,this._filename=(0,tn.extractFilenameFromHeader)(bn),this._isRangeSupported&&this._manager.abortRequest(fn),this._headersReceivedCapability.resolve()}_onDone(fn){if(fn&&(this._requests.length>0?this._requests.shift().resolve({value:fn.chunk,done:!1}):this._cachedChunks.push(fn.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const vn of this._requests)vn.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(fn){this._storedError=(0,tn.createResponseStatusError)(fn,this._url),this._headersReceivedCapability.reject(this._storedError);for(const vn of this._requests)vn.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(fn){var vn;(vn=this.onProgress)==null||vn.call(this,{loaded:fn.loaded,total:fn.lengthComputable?fn.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const fn=(0,en.createPromiseCapability)();return this._requests.push(fn),fn.promise}cancel(fn){this._done=!0,this._headersReceivedCapability.reject(fn);for(const vn of this._requests)vn.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Sn{constructor(fn,vn,bn){this._manager=fn;const wn={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=fn.url,this._requestId=fn.requestRange(vn,bn,wn),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var fn;(fn=this.onClosed)==null||fn.call(this,this)}_onDone(fn){const vn=fn.chunk;this._requests.length>0?this._requests.shift().resolve({value:vn,done:!1}):this._queuedChunk=vn,this._done=!0;for(const bn of this._requests)bn.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(fn){this._storedError=(0,tn.createResponseStatusError)(fn,this._url);for(const vn of this._requests)vn.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(fn){var vn;this.isStreamingSupported||(vn=this.onProgress)==null||vn.call(this,{loaded:fn.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const vn=this._queuedChunk;return this._queuedChunk=null,{value:vn,done:!1}}if(this._done)return{value:void 0,done:!0};const fn=(0,en.createPromiseCapability)();return this._requests.push(fn),fn.promise}cancel(fn){this._done=!0;for(const vn of this._requests)vn.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(_e,e,St)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var en=St(1),tn=St(32);function nn(dn,Sn,mn){return{method:"GET",headers:dn,signal:mn.signal,mode:"cors",credentials:Sn?"include":"same-origin",redirect:"follow"}}function rn(dn){const Sn=new Headers;for(const mn in dn){const fn=dn[mn];typeof fn>"u"||Sn.append(mn,fn)}return Sn}class on{constructor(Sn){this.source=Sn,this.isHttp=/^https?:/i.test(Sn.url),this.httpHeaders=this.isHttp&&Sn.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Sn,mn;return(mn=(Sn=this._fullRequestReader)==null?void 0:Sn._loaded)!=null?mn:0}getFullReader(){return(0,en.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new un(this),this._fullRequestReader}getRangeReader(Sn,mn){if(mn<=this._progressiveDataLength)return null;const fn=new cn(this,Sn,mn);return this._rangeRequestReaders.push(fn),fn}cancelAllRequests(Sn){var mn;(mn=this._fullRequestReader)==null||mn.cancel(Sn);for(const fn of this._rangeRequestReaders.slice(0))fn.cancel(Sn)}}e.PDFFetchStream=on;class un{constructor(Sn){this._stream=Sn,this._reader=null,this._loaded=0,this._filename=null;const mn=Sn.source;this._withCredentials=mn.withCredentials||!1,this._contentLength=mn.length,this._headersCapability=(0,en.createPromiseCapability)(),this._disableRange=mn.disableRange||!1,this._rangeChunkSize=mn.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!mn.disableStream,this._isRangeSupported=!mn.disableRange,this._headers=rn(this._stream.httpHeaders);const fn=mn.url;fetch(fn,nn(this._headers,this._withCredentials,this._abortController)).then(vn=>{if(!(0,tn.validateResponseStatus)(vn.status))throw(0,tn.createResponseStatusError)(vn.status,fn);this._reader=vn.body.getReader(),this._headersCapability.resolve();const bn=yn=>vn.headers.get(yn),{allowRangeRequests:wn,suggestedLength:pn}=(0,tn.validateRangeRequestCapabilities)({getResponseHeader:bn,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=wn,this._contentLength=pn||this._contentLength,this._filename=(0,tn.extractFilenameFromHeader)(bn),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new en.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vn;await this._headersCapability.promise;const{value:Sn,done:mn}=await this._reader.read();return mn?{value:Sn,done:mn}:(this._loaded+=Sn.byteLength,(vn=this.onProgress)==null||vn.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Sn).buffer,done:!1})}cancel(Sn){var mn;(mn=this._reader)==null||mn.cancel(Sn),this._abortController.abort()}}class cn{constructor(Sn,mn,fn){this._stream=Sn,this._reader=null,this._loaded=0;const vn=Sn.source;this._withCredentials=vn.withCredentials||!1,this._readCapability=(0,en.createPromiseCapability)(),this._isStreamingSupported=!vn.disableStream,this._abortController=new AbortController,this._headers=rn(this._stream.httpHeaders),this._headers.append("Range",`bytes=${mn}-${fn-1}`);const bn=vn.url;fetch(bn,nn(this._headers,this._withCredentials,this._abortController)).then(wn=>{if(!(0,tn.validateResponseStatus)(wn.status))throw(0,tn.createResponseStatusError)(wn.status,bn);this._readCapability.resolve(),this._reader=wn.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vn;await this._readCapability.promise;const{value:Sn,done:mn}=await this._reader.read();return mn?{value:Sn,done:mn}:(this._loaded+=Sn.byteLength,(vn=this.onProgress)==null||vn.call(this,{loaded:this._loaded}),{value:new Uint8Array(Sn).buffer,done:!1})}cancel(Sn){var mn;(mn=this._reader)==null||mn.cancel(Sn),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(_e){var e=__webpack_module_cache__[_e];if(e!==void 0)return e.exports;var St=__webpack_module_cache__[_e]={exports:{}};return __webpack_modules__[_e](St,St.exports,__w_pdfjs_require__),St.exports}var __webpack_exports__={};return(()=>{var _e=__webpack_exports__;Object.defineProperty(_e,"__esModule",{value:!0}),Object.defineProperty(_e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return tn.AnnotationEditorLayer}}),Object.defineProperty(_e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(_e,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(_e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return nn.AnnotationEditorUIManager}}),Object.defineProperty(_e,"AnnotationLayer",{enumerable:!0,get:function(){return rn.AnnotationLayer}}),Object.defineProperty(_e,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(_e,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(_e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return on.GlobalWorkerOptions}}),Object.defineProperty(_e,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(_e,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(_e,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(_e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return St.PDFDataRangeTransport}}),Object.defineProperty(_e,"PDFDateString",{enumerable:!0,get:function(){return en.PDFDateString}}),Object.defineProperty(_e,"PDFWorker",{enumerable:!0,get:function(){return St.PDFWorker}}),Object.defineProperty(_e,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(_e,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(_e,"PixelsPerInch",{enumerable:!0,get:function(){return en.PixelsPerInch}}),Object.defineProperty(_e,"RenderingCancelledException",{enumerable:!0,get:function(){return en.RenderingCancelledException}}),Object.defineProperty(_e,"SVGGraphics",{enumerable:!0,get:function(){return dn.SVGGraphics}}),Object.defineProperty(_e,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return e.UNSUPPORTED_FEATURES}}),Object.defineProperty(_e,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(_e,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(_e,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(_e,"XfaLayer",{enumerable:!0,get:function(){return Sn.XfaLayer}}),Object.defineProperty(_e,"build",{enumerable:!0,get:function(){return St.build}}),Object.defineProperty(_e,"createPromiseCapability",{enumerable:!0,get:function(){return e.createPromiseCapability}}),Object.defineProperty(_e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(_e,"getDocument",{enumerable:!0,get:function(){return St.getDocument}}),Object.defineProperty(_e,"getFilenameFromUrl",{enumerable:!0,get:function(){return en.getFilenameFromUrl}}),Object.defineProperty(_e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return en.getPdfFilenameFromUrl}}),Object.defineProperty(_e,"getXfaPageViewport",{enumerable:!0,get:function(){return en.getXfaPageViewport}}),Object.defineProperty(_e,"isPdfFile",{enumerable:!0,get:function(){return en.isPdfFile}}),Object.defineProperty(_e,"loadScript",{enumerable:!0,get:function(){return en.loadScript}}),Object.defineProperty(_e,"renderTextLayer",{enumerable:!0,get:function(){return cn.renderTextLayer}}),Object.defineProperty(_e,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(_e,"version",{enumerable:!0,get:function(){return St.version}});var e=__w_pdfjs_require__(1),St=__w_pdfjs_require__(2),en=__w_pdfjs_require__(6),tn=__w_pdfjs_require__(21),nn=__w_pdfjs_require__(5),rn=__w_pdfjs_require__(26),on=__w_pdfjs_require__(14),un=__w_pdfjs_require__(12),cn=__w_pdfjs_require__(29),dn=__w_pdfjs_require__(30),Sn=__w_pdfjs_require__(28);if(un.isNodeJS){const{PDFNodeStream:mn}=__w_pdfjs_require__(31);(0,St.setPDFNetworkStreamFactory)(fn=>new mn(fn))}else{const{PDFNetworkStream:mn}=__w_pdfjs_require__(34),{PDFFetchStream:fn}=__w_pdfjs_require__(35);(0,St.setPDFNetworkStreamFactory)(vn=>(0,en.isValidFetchUrl)(vn.url)?new fn(vn):new mn(vn))}})(),__webpack_exports__})())})(pdf);pdf.exports.GlobalWorkerOptions.workerSrc="/lib/pdf.worker.min.js";const base64pdfToCanvas=async _e=>{const e=atob(_e.replace(/.*base64,/,"")),en=await(await pdf.exports.getDocument({data:e}).promise).getPage(1),nn=en.getViewport({scale:1}).height,on=window.innerHeight/nn,un=en.getViewport({scale:on}),cn=document.createElement("canvas");cn.height=un.height,cn.width=un.width;const dn=cn.getContext("2d");return await en.render({canvasContext:dn,viewport:un}).promise,cn},Sign=({insertSign:_e})=>{const e=react.exports.useRef(null),St=react.exports.useRef(!1),[en,tn]=react.exports.useState([]),nn=()=>{if(St.current=!0,!e.current)return;const dn=e.current.getPointerPosition();!dn||tn([...en,[dn.x,dn.y]])},rn=()=>{if(!St.current||!e.current)return;const dn=e.current.getPointerPosition();if(!dn)return;let Sn=en.at(-1);!Sn||(Sn=Sn.concat([dn.x,dn.y]),en.splice(-1,1,Sn),tn([...en]))},on=()=>{St.current=!1},un=()=>{!e.current||tn([])},cn=()=>{if(!e.current||en.length===0)return;tn([]);const dn=e.current.toCanvas();_e(dn)};return jsxs("div",{children:[jsx("h4",{className:"font-bold",children:"Sign"}),jsx(Stage,{ref:e,className:"border-2 border-black bg-white",width:window.innerWidth*.3-4,height:150,onMouseDown:nn,onMousemove:rn,onMouseup:on,children:jsx(Layer,{children:en.map((dn,Sn)=>jsx(Line,{points:dn,stroke:"#000",strokeWidth:3,tension:.1,lineCap:"round",lineJoin:"round"},Sn))})}),jsxs("div",{className:"mt-2 flex justify-end gap-2",children:[jsx("button",{onClick:cn,className:"rounded bg-white px-2 py-1 shadow",children:"insert"}),jsx("button",{onClick:un,className:"rounded bg-white px-2 py-1 shadow",children:"clear"})]})]})},TransformableImage=_e=>{const{imageAttr:e,isSelected:St,onSelect:en,onChange:tn}=_e,nn=react.exports.useRef(null),rn=react.exports.useRef(null);return react.exports.useEffect(()=>{if(St){if(!rn.current||!nn.current)return;rn.current.nodes([nn.current]);const cn=rn.current.getLayer();if(!cn)return;cn.batchDraw()}},[St]),jsxs(Fragment,{children:[jsx(Image$1,{...e,ref:nn,draggable:!0,onClick:en,onTap:en,onDragEnd:cn=>{tn({...e,x:cn.target.x(),y:cn.target.y()})},onTransformEnd:()=>{const cn=nn.current;if(!cn)return;const dn=cn.scaleX(),Sn=cn.scaleY();cn.scaleX(1),cn.scaleY(1),tn({...e,x:cn.x(),y:cn.y(),width:cn.width()*dn,height:cn.height()*Sn})}}),St&&jsx(Transformer,{ref:rn,boundBoxFunc:(cn,dn)=>dn.width<5||dn.height<5?cn:dn})]})};function App(){const _e=react.exports.useRef(null),[e,St]=react.exports.useState(0),[en,tn]=react.exports.useState(0),[nn,rn]=react.exports.useState(void 0),[on,un]=react.exports.useState([]),[cn,dn]=react.exports.useState(-1),Sn=async wn=>{if(wn.target&&wn.target.files){const pn=wn.target.files.item(0);if(pn.type!=="application/pdf")return alert("\u8ACB\u4E0A\u50B3 pdf \u985E\u578B\u6587\u4EF6");const yn=await fileTobase64(pn),An=await base64pdfToCanvas(yn);rn(An),St(An.width/window.devicePixelRatio),tn(An.height/window.devicePixelRatio)}},mn=wn=>{un([...on,{image:wn}])},fn=wn=>{wn.target.attrs.draggable||dn(-1)},vn=wn=>{wn.target.attrs.draggable||dn(-1)},bn=()=>{if(!_e.current)return;const wn=new E,pn=_e.current.toDataURL(),yn=wn.internal.pageSize.width,An=wn.internal.pageSize.height;wn.addImage(pn,"png",0,0,yn,An),wn.save("download.pdf")};return jsxs("div",{className:"grid h-screen grid-cols-[70%_30%]",children:[jsx(Stage,{ref:_e,width:e,height:en,className:"mx-auto",onMouseDown:fn,onTouchStart:vn,children:jsxs(Layer,{children:[jsx(Image$1,{image:nn}),on.map((wn,pn)=>jsx(TransformableImage,{imageAttr:wn,isSelected:pn===cn,onSelect:()=>{dn(pn)},onChange:yn=>{on[pn]=yn,un([...on])}},pn))]})}),jsxs("div",{children:[jsx("input",{type:"file",onChange:Sn,className:"mb-10"}),nn&&jsx(Sign,{insertSign:mn}),on.length>0&&jsx("button",{className:"mt-10 block h-8 w-full rounded bg-red-700 text-white shadow",onClick:bn,children:"download !"})]})]})}const index="";client.createRoot(document.getElementById("root")).render(jsx(React.StrictMode,{children:jsx(App,{})}));export{commonjsGlobal as c};
